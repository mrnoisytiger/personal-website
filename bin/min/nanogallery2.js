!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],e):e("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(e){jQuery.nanogallery2.data_flickr=function(e,t){function f(e,t,i){var n=1;!0===b.tn.opt[i].crop&&(n=b.O.thumbnailCropScaleFactor);for(var a=["xs","sm","me","la","xl"],r=0;r<a.length;r++)if("auto"==b.tn.settings.width[i][a[r]]||""==b.tn.settings.width[i][a[r]]){var o=u(l="height_",s=Math.ceil(b.tn.settings.height[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].h[a[r]]),t);e.url[i][a[r]]=o.url,e.width[i][a[r]]=o.width,e.height[i][a[r]]=o.height}else if("auto"==b.tn.settings.height[i][a[r]]||""==b.tn.settings.height[i][a[r]]){o=u(l="width_",s=Math.ceil(b.tn.settings.width[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].w[a[r]]),t);e.url[i][a[r]]=o.url,e.width[i][a[r]]=o.width,e.height[i][a[r]]=o.height}else{var l="height_",s=Math.ceil(b.tn.settings.height[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].h[a[r]]);b.tn.settings.width[i][a[r]]>b.tn.settings.height[i][a[r]]&&(l="width_",s=Math.ceil(b.tn.settings.width[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].w[a[r]]));o=u(l,s,t);e.url[i][a[r]]=o.url,e.width[i][a[r]]=o.width,e.height[i][a[r]]=o.height}return e}function u(e,t,i){for(var n={url:"",width:0,height:0},a=0,r=0;r<v.thumbAvailableSizes.length;r++){var o=i[e+v.photoAvailableSizesStr[r]];if(null!=o&&(a=r,t<=o))break}var l=v.photoAvailableSizesStr[a];return n.url=i["url_"+l],n.width=parseInt(i["width_"+l]),n.height=parseInt(i["height_"+l]),n}var b=e,v={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"               sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"0",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048,1e4),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k","o"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},p=NGY2Tools.PreloaderDisplay.bind(b),g=NGY2Tools.NanoAlert,y=NGY2Tools.GetImageTitleFromURL.bind(b),O=NGY2Tools.FilterAlbumName.bind(b),G=NGY2Tools.AlbumPostProcess.bind(b);switch(t){case"GetHiddenAlbums":arguments[2];var i=arguments[3];i();break;case"AlbumGetContent":!function(a,r,o,l){var s=NGY2Item.GetIdx(b,a),e="",u="image";"NONE"==b.O.photoset.toUpperCase()||"NONE"==b.O.album.toUpperCase()?e=v.url()+"?&method=flickr.people.getPublicPhotos&api_key="+v.ApiKey+"&user_id="+b.O.userID+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json":0==b.I[s].GetID()?(e=v.url()+"?&method=flickr.photosets.getList&api_key="+v.ApiKey+"&user_id="+b.O.userID+"&per_page=500&primary_photo_extras=tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",u="album"):e=v.url()+"?&method=flickr.photosets.getPhotos&api_key="+v.ApiKey+"&photoset_id="+b.I[s].GetID()+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",b.O.debugMode&&console.log("Flickr URL: "+e),p(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var c=setTimeout(function(){p(!1),g(b,"Could not retrieve AJAX data...")},6e4),m=[],h=function(){var e,g,t,i,h,n;clearTimeout(c),p(!1),"album"==u?(i=s,h=a,n=m,b.O.debugMode&&(console.log("Flickr parse list of albums:"),console.dir(n)),jQuery.each(n,function(e,t){var i=t.title._content;if(0==t.visibility_can_see_set)return!0;if(O(i,t.id)){var n=t.id,a=null!=t.description._content?t.description._content:"",r={};for(var o in t.primary_photo_extras)r[o]=t.primary_photo_extras[o];var l="";void 0!==t.primary_photo_extras&&void 0!==t.primary_photo_extras.tags&&(l=t.primary_photo_extras.tags);var s=NGY2Item.New(b,i,a,n,h,"album",l);s.numberItems=t.photos,s.thumbSizes=r;var u={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};u=f(u=f(u,t.primary_photo_extras,"l1"),t.primary_photo_extras,"lN"),s.thumbs=u;var c=b.O.fnProcessData;null!==c&&("function"==typeof c?c(s,"flickr",t):window[c](s,"flickr",t))}}),b.I[i].contentIsLoaded=!0):(e=s,g=a,t=m,b.O.debugMode&&(console.log("Flickr parse photos:"),console.dir(t)),jQuery.each(t,function(e,t){var i=t.id,n=t.url_sq,a=t.title;""!=b.O.thumbnailLabel.get("title")&&(a=y(n));var r=t.description._content,o=75,l=75,s=v.photoAvailableSizesStr.length-1;for(b.O.flickrSkipOriginal&&s--,e=s;0<=e;e--)if(null!=t["url_"+v.photoAvailableSizesStr[e]]){n=t["url_"+v.photoAvailableSizesStr[e]],o=parseInt(t["width_"+v.photoAvailableSizesStr[e]]),l=parseInt(t["height_"+v.photoAvailableSizesStr[e]]);break}var u={};for(var c in t)0!=c.indexOf("height_")&&0!=c.indexOf("width_")&&0!=c.indexOf("url_")||(u[c]=t[c]);var h=void 0!==t.tags?t.tags:"",m=NGY2Item.New(b,a,r,i,g,"image",h);m.setMediaURL(n,"img"),m.imageWidth=o,m.imageHeight=l;var d={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};d=f(d=f(d,t,"l1"),t,"lN"),m.thumbs=d;var p=b.O.fnProcessData;null!==p&&("function"==typeof p?p(m,"flickr",t):window[p](m,"flickr",t))}),b.I[e].contentIsLoaded=!0),G(a),null!=r&&r(o,l,null)},d=function(a,r){jQuery.getJSON(a+"&page="+r+"&jsoncallback=?",function(e,t,i){var n=0;if("album"==u){if(void 0!==e.stat&&"fail"===e.stat)return g(b,"Could not retrieve Flickr album list: "+e.message+" (code: "+e.code+")."),!1;m=m.concat(e.photosets.photoset),n=e.photosets.pages}else if("NONE"==b.O.photoset.toUpperCase()||"NONE"==b.O.album.toUpperCase())m=m.concat(e.photos.photo),n=e.photos.pages;else{if(void 0!==e.stat&&"fail"===e.stat)return g(b,"Could not retrieve Flickr album: "+e.message+" (code: "+e.code+")."),!1;""==b.I[s].title&&(b.I[s].title=e.photoset.title),m=m.concat(e.photoset.photo),n=e.photoset.pages}r<n?d(a,r+1):h()}).fail(function(e,t,i){clearTimeout(c),p(!1),g(b,"Could not retrieve Flickr ajax data: "+t+", "+i)})};d(e,1)}(arguments[2],i=arguments[3],arguments[4],arguments[5])}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports&&"function"==typeof require?require("jquery"):jQuery)}(function(Xe){"use strict";function qe(e){var t=document.getElementById("ngyColorHelperToRGB");return null===t&&((t=document.createElement("div")).id="ngyColorHelperToRGB",t.style.cssText="display: none; color:"+e+";",document.body.appendChild(t)),getComputedStyle(t).color}function Ze(e,t,i){function n(e){var t=e.length,i=new Object;if(9<t){if((e=e.split(",")).length<3||4<e.length)return null;i[0]=r(e[0].slice(4)),i[1]=r(e[1]),i[2]=r(e[2]),i[3]=e[3]?parseFloat(e[3]):-1}else{if(8==t||6==t||t<4)return null;t<6&&(e="#"+e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+(4<t?e[4]+""+e[4]:"")),e=r(e.slice(1),16),i[0]=e>>16&255,i[1]=e>>8&255,i[2]=255&e,i[3]=9==t||5==t?o((e>>24&255)/255*1e4)/1e4:-1}return i}var a="";if("RGBA("==t.toUpperCase().substring(0,5)&&(a="a",t="rgb("+t.substring(5)),"number"!=typeof e||e<-1||1<e||"string"!=typeof t||"r"!=t[0]&&"#"!=t[0]||"string"!=typeof i&&void 0!==i)return null;var r=parseInt,o=Math.round,l=9<t.length,s=(l="string"==typeof i?9<i.length||"c"==i&&!l:l,e<0),u=(e=s?-1*e:e,i=i&&"c"!=i?i:s?"#000000":"#FFFFFF",n(t)),c=n(i);return u&&c?l?"rgb"+a+"("+o((c[0]-u[0])*e+u[0])+","+o((c[1]-u[1])*e+u[1])+","+o((c[2]-u[2])*e+u[2])+(u[3]<0&&c[3]<0?")":","+(-1<u[3]&&-1<c[3]?o(1e4*((c[3]-u[3])*e+u[3]))/1e4:c[3]<0?u[3]:c[3])+")"):"#"+(4294967296+16777216*(-1<u[3]&&-1<c[3]?o(255*((c[3]-u[3])*e+u[3])):-1<c[3]?o(255*c[3]):-1<u[3]?o(255*u[3]):255)+65536*o((c[0]-u[0])*e+u[0])+256*o((c[1]-u[1])*e+u[1])+o((c[2]-u[2])*e+u[2])).toString(16).slice(-1<u[3]||-1<c[3]?1:3):null}function Je(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var i in e)t[i]=Je(e[i]);return t}function Ke(){var e=jQuery(window);return{l:e.scrollLeft(),t:e.scrollTop(),w:e.width(),h:e.height()}}function et(e,t){var i=0;""==e&&(e="*"),jQuery(e).each(function(){var e=parseInt(jQuery(this).css("z-index"));i=i<e?e:i}),i++,jQuery(t).css("z-index",i)}function n(){function c(e){this.$e=null,this.ngy2ItemIdx=e,this.mediaNumber=0,this.posX=0,this.posY=0}function o(){if(""!=Ue.O.openOnStart){var e=n(Ue.O.openOnStart);"0"!=e.imageID?A(e.imageID,e.albumID):h("-1",e.albumID)}else h("-1",0)}function n(e){var t={albumID:"0",imageID:"0"},i=e.split("/");return 0<i.length&&(t.albumID=i[0],1<i.length&&(t.imageID=i[1])),t}function h(e,t){Ue.VOM.viewerDisplayed&&ke(null);var i=NGY2Item.GetIdx(Ue,t);Ue.GOM.curNavLevel="lN",0==i&&(Ue.GOM.curNavLevel="l1"),Ue.layout.SetEngine(),Ue.galleryResizeEventEnabled=!1,-1==i&&(NGY2Item.New(Ue,"","",t,"0","album"),i=Ue.I.length-1),Ue.I[i].contentIsLoaded?(j(),Ue.GOM.pagination.currentPage=0,Ae(t,""),r(i)):_(t,h,e,t)}function d(){switch(Ue.galleryDisplayMode.Get()){case"PAGINATION":Ue.layout.support.rows&&0<Ue.galleryMaxRows.Get()&&function(e){if(Ue.$E.conTnBottom.css("opacity",0),Ue.$E.conTnBottom.children().remove(),0!=Ue.GOM.items.length){var t=Math.ceil((Ue.GOM.items[Ue.GOM.items.length-1].row+1)/Ue.galleryMaxRows.Get());if(1!=t&&(Ue.GOM.pagination.currentPage>t-1&&(Ue.GOM.pagination.currentPage=t-1),b(),0!=Ue.GOM.displayInterval.len)){"NUMBERS"==Ue.O.galleryPaginationMode&&0<Ue.GOM.pagination.currentPage&&jQuery('<div class="nGY2PaginationPrev">'+Ue.O.icons.paginationPrevious+"</div>").appendTo(Ue.$E.conTnBottom).click(function(e){f()});var i=0,n=t;if("NUMBERS"!=Ue.O.galleryPaginationMode)i=0;else{var a=(Ue.O.paginationVisiblePages,Ue.O.paginationVisiblePages);if(t<=a)i=0;else{var r=0;r=a%2==1?(a+1)/2:a/2,Ue.GOM.pagination.currentPage<r?(i=0,(n=a-1)>t&&(n=t-1)):(i=Ue.GOM.pagination.currentPage-r,(n=i+a)>t&&(n=t-1)),n-i<a&&(i=n-a)<0&&(i=0)}}for(var o=i;o<n;o++){var l="",s="";switch(Ue.O.galleryPaginationMode){case"NUMBERS":l="nGY2paginationItem",s=o+1;break;case"DOTS":l="nGY2paginationDot";break;case"RECTANGLES":l="nGY2paginationRectangle"}o==Ue.GOM.pagination.currentPage&&(l+="CurrentPage");var u=jQuery('<div class="'+l+'">'+s+"</div>").appendTo(Ue.$E.conTnBottom);u.data("pageNumber",o),u.click(function(e){Ue.GOM.pagination.currentPage=jQuery(this).data("pageNumber"),De("pageChanged"),y(!0),O(!0)})}"NUMBERS"==Ue.O.galleryPaginationMode&&Ue.GOM.pagination.currentPage+1<t&&jQuery('<div class="nGY2PaginationNext">'+Ue.O.icons.paginationNext+"</div>").appendTo(Ue.$E.conTnBottom).click(function(e){g()}),Ue.$E.conTnBottom.css("opacity",1)}}}(Ue.GOM.albumIdx);break;case"MOREBUTTON":Ue.$E.conTnBottom.off("click");var e=Ue.GOM.items.length-Ue.GOM.itemsDisplayed;0==e?Ue.$E.conTnBottom.empty():(Ue.$E.conTnBottom.html('<div class="nGY2GalleryMoreButton"><div class="nGY2GalleryMoreButtonAnnotation">+'+e+" "+Ue.O.icons.galleryMoreButton+"</div></div>"),Ue.$E.conTnBottom.on("click",function(e){Ue.GOM.displayedMoreSteps++,s()}))}}function m(e){var t="";Ue.O.breadcrumbHideIcons||(t=Ue.O.icons.breadcrumbAlbum,0==e&&(t=Ue.O.icons.breadcrumbHome));var i=jQuery('<div class="oneItem">'+t+Ue.I[e].title+"</div>").appendTo(Ue.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));Ue.O.breadcrumbOnlyCurrentLevel?0==e?jQuery(i).data("albumID","0"):jQuery(i).data("albumID",Ue.I[e].albumID):jQuery(i).data("albumID",Ue.I[e].GetID()),i.click(function(){h("-1",jQuery(this).data("albumID"))})}function p(e){var t=jQuery('<div class="oneItem">'+(Ue.O.RTL?Ue.O.icons.breadcrumbSeparatorRtl:Ue.O.icons.breadcrumbSeparator)+"</div>").appendTo(Ue.GOM.navigationBar.$newContent.find(".nGY2Breadcrumb"));jQuery(t).data("albumIdx",e),t.click(function(){var e=jQuery(this).data("albumIdx");h("-1",Ue.I[e].GetID())})}function a(n){if(Ue.GOM.navigationBar.$newContent=jQuery('<div class="nGY2Navigationbar"></div>'),1==Ue.O.displayBreadcrumb&&!Ue.O.thumbnailAlbumDisplayImage){var e=0,t=[];if(0!=n){var i=Ue.I.length;t.push(n);var a=n;for(e++;0!=Ue.I[a].albumID&&-1!=Ue.I[a].albumID;)for(var r=1;r<i;r++)if(Ue.I[r].GetID()==Ue.I[a].albumID){a=r,t.push(a),e++;break}}Ue.O.breadcrumbAutoHideTopLevel&&0==e||function(e){if(jQuery('<div class="nGY2NavigationbarItem nGY2Breadcrumb"></div>').appendTo(Ue.GOM.navigationBar.$newContent),Ue.O.breadcrumbOnlyCurrentLevel)0==e.length?m(0):(e.length,p(1==e.length?0:e[0]),m(e[0]));else if(m(0),0<e.length){p(0);for(var t=e.length-1;0<=t;t--)m(e[t]),0<t&&p(e[t-1])}}(t)}if(0!=Ue.galleryFilterTags.Get()){var o=Ue.I[n].albumTagList.length;if(0<o){for(r=0;r<o;r++){var l=Ue.I[n].albumTagList[r],s=Ue.O.icons.navigationFilterUnselected,u="Unselected";0<=jQuery.inArray(l,Ue.I[n].albumTagListSel)&&(u="Selected",s=Ue.O.icons.navigationFilterSelected),jQuery('<div class="nGY2NavigationbarItem nGY2NavFilter'+u+'">'+s+" "+l+"</div>").appendTo(Ue.GOM.navigationBar.$newContent).click(function(){var e=jQuery(this),t=e.text().replace(/^\s*|\s*$/,"");if(e.hasClass("nGY2NavFilterUnselected"))Ue.I[n].albumTagListSel.push(t);else{var i=jQuery.inArray(t,Ue.I[n].albumTagListSel);-1!=i&&Ue.I[n].albumTagListSel.splice(i,1)}e.toggleClass("nGY2NavFilters-oneTagUnselected nGY2NavFilters-oneTagSelected"),h("-1",Ue.I[n].GetID())})}jQuery('<div class="nGY2NavigationbarItem nGY2NavFilterSelectAll">'+Ue.O.icons.navigationFilterSelectedAll+"</div>").appendTo(Ue.GOM.navigationBar.$newContent).click(function(){var e=Ue.I[n].albumTagList.length;Ue.I[n].albumTagListSel=[];for(var t=0;t<e;t++){var i=Ue.I[n].albumTagList[t];Ue.I[n].albumTagListSel.push(i)}h("-1",Ue.I[n].GetID())})}}}function g(){var e=(Ue.GOM.albumIdx,0);D(),0<Ue.galleryMaxRows.Get()&&(e=(Ue.GOM.items[Ue.GOM.items.length-1].row+1)/Ue.galleryMaxRows.Get());var t=Math.ceil(e),i=Ue.GOM.pagination.currentPage;i<t-1?i++:i=0,Ue.GOM.pagination.currentPage=i,De("pageChanged"),y(!0),O(!0)}function f(){var e=(Ue.GOM.albumIdx,0);D(),0<Ue.galleryMaxRows.Get()&&(e=(Ue.GOM.items[Ue.GOM.items.length-1].row+1)/Ue.galleryMaxRows.Get());var t=Math.ceil(e),i=Ue.GOM.pagination.currentPage;0<i?i--:i=t-1,Ue.GOM.pagination.currentPage=i,De("pageChanged"),y(!0),O(!0)}function b(){switch(Ue.GOM.displayInterval.from=0,Ue.GOM.displayInterval.len=Ue.I.length,Ue.galleryDisplayMode.Get()){case"PAGINATION":if(Ue.layout.support.rows)for(var e=Ue.GOM.items.length,t=Ue.GOM.pagination.currentPage*Ue.galleryMaxRows.Get(),i=t+Ue.galleryMaxRows.Get(),n=-1,a=Ue.GOM.displayInterval.len=0;a<e;a++){(r=Ue.GOM.items[a]).row>=t&&r.row<i&&(-1==n&&(n=Ue.GOM.displayInterval.from=a),Ue.GOM.displayInterval.len++)}break;case"MOREBUTTON":if(Ue.layout.support.rows)for(e=Ue.GOM.items.length,i=Ue.O.galleryDisplayMoreStep*(Ue.GOM.displayedMoreSteps+1),a=Ue.GOM.displayInterval.len=0;a<e;a++){(r=Ue.GOM.items[a]).row<i&&Ue.GOM.displayInterval.len++}break;case"ROWS":if(Ue.layout.support.rows){e=Ue.GOM.items.length,i=Ue.galleryMaxRows.Get();Ue.galleryLastRowFull.Get()&&-1!=Ue.GOM.lastFullRow&&i>Ue.GOM.lastFullRow+1&&(i=Ue.GOM.lastFullRow+1);for(a=Ue.GOM.displayInterval.len=0;a<e;a++){(r=Ue.GOM.items[a]).row<i&&Ue.GOM.displayInterval.len++}}break;default:case"FULLCONTENT":if(Ue.layout.support.rows&&Ue.galleryLastRowFull.Get()&&-1!=Ue.GOM.lastFullRow)for(e=Ue.GOM.items.length,i=Ue.GOM.lastFullRow+1,a=Ue.GOM.displayInterval.len=0;a<e;a++){var r;(r=Ue.GOM.items[a]).row<i&&Ue.GOM.displayInterval.len++}}}function r(n){De("galleryRenderStart"),clearTimeout(Ue.GOM.slider.timerID),Ue.GOM.slider.hostIdx=-1;var e=Ue.O.fnGalleryRenderStart;if(null!==e&&("function"==typeof e?e(n):window[e](n)),Ue.layout.SetEngine(),Ue.galleryResizeEventEnabled=!1,Ue.GOM.albumIdx=-1,Ue.GOM.lastDisplayedIdx=-1,void 0!==Ue.$E.conTnBottom&&Ue.$E.conTnBottom.empty(),a(n),Ue.GOM.firstDisplay){Ue.GOM.firstDisplay=!1;var t=Date.now()-Ue.GOM.firstDisplayTime;t<Ue.O.galleryRenderDelay?setTimeout(function(){l(n)},Ue.O.galleryRenderDelay-t):l(n),Ue.O.galleryRenderDelay=0}else{var i=!1;0==Ue.GOM.navigationBar.$newContent.children().length&&(i=!0),(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},duration:300,easing:"easeInQuart",attachment:{h:i},step:function(e,t){Ue.$E.conTnParent.css({opacity:e.opacity}),t.h&&Ue.$E.conNavigationBar.css({opacity:e.opacity})},finish:function(e,t){Ue.$E.conTnParent.css({opacity:0}),t.h&&Ue.$E.conNavigationBar.css({opacity:0,display:"none"});var i=Ue.$E.base.offset().top;i<Ue.GOM.cache.viewport.t?jQuery("html, body").animate({scrollTop:i},500,"linear",function(){l(n)}):l(n)}})}}function l(t){var e=Ue.$E.conNavigationBar.children().length;Ue.$E.conNavigationBar.empty(),Ue.GOM.navigationBar.$newContent.children().clone(!0,!0).appendTo(Ue.$E.conNavigationBar),0<Ue.$E.conNavigationBar.children().length&&0==e?(Ue.$E.conNavigationBar.css({opacity:0,display:"block"}),(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},duration:200,easing:"easeInQuart",step:function(e){Ue.$E.conNavigationBar.css(e)},finish:function(e){Ue.$E.conNavigationBar.css({opacity:1}),setTimeout(function(){i(t)},60)}})):setTimeout(function(){i(t)},60)}function i(e){Ue.GOM.lastZIndex=parseInt(Ue.$E.base.css("z-index")),isNaN(Ue.GOM.lastZIndex)&&(Ue.GOM.lastZIndex=0),Ue.$E.conTnParent.css({opacity:0}),Ue.$E.conTn.off().empty();for(var t=Ue.I.length,i=0;i<t;i++){var n=Ue.I[i];n.hovered=!1,n.$elt=null,n.$Elts=[],n.eltTransform=[],n.eltFilter=[],n.width=0,n.height=0,n.left=0,n.top=0,n.resizedContentWidth=0,n.resizedContentHeight=0,n.thumbnailImgRevealed=!1}null==Ue.CSStransformName?Ue.$E.conTn.css("left","0px"):Ue.$E.conTn.css(Ue.CSStransformName,"none"),setTimeout(function(){!function(e){var t=new Date;Ue.$E.conTnParent.css("opacity",1),Ue.GOM.items=[],Ue.GOM.displayedMoreSteps=0,"onBottom"==Ue.O.thumbnailLabel.get("position")?Ue.tn.labelHeight[Ue.GOM.curNavLevel]=function(){var e=[],t=0;if(0==Ue.O.thumbnailLabel.get("display"))return 0;Ue.O.thumbnailLabel.get("displayDescription"),e[t++]='<div class="nGY2GThumbnail '+Ue.O.theme+'" style="display:block;visibility:hidden;position:absolute;top:-9999px;left:-9999px;" ><div class="nGY2GThumbnailSub">',1==Ue.O.thumbnailLabel.get("display")&&(e[t++]='  <div class="nGY2GThumbnailLabel" '+Ue.tn.style.getLabel()+">",e[t++]='    <div class="nGY2GThumbnailAlbumTitle" '+Ue.tn.style.getTitle()+">aAzZjJ</div>",1==Ue.O.thumbnailLabel.get("displayDescription")&&(e[t++]='    <div class="nGY2GThumbnailDescription" '+Ue.tn.style.getDesc()+">aAzZjJ</div>"),e[t++]="  </div>"),e[t++]="</div></div>";var i=jQuery(e.join("")).appendTo(Ue.$E.conTn),n=i.find(".nGY2GThumbnailLabel").outerHeight(!0);return i.remove(),n}():Ue.tn.labelHeight[Ue.GOM.curNavLevel]=0,Ue.GOM.albumIdx=e,De("galleryRenderEnd");var i=Ue.O.fnGalleryRenderEnd;null!==i&&("function"==typeof i?i(e):window[i](e)),function(){for(var e="",t=!1,i=Ue.I[Ue.GOM.albumIdx].GetID(),n=Ue.I.length,a=0,r=0;r<n;r++){var o=Ue.I[r];if(o.isToDisplay(i)){var l=o.thumbImg().width,s=o.thumbImg().height;!Ue.layout.prerequisite.imageSize||0!=l&&0!=s||(t=!0,e+='<img src="'+o.thumbImg().src+'" data-idx="'+a+'" data-albumidx="'+Ue.GOM.albumIdx+'">'),0==s&&(s=Ue.tn.defaultSize.getHeight()),0==l&&(l=Ue.tn.defaultSize.getWidth());var u=new Ue.GOM.GTn(r,l,s);Ue.GOM.items.push(u),a++}}De("galleryObjectModelBuilt");var c=Ue.O.fnGalleryObjectModelBuilt;if(null!==c&&("function"==typeof c?c():window[c]()),t){var h=jQuery(e),m=ngimagesLoaded(h);return h=null,m.on("progress",function(e,t){if(t.isLoaded){var i=t.img.getAttribute("data-idx");if(t.img.getAttribute("data-albumidx")==Ue.GOM.albumIdx){var n=Ue.GOM.items[i];n.imageWidth=t.img.naturalWidth,n.imageHeight=t.img.naturalHeight;var a=Ue.I[n.thumbnailIdx];a.thumbs.width[Ue.GOM.curNavLevel][Ue.GOM.curWidth]=n.imageWidth,a.thumbs.height[Ue.GOM.curNavLevel][Ue.GOM.curWidth]=n.imageHeight,Ue.GalleryResizeThrottled();var r=a.thumbs.width.l1;for(var o in r)r.hasOwnProperty(o)&&o!=Ue.GOM.curWidth&&Ue.tn.settings.width.l1[o]==Ue.tn.settings.getW()&&Ue.tn.settings.height.l1[o]==Ue.tn.settings.getH()&&(a.thumbs.width.l1[o]=n.imageWidth,a.thumbs.height.l1[o]=n.imageHeight);for(var o in r=a.thumbs.width.lN)r.hasOwnProperty(o)&&o!=Ue.GOM.curWidth&&Ue.tn.settings.width.lN[o]==Ue.tn.settings.getW()&&Ue.tn.settings.height.lN[o]==Ue.tn.settings.getH()&&(a.thumbs.width.lN[o]=n.imageWidth,a.thumbs.height.lN[o]=n.imageHeight)}}}),!(Ue.galleryResizeEventEnabled=!0)}return!0}()?(v(),function(){var e=Ue.galleryDisplayTransitionDuration.Get();switch(Ue.galleryDisplayTransition.Get()){case"ROTATEX":Ue.$E.base.css({perspective:"1000px","perspective-origin":"50% 0%"});var t=new NGTweenable;t.tween({from:{r:50},to:{r:0},attachment:{orgIdx:Ue.GOM.albumIdx},duration:e,easing:"easeOutCirc",step:function(e,t){t.orgIdx==Ue.GOM.albumIdx&&Ue.$E.conTnParent.css(Ue.CSStransformName,"rotateX("+e.r+"deg)")}});break;case"SLIDEUP":Ue.$E.conTnParent.css({opacity:0});var t=new NGTweenable;t.tween({from:{y:200,o:0},to:{y:0,o:1},attachment:{orgIdx:Ue.GOM.albumIdx},duration:e,easing:"easeOutCirc",step:function(e,t){t.orgIdx==Ue.GOM.albumIdx&&Ue.$E.conTnParent.css(Ue.CSStransformName,"translate( 0px, "+e.y+"px)").css("opacity",e.o)}})}}(),y(!1),setTimeout(function(){O(!1)},120)):Ue.galleryResizeEventEnabled=!0,Ue.O.debugMode&&console.log("GalleryRenderPart3: "+(new Date-t))}(e)},60)}function s(){var e=new Date;if(Ue.galleryResizeEventEnabled=!1,0==v())return Ue.galleryResizeEventEnabled=!0,void(Ue.O.debugMode&&console.log("GalleryResize1: "+(new Date-e)));Ue.O.debugMode&&console.log("GalleryResizeSetLayout: "+(new Date-e)),y(!1),O(!1),Ue.O.debugMode&&console.log("GalleryResizeFull: "+(new Date-e))}function v(){var e=!0;switch(Ue.GOM.cache.areaWidth=Ue.$E.conTnParent.width(),Ue.GOM.displayArea={width:0,height:0},Ue.layout.engine){case"JUSTIFIED":e=function(){for(var e=0,t=Ue.GOM.cache.areaWidth,i=0,n=0,a=[],r=0,o=[],l=!1,s=Ue.tn.opt.Get("gutterWidth"),u=Ue.tn.opt.Get("gutterHeight"),c=0,h=0,m=!1,d=!1,p=Ue.tn.defaultSize.getOuterHeight(),g=2*Ue.tn.borderWidth,f=2*Ue.tn.borderHeight,b=1,v=Ue.GOM.items.length,y=0;y<v;y++){var O=Ue.GOM.items[y];if(1==O.deleted)break;if(0<O.imageWidth){var G=O.imageWidth/O.imageHeight,w=Math.floor(p*G);if(l&&(r++,e=0,d=m=l=!1,b=1),O.imageHeight>O.imageWidth?m=!0:d=!0,e+s+w<t-b*g){e+=w+s,o[r]=p;var I=Math.max(m?c:0,d?h:0);0<I&&(o[r]=Math.min(o[r],I)),a[r]=y}else{var M=(t-b*g)/(e+=s+w),T=Math.floor(p*M);o[r]=T,m&&(c=Math.max(c,T)),d&&(h=Math.max(h,T)),a[r]=y,l=!0}0,b++}}i=n=r=0;for(var y=Ue.GOM.lastFullRow=0;y<v;y++){var O=Ue.GOM.items[y];if(!(0<O.imageWidth))return!1;var G=O.imageWidth/O.imageHeight,w=Math.floor(G*o[r]);y==a[r]&&(a.length!=r+1?w=t-i-g:t<i+s+w+g&&(w=t-i-g));var x=parseInt(o[r]);w=parseInt(w),O.resizedContentWidth=w,O.resizedContentHeight=x,O.width=w+g,O.height=x+Ue.tn.labelHeight.get()+f,O.row=r,O.top=n;var S=i;Ue.O.RTL&&(S=t-i-O.width),O.left=S,i+=O.width+s,y==a[r]&&(n+=O.height+u,Ue.GOM.lastFullRow=r-1,r++,i=0),0}return Ue.GOM.displayArea.width=t,!0}();break;case"CASCADING":e=function(){var e=0,t=Ue.GOM.cache.areaWidth,i=0,n=[],a=C(t),r=0,o=Ue.tn.opt.Get("gutterHeight"),l=1,s=Ue.tn.defaultSize.getOuterWidth(),u=Ue.GOM.items.length,c=0;"justified"==Ue.O.thumbnailAlignment?(a=Math.min(a,u),r=1==a?0:(t-a*s)/(a-1)):r=Ue.tn.opt.Get("gutterWidth");var h=2*Ue.tn.borderWidth,m=2*Ue.tn.borderHeight;if(Ue.GOM.lastFullRow=-1,"fillWidth"==Ue.O.thumbnailAlignment){var d=(a-1)*r;1<(l=(t-d)/(a*s))&&a++,d=(a-1)*r,l=Math.min((t-d)/(a*s),1)}for(var p=(s*=l)-h,g=Ue.tn.opt.Get("baseGridHeight")*l,f=0;f<u;f++){var b=Ue.GOM.items[f];if(1==b.deleted)break;if(0<b.imageHeight&&0<b.imageWidth){var v=0,c=0,y=b.imageHeight/b.imageWidth;if(b.resizedContentWidth=p,b.resizedContentHeight=b.resizedContentWidth*y,0<g){var O=Math.max(Math.trunc(b.resizedContentHeight/g),1);b.resizedContentHeight=g*O+(O-1)*(m+o)}if(b.height=b.resizedContentHeight+m+Ue.tn.labelHeight.get(),b.width=s,(b.row=0)==i)v=e*(s+r),n[e]=b.height+o,++e>=a&&(e=0,i++);else{for(var G=0,w=n[0],I=1;I<a;I++)n[I]+5<w&&(w=n[I],G=I);c=n[G],v=G*(s+r),n[G]=c+b.height+o}var M=v;Ue.O.RTL&&(M=0-v-s),b.left=M,b.top=c}}return Ue.GOM.displayArea.width=a*(s+r)-r,!0}();break;case"MOSAIC":e=function(){for(var e=Ue.GOM.cache.areaWidth,t=Ue.tn.opt.Get("gutterHeight"),i=Ue.tn.opt.Get("gutterWidth"),n=2*Ue.tn.borderWidth,a=2*Ue.tn.borderHeight,r=Ue.GOM.items.length,o=0,l=0,s=0,u=0,c=0,h=Ue.tn.settings.getMosaic(),m=0;m<r;m++){var d=h[s],p=(d.c-1)*Ue.tn.defaultSize.getOuterWidth()+(d.c-1)*i,g=d.w*Ue.tn.defaultSize.getOuterWidth()+(d.w-1)*i;if(c=Math.max(c,p+g),u=Math.max(u,d.c-1+d.w),++s>=h.length)break}var f=(u-1)*i,b=Math.min((e-f)/(c-f),1);s=o=0;for(var h=Ue.tn.settings.getMosaic(),m=0;m<r;m++){var v=Ue.GOM.items[m],d=h[s];v.top=(d.r-1)*Ue.tn.defaultSize.getOuterHeight()*b+(d.r-1)*t+o*l+Ue.tn.labelHeight.get()*(d.r-1),0<o&&(v.top+=t),v.left=(d.c-1)*Ue.tn.defaultSize.getOuterWidth()*b+(d.c-1)*i,v.height=d.h*Ue.tn.defaultSize.getOuterHeight()*b+(d.h-1)*t+Ue.tn.labelHeight.get()*d.h,v.resizedContentHeight=v.height-Ue.tn.labelHeight.get()-a,v.width=d.w*Ue.tn.defaultSize.getOuterWidth()*b+(d.w-1)*i,v.resizedContentWidth=v.width-n,0==(v.row=o)&&(l=Math.max(l,v.top+v.height)),++s>=h.length&&(s=0,o++)}return Ue.GOM.displayArea.width=(c-f)*b+f,!0}();break;case"GRID":default:e=function(){var e=0,t=0,i=Ue.GOM.cache.areaWidth,n=0,a=Ue.tn.opt.Get("gutterHeight"),r=C(i),o=0,l=[],s=0,u=i,c=Ue.tn.defaultSize.getOuterWidth(),h=1,m=Ue.GOM.items.length,d=2*Ue.tn.borderWidth,p=2*Ue.tn.borderHeight;if("justified"==Ue.O.thumbnailAlignment?(r=Math.min(r,m),n=1==r?0:(i-r*c)/(r-1)):n=Ue.tn.opt.Get("gutterWidth"),Ue.O.RTL||"fillWidth"==Ue.O.thumbnailAlignment){var g=(r-1)*n;1<(h=(i-g)/(r*c))&&r++,g=(r-1)*n,h=Math.min((i-g)/(r*c),1),u=r*c+g}for(var f=Ue.GOM.lastFullRow=0,b=(c*=h)-d,v=Ue.tn.defaultSize.getOuterHeight()*h+Ue.tn.labelHeight.get(),y=Ue.tn.defaultSize.getOuterHeight()*h-p,O=0;O<m;O++){0==t?(e=s*(c+n),l[s]=e,o=e+c):e=l[s];var G=e;Ue.O.RTL&&(G=parseInt(u)-e-c);var w=Ue.GOM.items[O];w.top=t,w.left=G,w.height=v,w.width=c,"fillWidth"==Ue.O.thumbnailAlignment&&(w.resizedContentWidth=b,w.resizedContentHeight=y),w.row=f,r<=++s&&(s=0,t+=v+a,Ue.GOM.lastFullRow=f,f++)}return Ue.GOM.displayArea.width=o,!0}()}De("galleryLayoutApplied");var t=Ue.O.fnGalleryLayoutApplied;return null!==t&&("function"==typeof t?t():window[t]()),e}function y(e){null==Ue.CSStransformName?Ue.$E.conTn.css("left","0px"):Ue.$E.conTn.css(Ue.CSStransformName,"none"),Ue.GOM.cache.viewport=Ke(),Ue.GOM.cache.areaWidth=Ue.$E.conTnParent.width(),Ue.GOM.cache.containerOffset=Ue.$E.conTnParent.offset()}function O(e){var t=Ue.GOM.items.length,i=Ue.GOM.itemsDisplayed=0;b();for(var n=0;n<t;n++){var a=Ue.GOM.items[n];n>=Ue.GOM.displayInterval.from&&i<Ue.GOM.displayInterval.len?(a.inDisplayArea=!0,e&&(a.neverDisplayed=!0),Ue.GOM.itemsDisplayed++,i++):a.inDisplayArea=!1}d();var r=[],o=[];i=0;var l=Ue.GOM.clipArea.top=-1;for(n=Ue.GOM.clipArea.height=0;n<t;n++){if((a=Ue.GOM.items[n]).inDisplayArea){if(-1==Ue.GOM.clipArea.top&&(Ue.GOM.clipArea.top=a.top),a.top-Ue.GOM.clipArea.top<=-1&&(Ue.GOM.clipArea.top=a.top),Ue.GOM.clipArea.height=Math.max(Ue.GOM.clipArea.height,a.top-Ue.GOM.clipArea.top+a.height),a.neverDisplayed){var s=Ue.GOM.cache.containerOffset.top+(a.top-Ue.GOM.clipArea.top);if(s+a.height>=Ue.GOM.cache.viewport.t-50&&s<=Ue.GOM.cache.viewport.t+Ue.GOM.cache.viewport.h+50)null==(u=Ue.I[a.thumbnailIdx]).$elt&&T(u,a.thumbnailIdx,n,n+1==t),r.push({idx:n,delay:i}),i++}else o.push({idx:n,delay:0});l=n}else{a.displayed=!1,null!=(u=Ue.I[a.thumbnailIdx]).$elt&&u.$elt.css({opacity:0,display:"none"})}}var u,c=Ue.$E.conTnParent.width();if(Ue.GOM.displayArea.width==Ue.GOM.displayAreaLast.width&&Ue.GOM.clipArea.height==Ue.GOM.displayAreaLast.height||(Ue.$E.conTn.width(Ue.GOM.displayArea.width).height(Ue.GOM.clipArea.height),Ue.GOM.displayAreaLast.width=Ue.GOM.displayArea.width,Ue.GOM.displayAreaLast.height=Ue.GOM.clipArea.height),c!=Ue.$E.conTnParent.width())return Ue.GOM.cache.areaWidth=Ue.$E.conTnParent.width(),v(),y(),void O(e);Ue.layout.support.rows&&("ROWS"==Ue.galleryDisplayMode.Get()||"FULLCONTENT"==Ue.galleryDisplayMode.Get()&&Ue.galleryLastRowFull.Get()&&-1!=Ue.GOM.lastFullRow)&&(Ue.GOM.lastDisplayedIdxNew=l<t-1?l:-1,-1!=Ue.GOM.lastDisplayedIdx)&&(u=Ue.I[Ue.GOM.items[Ue.GOM.lastDisplayedIdx].thumbnailIdx]).$getElt(".nGY2GThumbnailIconsFullThumbnail").html("");var h=r.length;for(n=0;n<h;n++)G(r[n].idx,n);var m=o.length;for(n=0;n<m;n++)G(o[n].idx,n);"NONE"==Ue.tn.opt.Get("displayTransition")?(Ue.galleryResizeEventEnabled=!0,De("galleryDisplayed")):setTimeout(function(){Ue.galleryResizeEventEnabled=!0,De("galleryDisplayed")},h*Ue.tn.opt.Get("displayInterval"))}function G(e,t){var i=0,n=Ue.GOM.items[e],a=Ue.GOM.items[e].thumbnailIdx,r=Ue.I[a];if(n.neverDisplayed){var o=n.top-Ue.GOM.clipArea.top;0<Ue.tn.opt.Get("stacks")?(r.$elt.last().css({display:"block"}),r.$elt.css({top:o,left:n.left})):r.$elt.css({display:"block",top:o,left:n.left}),i=o,!0===Ue.O.thumbnailWaitImageLoaded&&ngimagesLoaded(r.$getElt(".nGY2TnImg2")).on("progress",function(e,t){if(t.isLoaded&&t.img.getAttribute("data-albumidx")==Ue.GOM.albumIdx){var i=t.img.getAttribute("data-idx");Ue.I[i].ThumbnailImageReveal()}}),function(e,t){var i=Ue.GOM.items[e],n=Ue.I[i.thumbnailIdx];if("NONE"==Ue.tn.opt.Get("displayTransition"))n.$elt.css({opacity:1}),k(n);else{if(null==n.$elt)return;var a=Ue.GOM.cache.containerOffset.top+(i.top-Ue.GOM.clipArea.top),r=Ue.GOM.cache.viewport;if(a+(i.top-Ue.GOM.clipArea.top)>=r.t-50&&a<=r.t+r.h+50){var o=t*Ue.tn.opt.Get("displayInterval");return"CUSTOM"==Ue.tn.opt.Get("displayTransition")?"lN"==Ue.GOM.curNavLevel?Ue.O.fnThumbnailDisplayEffect(n.$elt,n,e,o):Ue.O.fnThumbnailL1DisplayEffect(n.$elt,n,e,o):We[Ue.tn.opt.Get("displayTransition")](n,o)}n.$elt.css({opacity:1}),k(n)}}(e,t),n.displayed=!0,n.neverDisplayed=!1}else{var l=Ue.GOM.cache.containerOffset.top+r.top;o=Ue.GOM.cache.containerOffset.top+(n.top-Ue.GOM.clipArea.top);i=n.top-Ue.GOM.clipArea.top;var s=Ue.GOM.cache.viewport;if(Ue.O.thumbnailDisplayOutsideScreen||l+n.height>=s.t-s.h&&l<=s.t+4*s.h||o+n.height>=s.t-s.h&&o<=s.t+4*s.h)if(n.displayed){if(r.top!=n.top||r.left!=n.left)if(1==Ue.O.galleryResizeAnimation){(new NGTweenable).tween({from:{top:r.top,left:r.left,height:r.height,width:r.width},to:{top:i,left:n.left,height:n.height,width:n.width},attachment:{$e:r.$elt},duration:100,delay:t*Ue.tn.opt.Get("displayInterval")/5,easing:"easeInOutQuad",step:function(e,t){t.$e.css(e)},finish:function(e,t){t.$e.css(e),this.dispose()}})}else r.$elt.css({top:i,left:n.left})}else n.displayed=!0,r.$elt.css({display:"block",top:i,left:n.left,opacity:1}),k(r);else n.displayed=!1,r.$elt.css({display:"none"})}if(r.left=n.left,r.top=i,r.width==n.width&&r.height==n.height||(r.$elt.css({width:n.width,height:n.height}),r.width=n.width,r.height=n.height,r.resizedContentWidth==n.resizedContentWidth&&r.resizedContentHeight==n.resizedContentHeight||("albumUp"==r.kind||(r.$getElt(".nGY2GThumbnailImage").css({height:n.resizedContentHeight,width:n.resizedContentWidth}),"JUSTIFIED"==Ue.layout.engine&&r.$getElt(".nGY2GThumbnailImg").css({height:n.resizedContentHeight,width:n.resizedContentWidth})),r.resizedContentWidth=n.resizedContentWidth,r.resizedContentHeight=n.resizedContentHeight)),Ue.GOM.lastDisplayedIdxNew==e&&Ue.layout.support.rows&&("ROWS"==Ue.galleryDisplayMode.Get()&&0<Ue.galleryMaxRows.Get()||"FULLCONTENT"==Ue.galleryDisplayMode.Get()&&Ue.galleryLastRowFull.Get()&&-1!=Ue.GOM.lastFullRow)){var u=Ue.GOM.items.length-e-1;"0"!=r.albumID&&Ue.O.thumbnailLevelUp&&u--,0<u?((Ue.O.thumbnailOpenImage||0<Ue.O.thumbnailSliderDelay)&&r.$getElt(".nGY2GThumbnailIconsFullThumbnail").html("+"+u),Ue.GOM.slider.hostItem!=Ue.GOM.NGY2Item(e)&&(I(Ue.GOM.slider.hostItem),Ue.GOM.slider.hostIdx=e,Ue.GOM.slider.hostItem=Ue.GOM.NGY2Item(e),Ue.GOM.slider.nextIdx=e,Ue.GOM.slider.currentIdx=e,function(){if(0!=Ue.O.thumbnailSliderDelay&&-1!=Ue.GOM.slider.hostIdx){clearTimeout(Ue.GOM.slider.timerID);var e=Ue.GOM.slider.hostItem;0==e.$getElt(".nGY2TnImgNext").length&&(e.$getElt(".nGY2TnImg").clone().removeClass("nGY2TnImg").addClass("nGY2TnImgNext").insertAfter(e.$getElt(".nGY2TnImg")),e.$getElt(".nGY2TnImgBack").clone().removeClass("nGY2TnImgBack").addClass("nGY2TnImgBackNext").insertAfter(e.$getElt(".nGY2TnImg",!0)),e.$getElt(".nGY2GThumbnailImage",!0),e.$getElt(".nGY2GThumbnailImg",!0)),e.CSSTransformSet(".nGY2TnImgNext","translateX","100%",!0),e.CSSTransformApply(".nGY2TnImgNext"),e.CSSTransformSet(".nGY2TnImgBackNext","translateX","100%",!0),e.CSSTransformApply(".nGY2TnImgBackNext"),w(),Ue.GOM.slider.timerID=setTimeout(function(){!function t(){if(null!=Ue.GOM.slider.hostItem.$getElt()){var e=new NGTweenable;(Ue.GOM.slider.tween=e).tween({from:{left:100},to:{left:0},duration:800,delay:0,easing:"easeInOutQuad",step:function(e){null!=Ue.GOM.slider.hostItem.$getElt()?(Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBack","translateX",-(100-e.left)+"%"),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBack"),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImg","translateX",-(100-e.left)+"%"),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImg"),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBackNext","translateX",e.left+"%"),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBackNext"),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgNext","translateX",e.left+"%"),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgNext")):Ue.GOM.slider.tween.stop(!1)},finish:function(e){null!=Ue.GOM.slider.hostItem.$getElt()&&null!=Ue.GOM.NGY2Item(Ue.GOM.slider.nextIdx)&&(I(Ue.GOM.NGY2Item(Ue.GOM.slider.nextIdx)),Ue.GOM.slider.currentIdx=Ue.GOM.slider.nextIdx,w(),clearTimeout(Ue.GOM.slider.timerID),Ue.GOM.slider.timerID=setTimeout(function(){t()},Ue.O.thumbnailSliderDelay))}})}}()},Ue.O.thumbnailSliderDelay)}}())):(I(Ue.GOM.slider.hostItem),Ue.GOM.slider.hostIdx=-1),Ue.GOM.lastDisplayedIdx=e}}function w(){++Ue.GOM.slider.nextIdx>=Ue.GOM.items.length&&(Ue.GOM.slider.nextIdx=Ue.GOM.slider.hostIdx);var e=Ue.GOM.NGY2Item(Ue.GOM.slider.nextIdx),t=(Ue.emptyGif,"url('"+Ue.emptyGif+"')");null!=e.imageDominantColors&&(e.imageDominantColors,t="url('"+e.imageDominantColors+"')"),Ue.GOM.slider.hostItem.$getElt(".nGY2TnImgBackNext",!0).css({"background-image":t,opacity:1}),Ue.GOM.slider.hostItem.$getElt(".nGY2TnImgNext",!0).css({"background-image":"url('"+e.thumbImg().src+"')",opacity:1}),Ue.GOM.slider.hostItem.$getElt(".nGY2TnImgNext .nGY2GThumbnailImg",!0).attr("src",e.thumbImg().src)}function I(e){if(-1!=Ue.GOM.slider.hostIdx){null!=Ue.GOM.slider.tween&&1==Ue.GOM.slider.tween._isTweening&&Ue.GOM.slider.tween.stop(!1);var t="url('"+Ue.emptyGif+"')";if(null!=e.imageDominantColors&&(t="url('"+e.imageDominantColors+"')"),Ue.GOM.slider.hostItem.$getElt(".nGY2TnImgBack").css("background-image",t),Ue.GOM.slider.hostItem.$getElt(".nGY2TnImg").css("background-image","url('"+e.thumbImg().src+"')"),Ue.GOM.slider.hostItem.$getElt(".nGY2TnImg .nGY2GThumbnailImg").attr("src",e.thumbImg().src),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBack","translateX","0"),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBack"),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImg","translateX","0"),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImg"),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgBackNext","translateX","100%",!0),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgBackNext"),Ue.GOM.slider.hostItem.CSSTransformSet(".nGY2TnImgNext","translateX","100%",!0),Ue.GOM.slider.hostItem.CSSTransformApply(".nGY2TnImgNext"),1==Ue.O.thumbnailLabel.get("display")){var i=Ue.O.icons.thumbnailAlbum;"album"!=e.kind&&(i=Ue.O.icons.thumbnailImage),Ue.GOM.slider.hostItem.$getElt(".nGY2GThumbnailTitle").html(i+S(e)),Ue.GOM.slider.hostItem.$getElt(".nGY2GThumbnailDescription").html(i+N(e))}}}function M(e){var t=Ue.tn.opt.Get("stacks");if(0==t)return"";for(var i="",n=0;n<t;n++)i='<div class="nGY2GThumbnailStack " style="display:none;'+e+'"></div>'+i;return i}function T(e,t,i,n){if(e.eltTransform=[],e.eltFilter=[],e.hoverInitDone=!1,e.$Elts=[],"albumUp"!=e.kind){var a=[],r=0,o="";!1===Ue.O.thumbnailOpenImage&&(o="cursor:default;");var l=e.thumbImg().src.replace(/'/g,"%27"),s=S(e),u="",c="background-image: url('"+Ue.emptyGif+"');";null!=e.imageDominantColors?c="background-image: url('"+e.imageDominantColors+"');":null!=e.imageDominantColor?u="background-color:"+e.imageDominantColor+";":c="";var h="opacity:1;";1==Ue.O.thumbnailWaitImageLoaded&&(h="opacity:0;"),a[r++]=M(u)+'<div class="nGY2GThumbnail" style="display:none;opacity:0;'+o+'"><div class="nGY2GThumbnailSub '+(Ue.O.thumbnailSelectable&&e.selected?"nGY2GThumbnailSubSelected":"")+'">';var m=Ue.tn.settings.getW(),d=Ue.tn.settings.getH();null!==Ue.tn.settings.getMosaic()&&(m=Ue.GOM.items[i].width,d=Ue.GOM.items[i].height);var p="contain";Ue.tn.opt.Get("crop")&&(p="cover");var g="position: absolute; top: 0px; left: 0px; width:"+m+"px; height:"+d+"px;"+u+c+" background-position: center center;  background-repeat: no-repeat; background-size:"+p+"; overflow: hidden;";a[r++]='<div class="nGY2GThumbnailImage nGY2TnImgBack" style="'+g+'"></div>';var f,b,v=h+"position: absolute; top: 0px; left: 0px; width:"+m+"px; height:"+d+"px; background-image: url('"+l+"'); background-position: center center; background-repeat: no-repeat; background-size:"+p+"; overflow: hidden;";a[r++]='<div class="nGY2GThumbnailImage nGY2TnImg" style="'+v+'">',a[r++]='  <img class="nGY2GThumbnailImg nGY2TnImg2" src="'+l+'" alt="'+s+'" style="opacity:0;" data-idx="'+t+'" data-albumidx="'+Ue.GOM.albumIdx+'" >',a[r++]="</div>",a[r++]='<div class="nGY2GThumbnailCustomLayer"></div>',1==Ue.O.thumbnailLabel.get("display")&&(a[r++]='  <div class="nGY2GThumbnailLabel" '+Ue.tn.style.getLabel(e)+">","album"==e.kind?a[r++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailAlbumTitle" '+Ue.tn.style.getTitle()+">"+Ue.O.icons.thumbnailAlbum+s+"</div>":a[r++]='    <div class="nGY2GThumbnailTitle nGY2GThumbnailImageTitle" '+Ue.tn.style.getTitle()+">"+Ue.O.icons.thumbnailImage+s+"</div>",a[r++]='    <div class="nGY2GThumbnailDescription" '+Ue.tn.style.getDesc()+">"+N(e)+"</div>",a[r++]="  </div>"),a[r++]=(b=x(f=e,"topLeft")+x(f,"topRight")+x(f,"bottomLeft")+x(f,"bottomRight"),b+='<div class="nGY2GThumbnailIconsFullThumbnail"></div>'),a[r++]="</div></div>";var y=jQuery(a.join("")).appendTo(Ue.$E.conTn);(e.$elt=y).data("index",i),e.$getElt(".nGY2GThumbnailImg").data("index",i);var O=Ue.O.fnThumbnailInit;null!==O&&("function"==typeof O?O(y,e,i):window[O](y,e,i)),"image gallery by nanogallery2 [build]"!=e.title&&E(i)}else!function(e,t,i){var n=[],a=0,r="";!1===Ue.O.thumbnailOpenImage&&(r="cursor:default;"),n[a++]=M("")+'<div class="nGY2GThumbnail" style="display:none;opacity:0;'+r+'" >',n[a++]='  <div class="nGY2GThumbnailSub">';var o=Ue.tn.defaultSize.getHeight(),l=Ue.tn.defaultSize.getWidth();n[a++]='    <div class="nGY2GThumbnailImage" style="width:'+l+"px;height:"+o+'px;"><img class="nGY2GThumbnailImg" src="'+Ue.emptyGif+'" alt="" style="max-width:'+l+"px;max-height:"+o+'px;" ></div>',n[a++]='    <div class="nGY2GThumbnailAlbumUp" >'+Ue.O.icons.thumbnailAlbumUp+"</div>",n[a++]="  </div>",n[a++]="</div>";var s=jQuery(n.join("")).appendTo(Ue.$E.conTn);(e.$elt=s).data("index",i),e.$getElt(".nGY2GThumbnailImg").data("index",i)}(e,0,i)}function x(e,t){var i="",n=Ue.tn.toolbar.get(e),a={xs:0,sm:1,me:2,la:3,xl:4},r=0;if(""!=n[t]){var o="top: 0; right: 0; text-align: right;";switch(t){case"topLeft":o="top: 0; left: 0; text-align: left;";break;case"bottomRight":o="bottom: 0; right: 0; text-align: right;";break;case"bottomLeft":o="bottom: 0; left: 0; text-align: left;"}i+='  <ul class="nGY2GThumbnailIcons" style="'+o+'">';for(var l=n[t].split(","),s=l.length,u=0;u<s;u++){var c=l[u].replace(/^\s*|\s*$/,""),h=c.substring(0,2).toLowerCase(),m=c,d=!0;if(/xs|sm|me|la|xl/i.test(h)&&(a[h]>a[Ue.GOM.curWidth]&&(d=!1),m=c.substring(2)),d){var p=u+1<s?"&nbsp;":"";switch(m){case"COUNTER":"album"==e.kind&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconImageCounter"></div>',i+='      <div class="nGY2GThumbnailIconText">'+Ue.O.icons.thumbnailCounter+Math.max(e.getContentLength(!1),e.numberItems)+p+"</div>",i+="    </li>",r++);break;case"COUNTER2":"album"==e.kind&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconTextBadge">'+Ue.O.icons.thumbnailCounter+Math.max(e.getContentLength(!1),e.numberItems)+p+"</div>",i+="    </li>",r++);break;case"SHARE":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+Ue.O.icons.thumbnailShare+"</div>",i+="    </li>",r++;break;case"DOWNLOAD":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+Ue.O.icons.thumbnailDownload+"</div>",i+="    </li>",r++;break;case"INFO":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+Ue.O.icons.thumbnailInfo+"</div>",i+="    </li>",r++;break;case"CART":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m+'">',i+="      <div>"+Ue.O.icons.thumbnailCart+"</div>",i+="    </li>",r++;break;case"DISPLAY":i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="DISPLAY">',i+='      <div class="nGY2GThumbnailIconImageShare">'+Ue.O.icons.thumbnailDisplay+"</div>",i+="    </li>",r++;break;case"CUSTOM1":case"CUSTOM2":case"CUSTOM3":case"CUSTOM4":case"CUSTOM5":case"CUSTOM6":case"CUSTOM7":case"CUSTOM8":case"CUSTOM9":case"CUSTOM10":var g=m.replace("CUSTOM","");i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="'+m.toLowerCase()+'">',i+='      <div class="nGY2GThumbnailIconImageShare">'+Ue.O.icons["thumbnailCustomTool"+g]+"</div>",i+="    </li>",r++;break;case"FEATURED":!0===e.featured&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="">',i+='      <div class="nGY2GThumbnailIconImageFeatured">'+Ue.O.icons.thumbnailFeatured+"</div>",i+="    </li>",r++);break;case"SELECT":1==Ue.O.thumbnailSelectable&&(i+='    <li class="nGY2GThumbnailIcon" data-ngy2action="TOGGLESELECT">',!0===e.selected?i+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailSelected">'+Ue.O.icons.thumbnailSelected+"</div>":i+='      <div class="nGY2GThumbnailIconImageSelect nGY2ThumbnailUnselected">'+Ue.O.icons.thumbnailUnselected+"</div>",i+="    </li>",r++)}}}i+="  </ul>"}return 0<r?i:""}function S(e){var t=e.title;if(1==Ue.O.thumbnailLabel.get("display")){void 0!==t&&0!=t.length||(t="&nbsp;"),""!=Ue.i18nTranslations.thumbnailImageTitle&&(t=Ue.i18nTranslations.thumbnailImageTitle);var i=Ue.O.thumbnailLabel.get("titleMaxLength");3<i&&t.length>i&&(t=t.substring(0,i)+"...")}return t}function N(e){var t="";if(1==Ue.O.thumbnailLabel.get("displayDescription")){t="album"==e.kind?""!=Ue.i18nTranslations.thumbnailImageDescription?Ue.i18nTranslations.thumbnailAlbumDescription:e.description:""!=Ue.i18nTranslations.thumbnailImageDescription?Ue.i18nTranslations.thumbnailImageDescription:e.description;var i=Ue.O.thumbnailLabel.get("descriptionMaxLength");3<i&&t.length>i&&(t=t.substring(0,i)+"..."),0==t.length&&(t="&nbsp;")}return t}function C(e){var t=Ue.tn.defaultSize.getOuterWidth(),i=0;return i="justified"==Ue.O.thumbnailAlignment?Math.floor(e/t):Math.floor((e+Ue.tn.opt.Get("gutterWidth"))/(t+Ue.tn.opt.Get("gutterWidth"))),0<Ue.O.maxItemsPerLine&&i>Ue.O.maxItemsPerLine&&(i=Ue.O.maxItemsPerLine),i<1&&(i=1),i}function k(e){var t=Ue.tn.opt.Get("stacks");if(0<t){e.$elt.css({display:"block"});for(var i=.9,n=t-1;0<=n;n--)e.$elt.eq(n).css("opacity",i),i-=.2}}function E(e){var t=Ue.GOM.items[e],i=Ue.I[t.thumbnailIdx];if(null!=i.$elt){var n=Ue.O.fnThumbnailHoverInit;null!==n&&("function"==typeof n?n($e,i,e):window[n]($e,i,e));for(var a=Ue.tn.buildInit.get(),r=0;r<a.length;r++)switch(a[r].property){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":i.CSSTransformSet(a[r].element,a[r].property,a[r].value),i.CSSTransformApply(a[r].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":i.CSSFilterSet(a[r].element,a[r].property,a[r].value),i.CSSFilterApply(a[r].element);break;default:i.$getElt(a[r].element).css(a[r].property,a[r].value)}var o=Ue.tn.hoverEffects.get();for(r=0;r<o.length;r++)if(!0===o[r].firstKeyframe)switch(o[r].type){case"scale":case"rotateX":case"rotateY":case"rotateZ":case"translateX":case"translateY":case"translateZ":i.CSSTransformSet(o[r].element,o[r].type,o[r].from),i.CSSTransformApply(o[r].element);break;case"blur":case"brightness":case"grayscale":case"sepia":case"contrast":case"opacity":case"saturate":i.CSSFilterSet(o[r].element,o[r].type,o[r].from),i.CSSFilterApply(o[r].element);break;default:i.$getElt(o[r].element).css(o[r].type,o[r].from)}i.hoverInitDone=!0}}function u(){if(-1!=Ue.GOM.albumIdx)for(var e=Ue.GOM.items.length,t=0;t<e;t++)E(t),Ue.I[Ue.GOM.items[t].thumbnailIdx].hovered=!1}function L(e){if(-1!=Ue.GOM.albumIdx&&Ue.galleryResizeEventEnabled&&Ue.GOM.slider.hostIdx!=e){var t=Ue.GOM.items[e],i=Ue.I[t.thumbnailIdx];if("albumUp"!=i.kind&&null!=i.$elt){i.hovered=!0;var n=Ue.O.fnThumbnailHover;null!==n&&("function"==typeof n?n(i.$elt,i,e):window[n](i.$elt,i,e));var a=Ue.tn.hoverEffects.get();try{for(var r=0;r<a.length;r++)!0===a[r].hoverin&&i.animate(a[r],0,!0)}catch(e){He(Ue,"error on hover: "+e.message)}}}}function D(){if(-1!=Ue.GOM.albumIdx)for(var e=Ue.GOM.items.length,t=0;t<e;t++)Ue.GOM.items[t].inDisplayArea?Y(t):Ue.I[Ue.GOM.items[t].thumbnailIdx].hovered=!1}function Y(e){if(-1!=Ue.GOM.albumIdx&&Ue.galleryResizeEventEnabled&&Ue.GOM.slider.hostIdx!=e){var t=Ue.GOM.items[e],i=Ue.I[t.thumbnailIdx];if("albumUp"!=i.kind&&i.hovered&&(i.hovered=!1,null!=i.$elt)){var n=Ue.O.fnThumbnailHoverOut;null!==n&&("function"==typeof n?n(i.$elt,i,e):window[n](i.$elt,i,e));var a=Ue.tn.hoverEffects.get();try{for(var r=0;r<a.length;r++)!0===a[r].hoverout&&i.animate(a[r],0,!1)}catch(e){He(Ue,"error on hoverOut: "+e.message)}}}}function A(e,t){Ue.O.debugMode&&console.log("#DisplayPhoto : "+t+"-"+e);var i=NGY2Item.GetIdx(Ue,t);Ue.GOM.curNavLevel=0==i?"l1":"lN",-1==i&&""!=Ue.O.kind&&(NGY2Item.New(Ue,"","",t,"0","album"),i=Ue.I.length-1);var n=NGY2Item.GetIdx(Ue,e);-1!=n?(Ue.O.debugMode&&console.log("#DisplayPhoto : "+n),ne(n)):_(t,A,e,t)}function _(e,t,i,n){switch(Ue.O.kind){case"":!function(e,t,i){if(!0===Ue.markupOrApiProcessed)return h("-1",0);if(void 0!==Ue.O.items&&null!==Ue.O.items)b=0,v=NGY2Tools.AlbumPostProcess.bind(Ue),Ue.I[0].contentIsLoaded=!0,jQuery.each(Ue.O.items,function(e,t){var i="";void 0===(i=Pe(t,"title"))&&(i="");var n="";V(n=void 0!==t["src"+Fe().toUpperCase()]?t["src"+Fe().toUpperCase()]:t.src)||(n=Ue.O.itemsBaseURL+n);var a="";void 0!==t.srct&&0<t.srct.length?V(a=t.srct)||(a=Ue.O.itemsBaseURL+a):a=n;var r="";void 0!==t.srct2x&&0<t.srct2x.length?V(r=t.srct2x)||(r=Ue.O.itemsBaseURL+r):r=""!=a?a:n,""!=Ue.O.thumbnailLabel.get("title")&&(i=GetImageTitle(n));var o="";void 0===(o=Pe(t,"description"))&&(o="");var l=Pe(t,"tags");void 0===l&&(l="");var s=0;void 0!==t.albumID&&(s=t.albumID);var u=null;void 0!==t.ID&&(u=t.ID);var c="image";void 0!==t.kind&&0<t.kind.length&&(c=t.kind);var h=NGY2Item.New(Ue,i,o,u,s,c,l);""!=i&&b++,h.setMediaURL(n,"img"),jQuery.each(Qe,function(e,t){var i=t.getID(n);if(null!=i)return n=t.url(i),"function"==typeof t.thumbUrl&&(a=t.thumbUrl(i)),h.mediaKind=t.kind,h.mediaMarkup=t.markup(i),!1}),void 0!==t.imageWidth&&(h.imageWidth=t.width),void 0!==t.imageHeight&&(h.imageHeight=t.height);var m=void 0!==t.imgtWidth?t.imgtWidth:0,d=void 0!==t.imgtHeight?t.imgtHeight:0;if(h.thumbs={url:{l1:{xs:a,sm:a,me:a,la:a,xl:a},lN:{xs:a,sm:a,me:a,la:a,xl:a}},width:{l1:{xs:m,sm:m,me:m,la:m,xl:m},lN:{xs:m,sm:m,me:m,la:m,xl:m}},height:{l1:{xs:d,sm:d,me:d,la:d,xl:d},lN:{xs:d,sm:d,me:d,la:d,xl:d}}},"img"==h.mediaKind)for(var p=["xs","sm","me","la","xl"],e=0;e<p.length;e++){var g=t["srct"+p[e].toUpperCase()];void 0!==g&&(V(g)||(g=Ue.O.itemsBaseURL+g),h.url.l1[p[e]]=g,h.url.lN[p[e]]=g);var m=t["imgt"+p[e].toUpperCase()+"Width"];null!=m&&(h.width.l1[p[e]]=parseInt(m),h.width.lN[p[e]]=parseInt(m));var d=t["imgt"+p[e].toUpperCase()+"Height"];null!=d&&(h.height.l1[p[e]]=parseInt(d),h.height.lN[p[e]]=parseInt(d))}void 0!==t.imageDominantColors&&(h.imageDominantColors=t.imageDominantColors),void 0!==t.imageDominantColor&&(h.imageDominantColor=t.imageDominantColor),void 0!==t.destURL&&0<t.destURL.length&&(h.destinationURL=t.destURL),void 0!==t.downloadURL&&0<t.downloadURL.length&&(h.downloadURL=t.downloadURL),void 0!==t.exifModel&&(h.exif.model=t.exifModel),void 0!==t.exifFlash&&(h.exif.flash=t.exifFlash),void 0!==t.exifFocalLength&&(h.exif.focallength=t.exifFocalLength),void 0!==t.exifFStop&&(h.exif.fstop=t.exifFStop),void 0!==t.exifExposure&&(h.exif.exposure=t.exifExposure),void 0!==t.exifIso&&(h.exif.iso=t.exifIso),void 0!==t.exifTime&&(h.exif.time=t.exifTime),void 0!==t.exifLocation&&(h.exif.exifLocation=t.exifTime),null!==t.customData&&(h.customData=Je(t.customData)),h.contentIsLoaded=!0;var f=Ue.O.fnProcessData;null!==f&&("function"==typeof f?f(h,"api",t):window[f](h,"api",t)),v(s)}),0==b&&(Ue.O.thumbnailLabel.display=!1);else{if(!(0<Ue.O.$markup.length))return je(Ue,"error: no media to process.");n=Ue.O.$markup,y=0,O=NGY2Tools.AlbumPostProcess.bind(Ue),Ue.I[0].contentIsLoaded=!0,jQuery.each(n,function(e,t){var i={"data-ngdesc":"","data-ngid":null,"data-ngkind":"image","data-ngtags":null,"data-ngdest":"","data-ngthumbimgwidth":0,"data-ngthumbimgheight":0,"data-ngimagewidth":0,"data-ngimageheight":0,"data-ngimagedominantcolors":null,"data-ngimagedominantcolor":null,"data-ngexifmodel":"","data-ngexifflash":"","data-ngexiffocallength":"","data-ngexiffstop":"","data-ngexifexposure":"","data-ngexifiso":"","data-ngexiftime":"","data-ngexiflocation":""};[].forEach.call(t.attributes,function(e){i[e.name.toLowerCase()]=e.value});var n="",a=Fe().toUpperCase();i.hasOwnProperty("data-ngsrc"+a)&&(n=i["data-ngsrc"+a]),""==n&&(n=i.href),V(n)||(n=Ue.O.itemsBaseURL+n);var r="";i.hasOwnProperty("data-ngthumb")?V(r=i["data-ngthumb"])||(r=Ue.O.itemsBaseURL+r):r=n;var o="";i.hasOwnProperty("data-ngthumb2x")&&(V(o=i["data-ngthumb2x"])||(o=Ue.O.itemsBaseURL+o));var l=i["data-ngdesc"],s=i.id;null==s&&(s=i["data-ngid"]);var u=i["data-ngkind"],c=i["data-ngtags"],h="0";i.hasOwnProperty("data-ngalbumid")&&(h=i["data-ngalbumid"]);var m=jQuery(t).text();""!=Ue.O.thumbnailLabel.get("title")&&null!=Ue.O.thumbnailLabel.get("title")&&(m=GetImageTitle(n));var d=NGY2Item.New(Ue,m,l,s,h,u,c);""!=m&&y++,d.setMediaURL(n,"img"),d.mediaKind="img",jQuery.each(Qe,function(e,t){var i=t.getID(n);if(null!=i)return n=t.url(i),"function"==typeof t.thumbUrl&&(r=t.thumbUrl(i)),d.mediaKind=t.kind,d.mediaMarkup=t.markup(i),!1}),d.imageWidth=parseInt(i["data-ngimagewidth"]),d.imageHeight=parseInt(i["data-ngimageheight"]);var p=parseInt(i["data-ngthumbimgwidth"]),g=parseInt(i["data-ngthumbimgheight"]);if(d.thumbs={url:{l1:{xs:r,sm:r,me:r,la:r,xl:r},lN:{xs:r,sm:r,me:r,la:r,xl:r}},width:{l1:{xs:p,sm:p,me:p,la:p,xl:p},lN:{xs:p,sm:p,me:p,la:p,xl:p}},height:{l1:{xs:g,sm:g,me:g,la:g,xl:g},lN:{xs:g,sm:g,me:g,la:g,xl:g}}},"img"==d.mediaKind)for(var f=["xs","sm","me","la","xl"],e=0;e<f.length;e++){if(i.hasOwnProperty("data-ngthumb"+f[e])){var b=i["data-ngthumb"+f[e]];V(b)||(b=Ue.O.itemsBaseURL+b),d.url.l1[f[e]]=b,d.url.lN[f[e]]=b}if(i.hasOwnProperty("data-ngthumb"+f[e]+"width")){var p=parseInt(i["data-ngthumb"+f[e]+"width"]);d.width.l1[f[e]]=p,d.width.lN[f[e]]=p}if(i.hasOwnProperty("data-ngthumb"+f[e]+"height")){var g=parseInt("data-ngthumb"+f[e]+"height");d.height.l1[f[e]]=g,d.height.lN[f[e]]=g}}d.imageDominantColors=i["data-ngimagedominantcolors"],d.imageDominantColor=i["data-ngimagedominantcolors"],d.destinationURL=i["data-ngdest"],d.downloadURL=i["data-ngdownloadurl"],d.exif.model=i["data-ngexifmodel"],d.exif.flash=i["data-ngexifflash"],d.exif.focallength=i["data-ngexiffocallength"],d.exif.fstop=i["data-ngexiffstop"],d.exif.exposure=i["data-ngexifexposure"],d.exif.iso=i["data-ngexifiso"],d.exif.time=i["data-ngexiftime"],d.exif.location=i["data-ngexiflocation"],d.contentIsLoaded=!0,void 0!==jQuery(t).data("customdata")&&(d.customData=Je(jQuery(t).data("customdata"))),void 0!==jQuery(t).data("ngcustomdata")&&(d.customData=Je(jQuery(t).data("ngcustomdata")));var v=Ue.O.fnProcessData;null!==v&&("function"==typeof v?v(d,"markup",t):window[v](d,"markup",t)),O(h)}),0==y&&(Ue.O.thumbnailLabel.display=!1),Ue.O.$markup=[]}var n,y,O;var b,v;Ue.markupOrApiProcessed=!0,null!=e&&e(t,i,null)}(t,i,n);break;default:jQuery.nanogallery2["data_"+Ue.O.kind](Ue,"AlbumGetContent",e,t,i,n)}}function V(e){return null!=e&&null!=e&&!!/^((http|https|ftp|ftps|file):\/\/)/.test(e)}function $(e,t){var i=["easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","easeInSine","easeOutSine","easeInOutSine","easeInExpo","easeOutExpo","easeInOutExpo","easeInCirc","easeOutCirc","easeInOutCirc","easeOutBounce","easeInBack","easeOutBack","easeInOutBack","elastic","bounce"],n=e.split("_");if(4<=n.length){if(t.name="",t.type=n[1],t.from=n[2],t.to=n[3],5<=n.length)for(var a=4;a<n.length;a++){for(var r=n[a],o=!1,l=0;l<i.length;l++)if(r==i[l]){o=!0,t.easing=r;break}if(!0!==o)if("HOVERIN"!=(r=r.toUpperCase()))if("HOVEROUT"!=r)if("KEYFRAME"!=r){var s=parseInt(r.replace(/[^0-9\.]/g,""),10);if(0<s){if(0<=r.indexOf("DURATION")){t.duration=s;continue}if(0<=r.indexOf("DURATIONBACK")){t.durationBack=s;continue}if(0<=r.indexOf("DELAY")){t.delay=s;continue}if(0<=r.indexOf("DELAYBACK")){t.delayBack=s;continue}t.duration=s}}else t.firstKeyframe=!1;else t.hoverin=!1;else t.hoverout=!1}t.element=P(n[0],t.type)}else t.name=e;return t}function P(e,t){var i=e;switch(e){case"image":i=".nGY2GThumbnailImage";break;case"thumbnail":i=".nGY2GThumbnail";break;case"label":i=".nGY2GThumbnailLabel";break;case"title":i=".nGY2GThumbnailTitle";break;case"description":i=".nGY2GThumbnailDescription";break;case"tools":i=".nGY2GThumbnailIcons";break;case"customlayer":i=".nGY2GThumbnailCustomLayer"}return i}function F(e){for(var t=[],i=0;i<e.length;i++)switch(e[i].name.toUpperCase()){case"BORDERLIGHTER":var n=qe(z().thumbnail.borderColor);name="thumbnail_borderColor_"+n+"_"+Ze(.5,n),t.push($(name,e[i]));break;case"BORDERDARKER":n=qe(z().thumbnail.borderColor);name="thumbnail_borderColor_"+n+"_"+Ze(-.5,n),t.push($(name,e[i]));break;case"SCALE120":t.push($("thumbnail_scale_1.00_1.20",e[i]));break;case"LABELAPPEAR":case"LABELAPPEAR75":t.push($("label_opacity_0.00_1.00",e[i]));break;case"TOOLSAPPEAR":t.push($("tools_opacity_0_1",e[i]));break;case"TOOLSSLIDEDOWN":t.push($("tools_translateY_-100%_0%",e[i]));break;case"TOOLSSLIDEUP":t.push($("tools_translateY_100%_0%",e[i]));break;case"LABELOPACITY50":t.push($("label_opacity_1.00_0.50",e[i]));break;case"LABELSLIDEUPTOP":case"LABELSLIDEUP":t.push($("label_translateY_100%_0%",e[i]));break;case"LABELSLIDEDOWN":t.push($("label_translateY_-100%_0%",e[i]));break;case"SCALELABELOVERIMAGE":t.push($("label_scale_0.00_1.00",e[i]));var a=Je(e[i]);t.push($("image_scale_1.00_0.00",a));break;case"OVERSCALE":case"OVERSCALEOUTSIDE":name="label_scale_0_100",t.push($("label_scale_2.00_1.00",e[i]));a=Je(e[i]);t.push($("label_opacity_0.00_1.00",a)),a=Je(e[i]),t.push($("image_scale_1.00_0.00",a)),a=Je(e[i]),t.push($("image_opacity_1.00_0.00",a));break;case"DESCRIPTIONAPPEAR":t.push($("description_opacity_0_1",e[i]));break;case"SLIDERIGHT":t.push($("image_translateX_0%_100%",e[i])),t.push($("label_translateX_-100%_0%",Je(e[i])));break;case"SLIDELEFT":t.push($("image_translateX_0%_-100%",e[i])),t.push($("label_translateX_100%_0%",Je(e[i])));break;case"SLIDEUP":t.push($("image_translateY_0%_-100%",e[i])),t.push($("label_translateY_100%_0%",Je(e[i])));break;case"SLIDEDOWN":t.push($("image_translateY_0%_100%",e[i])),t.push($("label_translateY_-100%_0%",Je(e[i])));break;case"IMAGESCALE150":case"IMAGESCALE150OUTSIDE":t.push($("image_scale_1.00_1.50",e[i]));break;case"IMAGESCALEIN80":t.push($("image_scale_1.20_1.00",e[i]));break;case"IMAGESLIDERIGHT":t.push($("image_translateX_0%_100%",e[i]));break;case"IMAGESLIDELEFT":t.push($("image_translateX_0%_-100%",e[i]));break;case"IMAGESLIDEUP":t.push($("image_translateY_0%_-100%",e[i]));break;case"IMAGESLIDEDOWN":t.push($("image_translateY_0%_100%",e[i]));break;case"LABELSLIDEUP":case"LABELSLIDEUPTOP":t.push($("label_translateY_100%_0%",e[i]));break;case"LABELSLIDEUPDOWN":t.push($("label_translateY_0%_100%",e[i]));break;case"DESCRIPTIONSLIDEUP":t.push($("description_translateY_110%_0%",e[i]));break;case"IMAGEBLURON":t.push($("image_blur_2.00px_0.00px",e[i]));break;case"IMAGEBLUROFF":t.push($("image_blur_0.00px_2.00px",e[i]));break;case"IMAGEGRAYON":t.push($("image_grayscale_0%_100%",e[i]));break;case"IMAGEGRAYOFF":t.push($("image_grayscale_100%_0%",e[i]));break;case"IMAGESEPIAON":t.push($("image_sepia_100%_1%",e[i]));break;case"IMAGESEPIAOFF":t.push($("image_sepia_1%_100%",e[i]));break;default:t.push(e[i])}return t}function R(e,t){switch(e.position){case"onBottom":Ue.tn.style[t].label="bottom:0; ";break;case"overImageOnTop":Ue.tn.style[t].label="top:0; position:absolute;";break;case"overImageOnMiddle":Ue.tn.style[t].label="top:0; bottom:0;",Ue.tn.style[t].title="position:absolute; bottom:50%;",Ue.tn.style[t].desc="position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:Ue.O.thumbnailLabel.position="overImageOnBottom",Ue.tn.style[t].label="bottom:0; position:absolute;"}switch("onBottom"!=e.position&&(e.titleMultiLine&&(Ue.tn.style[t].title="white-space:normal;"),e.descriptionMultiLine&&(Ue.tn.style[t].desc="white-space:normal;")),e.align){case"right":Ue.tn.style[t].label+="text-align:right;";break;case"left":Ue.tn.style[t].label+="text-align:left;";break;default:Ue.tn.style[t].label+="text-align:center;"}null!=e.titleFontSize&&""!=e.titleFontSize&&(Ue.tn.style[t].title+="font-size:"+e.titleFontSize+";"),null!=e.descriptionFontSize&&""!=e.descriptionFontSize&&(Ue.tn.style[t].desc+="font-size:"+e.descriptionFontSize+";"),0==e.displayDescription&&(Ue.tn.style[t].desc+="display:none;")}function B(e,t,i,n){Ue.tn.settings[e][t].xs=i,Ue.tn.settings[e][t].sm=i,Ue.tn.settings[e][t].me=i,Ue.tn.settings[e][t].la=i,Ue.tn.settings[e][t].xl=i,Ue.tn.settings[e][t].xsc=n,Ue.tn.settings[e][t].smc=n,Ue.tn.settings[e][t].mec=n,Ue.tn.settings[e][t].lac=n,Ue.tn.settings[e][t].xlc=n}function z(){var e=null;switch(tt(Ue.O.galleryTheme)){case"object":e=Ue.galleryTheme_dark,jQuery.extend(!0,e,Ue.O.galleryTheme);break;case"string":switch(Ue.O.galleryTheme){case"light":e=Ue.galleryTheme_light;break;case"default":case"dark":case"none":default:e=Ue.galleryTheme_dark}break;default:e=Ue.galleryTheme_dark}return e}function U(e){var t=K(e,!1);if(-1==t.GOMidx)return"exit";var i=Ue.GOM.items[t.GOMidx].thumbnailIdx;switch(Ue.GOM.slider.hostIdx==t.GOMidx&&(i=Ue.GOM.items[Ue.GOM.slider.currentIdx].thumbnailIdx),t.action){case"OPEN":return ee(i,!1),"exit";case"DISPLAY":return ee(i,!0),"exit";case"TOGGLESELECT":return W(i),"exit";case"SHARE":return X(i),"exit";case"DOWNLOAD":return H(i),"exit";case"INFO":return be(Ue.I[i]),"exit";case"CART":return function(e){for(var t=0;t<Ue.shoppingCart.length;t++)if(Ue.shoppingCart[t].idx==e){Ue.shoppingCart[t].cnt++;var i=Ue.O.fnShoppingCartUpdated;return null!==i&&("function"==typeof i?i(Ue.shoppingCart):window[i](Ue.shoppingCart)),De("shoppingCartUpdated")}{Ue.shoppingCart.push({idx:e,ID:Ue.I[e].GetID(),cnt:1});var i=Ue.O.fnShoppingCartUpdated;null!==i&&("function"==typeof i?i(Ue.shoppingCart):window[i](Ue.shoppingCart)),De("shoppingCartUpdated")}}(i),"exit";default:var n=Ue.O.fnThumbnailToolCustAction;null!==n&&("function"==typeof n?n(t.action,Ue.I[i]):window[n](t.action,Ue.I[i]))}}function H(e){if("img"==Ue.I[e].mediaKind){var t=Ue.I[e].src;null!=Ue.I[e].downloadURL&&""!=Ue.I[e].downloadURL&&(t=Ue.I[e].downloadURL);var i=document.createElement("a");i.href=t,i.download=t.split("/").pop(),i.target="_blank",i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i)}}function j(){for(var e=Ue.GOM.nbSelected=0,t=Ue.GOM.items.length;e<t;e++){var i=Ue.I[Ue.GOM.items[e].thumbnailIdx];if(i.selected){i.selected=!1;var n=Ue.O.fnThumbnailSelection;null!==n&&("function"==typeof n?n(i.$elt,i,Ue.I):window[n](i.$elt,i,Ue.I))}i.selected=!1}}function W(e){var t=Ue.I[e];!0===t.selected?(Q(t,!1),Ue.GOM.nbSelected--,De("itemUnSelected")):(Q(t,!0),Ue.GOM.nbSelected++,De("itemSelected"))}function Q(e,t){e.selected=t,function(e){if(null!=e.$elt){var t=e.$getElt(".nGY2GThumbnail"),i=e.$getElt(".nGY2GThumbnailIconImageSelect");!0===e.selected?(t.addClass("nGY2GThumbnailSubSelected"),i.addClass("nGY2ThumbnailSelected"),i.removeClass("nGY2ThumbnailUnselected"),i.html(Ue.O.icons.thumbnailSelected)):(t.removeClass("nGY2GThumbnailSubSelected"),i.removeClass("nGY2ThumbnailSelected"),i.addClass("nGY2ThumbnailUnselected"),i.html(Ue.O.icons.thumbnailUnselected))}}(e);var i=Ue.O.fnThumbnailSelection;null!==i&&("function"==typeof i?i(e.$elt,e,Ue.I):window[i](e.$elt,e,Ue.I))}function X(e){var t=Ue.I[e],n=document.location.protocol+"//"+document.location.hostname+document.location.pathname,i="#nanogallery/"+Ue.baseEltID+"/";"image"==t.kind?i+=t.albumID+"/"+t.GetID():i+=t.GetID();var a="";a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="facebook">'+Ue.O.icons.shareFacebook+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="pinterest">'+Ue.O.icons.sharePinterest+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="tumblr">'+Ue.O.icons.shareTumblr+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="twitter">'+Ue.O.icons.shareTwitter+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="googleplus">'+Ue.O.icons.shareGooglePlus+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="vk">'+Ue.O.icons.shareVK+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;" data-share="mail">'+Ue.O.icons.shareMail+"</div>",a+='<div class="nGY2PopupOneItem" style="text-align:center;"></div>',a+='<input class="nGY2PopupOneItemText" readonly type="text" value="'+n+i+'" style="width:100%;text-align:center;">',a+="<br>",n=encodeURIComponent(document.location.protocol+"//"+document.location.hostname+document.location.pathname+i);var r=t.title,o=t.thumbImg().src;q("Share to:",a,"Center"),Ue.popup.$elt.find(".nGY2PopupOneItem").on("click",function(e){e.stopPropagation();var t="",i=!0;switch(jQuery(this).attr("data-share").toUpperCase()){case"FACEBOOK":t="https://www.facebook.com/sharer.php?u="+n;break;case"VK":t="http://vk.com/share.php?url="+n;break;case"GOOGLEPLUS":t="https://plus.google.com/share?url="+n;break;case"TWITTER":t="https://twitter.com/intent/tweet?text="+r+"url="+n;break;case"PINTEREST":t="https://pinterest.com/pin/create/button/?media="+o+"&url="+n+"&description="+r;break;case"TUMBLR":t="http://www.tumblr.com/share/link?url="+n+"&name="+r;break;case"MAIL":t="mailto:?subject="+r+"&body="+n;break;default:i=!1}i&&(window.open(t,"","height=550,width=500,left=100,top=100,menubar=0"),Ue.popup.close())})}function q(e,t,i){var n='<div class="nGY2Popup" style="opacity:0;"><div class="nGY2PopupContent'+i+'">';n+='<div class="nGY2PopupCloseButton">'+Ue.O.icons.buttonClose+"</div>",n+='<div class="nGY2PopupTitle">'+e+"</div>",n+=t,n+="</div></div>",Ue.popup.$elt=jQuery(n).appendTo("body"),et(Ue.VOM.$viewer,Ue.popup.$elt),Ue.popup.isDisplayed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},easing:"easeInOutSine",duration:250,step:function(e,t){Ue.popup.$elt.css(e)}}),Ue.popup.$elt.find(".nGY2PopupCloseButton").on("click",function(e){e.stopPropagation(),Ue.popup.close()})}function Z(e){if(!Ue.VOM.viewerDisplayed&&-1!=Ue.GOM.albumIdx){var t=K(e,!0);-1!=t.GOMidx&&(e.target||e.srcElement,L(t.GOMidx))}}function J(e){if(!Ue.VOM.viewerDisplayed&&-1!=Ue.GOM.albumIdx){var t=K(e,!0);-1!=t.GOMidx&&(e.target||e.srcElement,Y(t.GOMidx))}}function K(e,t){var i={action:"NONE",GOMidx:-1};if(null==e)return i;for(var n=e.target||e.srcElement;n!=Ue.$E.conTnParent[0];){if(jQuery(n).hasClass("nGY2GThumbnail"))return"NONE"==i.action&&(i.action="OPEN"),i.GOMidx=jQuery(n).data("index"),i;if(!t){var a=jQuery(n).data("ngy2action");""!=a&&null!=a&&(i.action=a)}if(null==n.parentNode)return i;n=n.parentNode}return i}function ee(e,t){var i=Ue.I[e],n=Ue.O.fnThumbnailClicked;if(null!==n&&("function"==typeof n?n(i.$elt,i):window[n](i.$elt,i)),void 0!==i.destinationURL&&0<i.destinationURL.length)window.location=i.destinationURL;else switch(i.kind){case"image":!1===t&&0<Ue.GOM.nbSelected?W(e):ne(e);break;case"album":if(!1===t&&0<Ue.GOM.nbSelected)W(e);else{if(Ue.O.thumbnailAlbumDisplayImage&&0!=e)return void te(e);h("-1",i.GetID())}break;case"albumUp":h("-1",NGY2Item.Get(Ue,i.albumID).albumID)}}function te(e){Ue.O.debugMode&&console.log("#DisplayFirstPhotoInAlbum : "+e);for(var t=Ue.I[e],i=Ue.I.length,n=0;n<i;n++)if(Ue.I[n].albumID==t.GetID())return void ne(n);_(t.GetID(),te,e,null)}function ie(e){switch(Ue.O.kind){case"flickr":var t="https://www.flickr.com/photos/"+Ue.O.userID+"/"+e.GetID();"0"!=e.albumID&&(t+="/in/album-"+e.albumID+"/"),window.open(t,"_blank");break;case"picasa":case"google":case"google2":default:t=e.responsiveURL();window.open(t,"_blank")}}function ne(e){if(Ue.O.thumbnailOpenImage){if(Ue.O.thumbnailOpenOriginal)return void ie(Ue.I[e]);var t=[];Ue.VOM.currItemIdx=0,Ue.VOM.items=[],Ue.VOM.albumID=Ue.I[e].albumID;var i=new c(e);Ue.VOM.items.push(i),t.push(Ue.I[e]);for(var n=Ue.I.length,a=e+1;a<n;a++){if("image"==(l=Ue.I[a]).kind&&l.isToDisplay(Ue.VOM.albumID)&&""==l.destinationURL){i=new c(a);Ue.VOM.items.push(i),t.push(l)}}var r=Ue.VOM.items.length,o=1;for(a=0;a<e;a++){var l;if("image"==(l=Ue.I[a]).kind&&l.isToDisplay(Ue.VOM.albumID)&&""==l.destinationURL)(i=new c(a)).mediaNumber=o,Ue.VOM.items.push(i),t.push(l),o++}for(var s=0;s<r;s++)Ue.VOM.items[s].mediaNumber=o,o++;var u=Ue.O.fnThumbnailOpen;if(null!==u)return void("function"==typeof u?u(t):window[u](t));Ue.VOM.viewerDisplayed?(Ue.VOM.$mediaCurrent.empty(),Ue.VOM.$mediaCurrent.append(Ue.VOM.NGY2Item(0).mediaMarkup),Ce(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,0),Ce(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,0),"img"==Ue.VOM.NGY2Item(0).mediaKind&&Ue.VOM.ImageLoader.loadImage(Ne,Ue.VOM.NGY2Item(0)),xe(0,"")):function(){Ue.VOM.viewerDisplayed=!0,Ue.GOM.firstDisplay=!1,Ue.VOM.saveOverflowX=window.getComputedStyle(document.body)["overflow-x"],Ue.VOM.saveOverflowY=window.getComputedStyle(document.body)["overflow-y"],jQuery("body").css({overflow:"hidden"}),Ue.VOM.$cont=jQuery('<div  class="nGY2 nGY2ViewerContainer" style="opacity:1"></div>').appendTo("body"),function(){if(""==Ue.VOM.viewerTheme){void 0!==Ue.O.colorSchemeViewer&&(Ue.O.viewerTheme=Ue.O.colorSchemeViewer);var e=null;switch(tt(Ue.O.viewerTheme)){case"object":e=Ue.viewerTheme_dark,jQuery.extend(!0,e,Ue.O.viewerTheme),Ue.VOM.viewerTheme="nanogallery_viewertheme_custom_"+Ue.baseEltID;break;case"string":switch(Ue.O.viewerTheme){case"none":return;case"light":e=Ue.viewerTheme_light,Ue.VOM.viewerTheme="nanogallery_viewertheme_light_"+Ue.baseEltID;break;case"border":e=Ue.viewerTheme_border,Ue.VOM.viewerTheme="nanogallery_viewertheme_border_"+Ue.baseEltID;break;case"dark":case"default":e=Ue.viewerTheme_dark,Ue.VOM.viewerTheme="nanogallery_viewertheme_dark_"+Ue.baseEltID}break;default:return He(Ue,"Error in viewerTheme parameter.")}var t="."+Ue.VOM.viewerTheme+" ",i=t+".nGY2Viewer { background:"+e.background+"; }\n";i+=t+".nGY2ViewerMedia { border:"+e.imageBorder+"; box-shadow:"+e.imageBoxShadow+"; }\n",i+=t+".nGY2Viewer .toolbarBackground { background:"+e.barBackground+"; }\n",i+=t+".nGY2Viewer .toolbar { border:"+e.barBorder+"; color:"+e.barColor+"; }\n",i+=t+".nGY2Viewer .toolbar .previousButton:after { color:"+e.barColor+"; }\n",i+=t+".nGY2Viewer .toolbar .nextButton:after { color:"+e.barColor+"; }\n",i+=t+".nGY2Viewer .toolbar .closeButton:after { color:"+e.barColor+"; }\n",i+=t+".nGY2Viewer .toolbar .label .title { color:"+e.barColor+"; }\n",i+=t+".nGY2Viewer .toolbar .label .description { color:"+e.barDescriptionColor+"; }\n",jQuery("head").append("<style>"+i+"</style>"),Ue.VOM.$cont.addClass(Ue.VOM.viewerTheme)}else Ue.VOM.$cont.addClass(Ue.VOM.viewerTheme)}(),Ue.VOM.$viewer=jQuery('<div class="nGY2Viewer" style="opacity:0" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(Ue.VOM.$cont),Ue.VOM.$viewer.css({msTouchAction:"none",touchAction:"none"}),Ue.VOM.currItemIdx=0;var e='<div class="nGY2ViewerMediaPan">'+Ue.VOM.NGY2Item(-1).mediaMarkup+"</div>";e+='<div class="nGY2ViewerMediaPan">'+Ue.VOM.NGY2Item(0).mediaMarkup+"</div>",e+='<div class="nGY2ViewerMediaPan">'+Ue.VOM.NGY2Item(1).mediaMarkup+"</div>";var t="",i=Ue.O.icons.viewerImgPrevious;null!=i&&""!=i&&(t+='<div class="nGY2ViewerAreaPrevious ngy2viewerToolAction" data-ngy2action="previous">'+i+"</div>");var n=Ue.O.icons.viewerImgNext;null!=n&&""!=n&&(t+='<div class="nGY2ViewerAreaNext ngy2viewerToolAction" data-ngy2action="next">'+n+"</div>"),Ue.VOM.$content=jQuery('<div class="nGY2ViewerContent">'+e+t+"</div>").appendTo(Ue.VOM.$viewer);var a=Ue.VOM.$content.find(".nGY2ViewerMediaPan");Ue.VOM.$mediaPrevious=a.eq(0),Ue.VOM.$mediaCurrent=a.eq(1),Ue.VOM.$mediaNext=a.eq(2),Ue.VOM.ImageLoader.loadImage(Ne,Ue.VOM.NGY2Item(0)),Ue.VOM.ImageLoader.loadImage(Ne,Ue.VOM.NGY2Item(-1)),Ue.VOM.ImageLoader.loadImage(Ne,Ue.VOM.NGY2Item(1)),Ue.VOM.padding.H=parseInt(Ue.VOM.$content.css("padding-left"))+parseInt(Ue.VOM.$content.css("padding-right")),Ue.VOM.padding.V=parseInt(Ue.VOM.$content.css("padding-top"))+parseInt(Ue.VOM.$content.css("padding-bottom"));var r="",o=" toolbarBackground";Ue.O.viewerToolbar.fullWidth&&(r=" toolbarBackground",o="");var l="text-align:center;";switch(Ue.O.viewerToolbar.align){case"left":l="text-align:left;";break;case"right":l="text-align:right;"}var s='<div class="toolbarContainer nGEvent'+r+'" style="visibility:'+(Ue.O.viewerToolbar.display?"visible":"hidden")+";"+l+'"><div class="toolbar nGEvent'+o+'"></div></div>';if(Ue.VOM.$toolbar=jQuery(s).appendTo(Ue.VOM.$viewer),"min"==Ue.VOM.toolbarMode||0<Ue.O.viewerToolbar.autoMinimize&&Ue.O.viewerToolbar.autoMinimize>=Ue.GOM.cache.viewport.w?Ge():Oe(),""!=Ue.O.viewerTools.topLeft){for(var u='<div class="nGY2ViewerToolsTopLeft nGEvent"><div class="toolbar nGEvent">',c=Ue.O.viewerTools.topLeft.split(","),h=0,m=c.length;h<m;h++)u+=ve(c[h]);u+="</div></div>",Ue.VOM.$toolbarTL=jQuery(u).appendTo(Ue.VOM.$viewer)}if(""!=Ue.O.viewerTools.topRight){for(var d='<div class="nGY2ViewerToolsTopRight nGEvent"><div class="toolbar nGEvent">',p=Ue.O.viewerTools.topRight.split(","),h=0,g=p.length;h<g;h++)d+=ve(p[h]);d+="</div></div>",Ue.VOM.$toolbarTR=jQuery(d).appendTo(Ue.VOM.$viewer)}ge(),Ue.O.viewerDisplayLogo&&(Ue.$E.vwLogo=jQuery('<div class="nGY2 nGY2ViewerLogo"></div>').appendTo(Ue.VOM.$viewer)),ngscreenfull.enabled&&Ue.O.viewerFullscreen&&ngscreenfull.request(),et("",Ue.VOM.$viewer),Ee(!0),Ue.VOM.timeImgChanged=(new Date).getTime(),(new NGTweenable).tween({from:{opacity:0,posY:.5*Ue.VOM.window.lastHeight},to:{opacity:1,posY:0},delay:30,duration:500,easing:"easeOutQuart",step:function(e){Ue.VOM.$viewer.css("opacity",e.opacity),Ue.VOM.$viewer[0].style[Ue.CSStransformName]="translateY("+e.posY+"px) "}}),Ie(0),null==Ue.VOM.hammertime&&(Ue.VOM.hammertime=new NGHammer.Manager(Ue.VOM.$cont[0],{recognizers:[[NGHammer.Pinch,{enable:!0}],[NGHammer.Pan,{direction:NGHammer.DIRECTION_ALL}]]}),Ue.VOM.hammertime.on("pan",function(e){if(he())if(Ue.VOM.zoom.isZooming)ce(Ue.VOM.panPosX+e.deltaX,Ue.VOM.panPosY+e.deltaY,Ue.VOM.$mediaCurrent,!1),1==Ue.VOM.toolbarsDisplayed&&Ue.VOM.toolsHide();else if(50<e.deltaY&&Math.abs(e.deltaX)<50){Ie(0);var t=Math.min(e.deltaY,200);Ue.VOM.$viewer[0].style[Ue.CSStransformName]="translateY("+t+"px) ",Ue.VOM.$viewer.css("opacity",1-t/200/2)}else Ie(e.deltaX),Ue.VOM.$viewer[0].style[Ue.CSStransformName]="translateY(0px)",Ue.VOM.$viewer.css("opacity",1)}),Ue.VOM.hammertime.on("panend",function(e){he()&&(Ue.VOM.zoom.isZooming?(Ue.VOM.timeImgChanged=(new Date).getTime(),ce(Ue.VOM.panPosX+e.deltaX,Ue.VOM.panPosY+e.deltaY,Ue.VOM.$mediaCurrent,!0)):50<e.deltaY&&Math.abs(e.deltaX)<50?ke(Ue.VOM.currItemIdx):Math.abs(e.deltaX)<50?Ie(0):50<e.deltaX?Te():Me())}),Ue.O.viewerZoom?(Ue.VOM.hammertime.add(new NGHammer.Tap({event:"doubletap",taps:2})),Ue.VOM.hammertime.add(new NGHammer.Tap({event:"singletap"})),Ue.VOM.hammertime.get("doubletap").recognizeWith("singletap"),Ue.VOM.hammertime.get("singletap").requireFailure("doubletap"),Ue.VOM.hammertime.on("singletap",function(e){he()&&(me(e.srcEvent),0==Ue.VOM.toolbarsDisplayed?ze(pe,400,!1)():-1!==e.target.className.indexOf("nGY2ViewerMedia")&&(e.srcEvent.pageX<Ue.GOM.cache.viewport.w/2?Te():Me()))}),Ue.VOM.hammertime.on("doubletap",function(e){he()&&(me(e.srcEvent),-1!==e.target.className.indexOf("nGY2ViewerMedia")&&(Ue.VOM.zoom.isZooming?(Ue.VOM.zoom.isZooming=!1,Ue.VOM.zoom.userFactor=1,Ee(!0)):ae()&&(Ue.VOM.zoom.userFactor=1.5,se())))}),Ue.VOM.hammertime.on("pinchend",function(e){e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),Ue.VOM.timeImgChanged=(new Date).getTime()}),Ue.VOM.hammertime.on("pinch",function(e){e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),ae()&&(Ue.VOM.zoom.userFactor=e.scale,oe(),le(),se())})):Ue.VOM.hammertime.on("tap",function(e){he()&&(me(e.srcEvent),0==Ue.VOM.toolbarsDisplayed?ze(pe,400,!1)():-1!==e.target.className.indexOf("nGY2ViewerMedia")&&(e.srcEvent.pageX<Ue.GOM.cache.viewport.w/2?Te():Me()))})),xe(0,""),Ue.O.slideshowAutoStart&&(Ue.VOM.playSlideshow=!1,ye())}()}}function ae(){if(Ue.O.viewerZoom&&!Ue.VOM.viewerMediaIsChanged){var e=Ue.VOM.NGY2Item(0);if(0<e.imageHeight&&0<e.imageWidth)return!1===Ue.VOM.zoom.isZooming&&(Ue.VOM.zoom.userFactor=1,Ue.VOM.zoom.isZooming=!0),!0}}function re(e){e?(Ue.VOM.zoom.userFactor+=.1,oe()):(Ue.VOM.zoom.userFactor-=.1,le()),se()}function oe(){3<Ue.VOM.zoom.userFactor&&(Ue.VOM.zoom.userFactor=3)}function le(){Ue.VOM.zoom.userFactor<.2&&(Ue.VOM.zoom.userFactor=.2)}function se(){Ue.VOM.zoom.isZooming||(Ue.VOM.zoom.userFactor=1),e(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,!0),e(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,!1),e(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,!1)}function ue(e){var t=e.children().eq(0);t.css({height:"80%"}),t.css({width:"90%"}),t[0].style[Ue.CSStransformName]='translate(0px, "50%") '}function e(e,t,i){if("img"==e.mediaKind)if(0!=e.imageHeight&&0!=e.imageWidth){var n=1==i?Ue.VOM.zoom.userFactor:1,a=1;"bestImageQuality"==Ue.O.viewerImageDisplay&&(a=window.devicePixelRatio);var r=(Ue.VOM.window.lastWidth-Ue.VOM.padding.V)/(e.imageWidth/a),o=(Ue.VOM.window.lastHeight-Ue.VOM.padding.H)/(e.imageHeight/a),l=Math.min(r,o);1<l&&"upscale"!=Ue.O.viewerImageDisplay&&(l=1);var s=e.imageHeight/a*n*l,u=e.imageWidth/a*n*l;t.children().eq(0).css({height:s}),t.children().eq(0).css({width:u});var c=0;u>Ue.VOM.window.lastWidth&&(c=-(u-Ue.VOM.window.lastWidth)/2);var h=0;s>Ue.VOM.window.lastHeight&&(h=(s-Ue.VOM.window.lastHeight)/2),h=0,i&&(Ue.VOM.zoom.isZooming||(Ue.VOM.panPosX=0,Ue.VOM.panPosY=0),Ue.VOM.zoom.posX=c,Ue.VOM.zoom.posY=h,ce(Ue.VOM.panPosX,Ue.VOM.panPosY,t,!1))}else Ce(e,t,0);else ue(t)}function ce(e,t,i,n){n&&(Ue.VOM.panPosX=e,Ue.VOM.panPosY=t),e+=Ue.VOM.zoom.posX,t+=Ue.VOM.zoom.posY,i.children()[0].style[Ue.CSStransformName]="translate("+e+"px, "+t+"px) "}function he(){return!(!Ue.VOM.viewerDisplayed||Ue.VOM.viewerMediaIsChanged||"img"!=Ue.VOM.NGY2Item(0).mediaKind)}function me(e){e.stopPropagation(),e.preventDefault()}function de(){Ue.VOM.viewerDisplayed&&(Ue.VOM.toolbarsDisplayed=!1,t(0))}function pe(){Ue.VOM.viewerDisplayed&&(Ue.VOM.toolbarsDisplayed=!0,t(1),Ue.VOM.toolsHide())}function t(e){Ue.VOM.$toolbar.css("opacity",e),null!=Ue.VOM.$toolbarTL&&Ue.VOM.$toolbarTL.css("opacity",e),null!=Ue.VOM.$toolbarTR&&Ue.VOM.$toolbarTR.css("opacity",e),Ue.VOM.$content.find(".nGY2ViewerAreaNext").css("opacity",e),Ue.VOM.$content.find(".nGY2ViewerAreaPrevious").css("opacity",e)}function ge(){Ue.VOM.$viewer.off("touchstart click",".ngy2viewerToolAction",fe),Ue.VOM.$viewer.on("touchstart click",".ngy2viewerToolAction",fe)}function fe(e){if(!((new Date).getTime()-Ue.timeLastTouchStart<300)){Ue.timeLastTouchStart=(new Date).getTime();var t=Xe(this),i=t.data("ngy2action");if(null!=i){switch(i){case"next":me(e),Me();break;case"previous":me(e),Te();break;case"playPause":e.stopPropagation(),ye();break;case"zoomIn":me(e),ae()&&re(!0);break;case"zoomOut":me(e),ae()&&re(!1);break;case"minimize":me(e),"std"==Ue.VOM.toolbarMode?Ge():Oe();break;case"fullScreen":e.stopPropagation(),ngscreenfull.enabled&&ngscreenfull.toggle();break;case"info":e.stopPropagation(),be(Ue.VOM.NGY2Item(0));break;case"close":if(me(e),(new Date).getTime()-Ue.VOM.timeImgChanged<400)return;ke(Ue.VOM.currItemIdx);break;case"download":me(e),H(Ue.VOM.items[Ue.VOM.currItemIdx].ngy2ItemIdx);break;case"share":me(e),X(Ue.VOM.items[Ue.VOM.currItemIdx].ngy2ItemIdx);break;case"linkOriginal":me(e),ie(Ue.VOM.NGY2Item(0))}var n=Ue.O.fnImgToolbarCustClick;0==i.indexOf("custom")&&null!==n&&("function"==typeof n?n(i,t,Ue.VOM.NGY2Item(0)):window[n](i,t,Ue.VOM.NGY2Item(0)))}}}function be(e){var t='<div class="nGY2PopupOneItemText">'+e.title+"</div>";t+='<div class="nGY2PopupOneItemText">'+e.description+"</div>",""!=e.author&&(t+='<div class="nGY2PopupOneItemText">'+Ue.O.icons.user+" "+e.author+"</div>"),""!=e.exif.model&&(t+='<div class="nGY2PopupOneItemText">'+Ue.O.icons.config+" "+e.exif.model+"</div>");var i="";i+=""==e.exif.flash?"":" &nbsp; "+e.exif.flash,i+=""==e.exif.focallength?"":" &nbsp; "+e.exif.focallength+"mm",i+=""==e.exif.fstop?"":" &nbsp; f"+e.exif.fstop,i+=""==e.exif.exposure?"":" &nbsp; "+e.exif.exposure+"s",i+=""==e.exif.iso?"":" &nbsp; "+e.exif.iso+" ISO",""!=e.exif.time&&(i+=" &nbsp; "+e.exif.time),t+='<div class="nGY2PopupOneItemText">'+i+"</div>",""!=e.exif.location&&(t+='<div class="nGY2PopupOneItemText">'+Ue.O.icons.location+' <a href="http://maps.google.com/maps?z=12&t=m&q='+encodeURIComponent(e.exif.location)+'" target="_blank">'+e.exif.location+"</a></div>",t+='<iframe width="300" height="150" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?&amp;t=m&amp;q='+encodeURIComponent(e.exif.location)+'&amp;output=embed"></iframe>'),q(Ue.O.icons.viewerInfo,t,"Left")}function ve(e){var t='<div class="ngbt ngy2viewerToolAction ',i=e.replace(/^\s+|\s+$/g,"");switch(i){case"minimizeButton":var n=Ue.O.icons.viewerToolbarMin;"min"==Ue.VOM.toolbarMode&&(n=Ue.O.icons.viewerToolbarStd),t+='minimizeButton nGEvent" data-ngy2action="minimize">'+n+"</div>";break;case"previousButton":t+='previousButton nGEvent" data-ngy2action="previous">'+Ue.O.icons.viewerPrevious+"</div>";break;case"pageCounter":t+='pageCounter nGEvent"></div>';break;case"nextButton":t+='nextButton nGEvent" data-ngy2action="next">'+Ue.O.icons.viewerNext+"</div>";break;case"playPauseButton":t+='playButton playPauseButton nGEvent" data-ngy2action="playPause">'+Ue.O.icons.viewerPlay+"</div>";break;case"downloadButton":t+='downloadButton nGEvent" data-ngy2action="download">'+Ue.O.icons.viewerDownload+"</div>";break;case"zoomButton":t+='nGEvent" data-ngy2action="zoomIn">'+Ue.O.icons.viewerZoomIn+'</div><div class="ngbt ngy2viewerToolAction nGEvent" data-ngy2action="zoomOut">'+Ue.O.icons.viewerZoomOut+"</div>";break;case"fullscreenButton":var a=Ue.O.icons.viewerFullscreenOn;ngscreenfull.enabled&&Ue.VOM.viewerIsFullscreen&&(a=Ue.O.icons.viewerFullscreenOff),t+='setFullscreenButton fullscreenButton nGEvent" data-ngy2action="fullScreen">'+a+"</div>";break;case"infoButton":t+='infoButton nGEvent" data-ngy2action="info">'+Ue.O.icons.viewerInfo+"</div>";break;case"linkOriginalButton":t+='linkOriginalButton nGEvent" data-ngy2action="linkOriginal">'+Ue.O.icons.viewerLinkOriginal+"</div>";break;case"closeButton":t+='closeButton nGEvent" data-ngy2action="close">'+Ue.O.icons.buttonClose+"</div>";break;case"shareButton":t+='nGEvent" data-ngy2action="share">'+Ue.O.icons.viewerShare+"</div>";break;case"label":t+='"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:if(0==i.indexOf("custom")){var r="",o=Ue.O.fnImgToolbarCustInit;if(null!==o&&("function"==typeof o?o(i):window[o](i)),null==r||""==r){var l=i.substring(6);r=Ue.O.icons["viewerCustomTool"+l]}t+="ngy2CustomBtn "+i+' nGEvent" data-ngy2action="'+i+'">'+r+"</div>"}else t=""}return t}function ye(){Ue.VOM.playSlideshow?(window.clearTimeout(Ue.VOM.playSlideshowTimerID),Ue.VOM.playSlideshow=!1,Ue.VOM.$viewer.find(".playPauseButton").html(Ue.O.icons.viewerPlay)):(Ue.VOM.playSlideshow=!0,Me(),Ue.VOM.$viewer.find(".playPauseButton").html(Ue.O.icons.viewerPause))}function Oe(){Ue.VOM.toolbarMode="std";for(var e="",t=Ue.O.viewerToolbar.standard.split(","),i=0,n=t.length;i<n;i++)e+=ve(t[i]);Ue.VOM.$toolbar.find(".toolbar").html(e),we()}function Ge(){if(null==Ue.O.viewerToolbar.minimized||""==Ue.O.viewerToolbar.minimized)Oe();else{Ue.VOM.toolbarMode="min";for(var e="",t=Ue.O.viewerToolbar.minimized.split(","),i=0,n=t.length;i<n;i++)e+=ve(t[i]);Ue.VOM.$toolbar.find(".toolbar").html(e),we()}}function we(){var e=Ue.VOM.currItemIdx;if(null!=e){var t=Ue.VOM.NGY2Item(0),i=!1;void 0!==t.title&&""!=t.title?(Ue.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(t.title),i=!0):Ue.VOM.$viewer.find(".ngy2viewerToolAction").find(".title").html(""),void 0!==t.description&&""!=t.description?(Ue.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(t.description),i=!0):Ue.VOM.$viewer.find(".ngy2viewerToolAction").find(".description").html(""),i?Ue.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").show():Ue.VOM.$viewer.find(".ngy2viewerToolAction").find(".label").hide();var n=Ue.VOM.items.length;0<n&&Ue.VOM.$viewer.find(".pageCounter").html(Ue.VOM.items[e].mediaNumber+"/"+n);var a=Ue.VOM.$viewer.find(".ngy2CustomBtn"),r=Ue.O.fnImgToolbarCustDisplay;0<a.length&&null!==r&&("function"==typeof r?r(a,t):window[r](a,t)),ge()}}function Ie(e){if(Ue.VOM.swipePosX=e,null==Ue.CSStransformName);else{if(Ue.VOM.$mediaCurrent[0].style[Ue.CSStransformName]="translate("+e+"px, 0px)","swipe"==Ue.O.imageTransition)if(Ue.VOM.NGY2Item(-1).mediaTransition()&&Ce(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,1),Ue.VOM.NGY2Item(1).mediaTransition()&&Ce(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,1),0<e){var t=Ue.VOM.window.lastWidth;Ue.VOM.NGY2Item(-1).mediaTransition()&&(Ue.VOM.$mediaPrevious[0].style[Ue.CSStransformName]="translate("+(-t+e)+"px, 0px)"),Ue.VOM.NGY2Item(1).mediaTransition()&&(Ue.VOM.$mediaNext[0].style[Ue.CSStransformName]="translate("+-t+"px, 0px)")}else{t=-Ue.VOM.window.lastWidth;Ue.VOM.NGY2Item(1).mediaTransition()&&(Ue.VOM.$mediaNext[0].style[Ue.CSStransformName]="translate("+(-t+e)+"px, 0px)"),Ue.VOM.NGY2Item(-1).mediaTransition()&&(Ue.VOM.$mediaPrevious[0].style[Ue.CSStransformName]="translate("+-t+"px, 0px)")}if("slideAppear"==Ue.O.imageTransition)if(Ue.VOM.$mediaPrevious[0].style[Ue.CSStransformName]="",Ue.VOM.$mediaNext[0].style[Ue.CSStransformName]="",e<0){var i=-e/Ue.VOM.window.lastWidth;Ue.VOM.NGY2Item(1).mediaTransition()&&Ce(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,i),Ue.VOM.NGY2Item(-1).mediaTransition()&&Ce(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,0)}else{i=e/Ue.VOM.window.lastWidth;Ue.VOM.NGY2Item(-1).mediaTransition()&&Ce(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,i),Ue.VOM.NGY2Item(1).mediaTransition()&&Ce(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,0)}}}function Me(){Ue.VOM.viewerMediaIsChanged||(new Date).getTime()-Ue.VOM.timeImgChanged<300||(De("lightboxNextImage"),xe(Ue.VOM.IdxNext(),"nextImage"))}function Te(){Ue.VOM.viewerMediaIsChanged||(new Date).getTime()-Ue.VOM.timeImgChanged<300||(Ue.VOM.playSlideshow&&ye(),De("lightboxPreviousImage"),xe(Ue.VOM.IdxPrevious(),"previousImage"))}function xe(i,e){Ue.VOM.playSlideshow&&window.clearTimeout(Ue.VOM.playSlideshowTimerID);var t=Ue.VOM.NGY2Item(0),n=Ue.I[Ue.VOM.items[i].ngy2ItemIdx],a="nextImage"==e?Ue.VOM.$mediaNext:Ue.VOM.$mediaPrevious;"nextImage"==e?Ce(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,0):Ce(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,0),Ue.VOM.timeImgChanged=(new Date).getTime(),Ue.VOM.viewerMediaIsChanged=!0,Ee(!(Ue.VOM.zoom.isZooming=!1)),Ue.O.debugMode&&console.timeline&&console.timeline("nanogallery2_viewer"),Ae(n.albumID,n.GetID());var r=Ue.GOM.cache.viewport,o=400*(r.w-Math.abs(Ue.VOM.swipePosX))/r.w;if(""==e)if(Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,1),null==Ue.CSStransformName)Ce(n,a,1),Se(e,i);else{Ce(n,a,0),(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{dT:e,item:t},easing:"easeInOutSine",delay:30,duration:400,step:function(e,t){Ue.VOM.$content.css("opacity",e.opacity)},finish:function(e,t){Ue.VOM.$content.css("opacity",1),pe(),Se(t.dT,i)}})}else switch(Ue.O.imageTransition.toUpperCase()){case"SWIPE":if(null==Ue.CSStransformName)Ce(n,a,1),Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,1),Se(e,i);else{var l="nextImage"==e?-r.w:r.w;a[0].style[Ue.CSStransformName]="translate("+-l+"px, 0px) ",(new NGTweenable).tween({from:{t:Ue.VOM.swipePosX},to:{t:"nextImage"==e?-r.w:r.w},attachment:{dT:e,$e:a,item:t,itemNew:n,dir:l},delay:30,duration:o,easing:"easeInOutSine",step:function(e,t){Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,1),Ue.VOM.$mediaCurrent[0].style[Ue.CSStransformName]="translate("+e.t+"px, 0px)",t.itemNew.mediaTransition()&&(Ce(t.itemNew,t.$e,1),t.$e[0].style[Ue.CSStransformName]="translate("+(-t.dir+e.t)+"px, 0px)")},finish:function(e,t){Ue.VOM.$mediaCurrent[0].style[Ue.CSStransformName]="",t.$e[0].style[Ue.CSStransformName]="",Se(t.dT,i)}})}break;case"SLIDEAPPEAR":default:if(null==Ue.CSStransformName)Ce(n,a,1),Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,1),Se(e,i);else{l="nextImage"==e?-r.w:r.w;var s=Math.abs(Ue.VOM.swipePosX)/Ue.VOM.window.lastWidth;a[0].style[Ue.CSStransformName]="",(new NGTweenable).tween({from:{o:s,t:Ue.VOM.swipePosX},to:{o:1,t:"nextImage"==e?-r.w:r.w},attachment:{dT:e,$e:a,item:t,itemNew:n,dir:l},delay:30,duration:o,easing:"easeInOutSine",step:function(e,t){Ue.VOM.$mediaCurrent[0].style[Ue.CSStransformName]="translate("+e.t+"px, 0px)",t.itemNew.mediaTransition()&&Ce(t.itemNew,t.$e,e.o)},finish:function(e,t){Ue.VOM.$mediaCurrent[0].style[Ue.CSStransformName]="",Se(t.dT,i)}})}}}function Se(e,t){Ue.VOM.currItemIdx=t;var i=Ue.VOM.NGY2Item(0);we(),Ue.O.debugMode&&console.timeline&&console.timelineEnd("nanogallery2_viewer");var n=Ue.O.fnImgDisplayed;if(null!==n&&("function"==typeof n?n(i):window[n](i)),Ue.VOM.swipePosX=0,""!=e){Ue.VOM.$mediaCurrent.removeClass("imgCurrent");var a=Ue.VOM.$mediaCurrent;switch(e){case"nextImage":Ue.VOM.$mediaCurrent=Ue.VOM.$mediaNext,Ue.VOM.$mediaNext=a;break;case"previousImage":Ue.VOM.$mediaCurrent=Ue.VOM.$mediaPrevious,Ue.VOM.$mediaPrevious=a}Ue.VOM.$mediaCurrent.addClass("imgCurrent"),"img"==i.mediaKind&&0==i.imageWidth?Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,0):Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,1)}Ue.VOM.$mediaNext.empty(),Ue.VOM.$mediaNext.append(Ue.VOM.NGY2Item(1).mediaMarkup),Ce(Ue.VOM.NGY2Item(1),Ue.VOM.$mediaNext,0),"img"==Ue.VOM.NGY2Item(1).mediaKind?Ue.VOM.ImageLoader.loadImage(Ne,Ue.VOM.NGY2Item(1)):ue(Ue.VOM.$mediaNext),Ue.VOM.$mediaPrevious.empty(),Ue.VOM.$mediaPrevious.append(Ue.VOM.NGY2Item(-1).mediaMarkup),Ce(Ue.VOM.NGY2Item(-1),Ue.VOM.$mediaPrevious,0),"img"==Ue.VOM.NGY2Item(-1).mediaKind?Ue.VOM.ImageLoader.loadImage(Ne,Ue.VOM.NGY2Item(-1)):ue(Ue.VOM.$mediaPrevious),Ue.VOM.playSlideshow&&Ue.VOM.$mediaCurrent.children().eq(0).ngimagesLoaded().always(function(e){Ue.VOM.playSlideshow&&(Ue.VOM.playSlideshowTimerID=window.setTimeout(function(){Me()},Ue.VOM.slideshowDelay))}),Ee(),Ue.VOM.viewerMediaIsChanged=!1,De("lightboxImageDisplayed")}function Ne(e,t,i,n){i.imageWidth=e,i.imageHeight=t,Ue.VOM.NGY2Item(0)==i&&(Ce(Ue.VOM.NGY2Item(0),Ue.VOM.$mediaCurrent,1),Ue.VOM.zoom.userFactor=1),se()}function Ce(e,t,i){if("img"==e.mediaKind&&0==e.imageWidth)return t.children().css({opacity:0,visibility:"hidden"}),void t.css({opacity:0,visibility:"hidden"});0==i?(t.css({opacity:0,visibility:"hidden"}),t.children().css({opacity:0,visibility:"hidden"})):(t.css({opacity:i,visibility:"visible"}),t.children().css({opacity:i,visibility:"visible"}))}function ke(e){if(Ue.VOM.viewerMediaIsChanged=!1,Ue.VOM.viewerDisplayed){if(jQuery("body").css({overflowX:Ue.VOM.saveOverflowX,overflowY:Ue.VOM.saveOverflowY}),Ue.VOM.playSlideshow&&(window.clearTimeout(Ue.VOM.playSlideshowTimerID),Ue.VOM.playSlideshow=!1),Ue.VOM.hammertime.destroy(),Ue.VOM.hammertime=null,ngscreenfull.enabled&&Ue.VOM.viewerIsFullscreen&&(Ue.VOM.viewerIsFullscreen=!1,ngscreenfull.exit()),Ue.VOM.$cont.hide(0).off().show(0).html("").remove(),Ue.VOM.viewerDisplayed=!1,Ue.O.thumbnailAlbumDisplayImage)if(null==e);else{var t=Ue.I[Ue.VOM.items[e].ngy2ItemIdx],i=NGY2Item.Get(Ue,t.albumID);Ue.GOM.albumIdx!=i.albumID?h("-1",i.albumID):(s(),Ae("",""),u())}else null!=e&&(-1==Ue.GOM.albumIdx?h("",Ue.I[Ue.VOM.items[e].ngy2ItemIdx].albumID):(s(),Ae(Ue.I[Ue.VOM.items[e].ngy2ItemIdx].albumID,""),u()));Ue.VOM.timeImgChanged=(new Date).getTime()}}function Ee(e){if(e=void 0!==e&&e,null!==Ue.VOM.$toolbar){var t=Ue.VOM.$viewer.width(),i=Ue.VOM.$viewer.height();if(null!=Ue.VOM.$mediaCurrent.children().eq(0)&&-1!=Ue.VOM.currItemIdx&&(e||Ue.VOM.window.lastWidth!=t||Ue.VOM.window.lastHeight!=i)){Ue.VOM.window.lastWidth=t,Ue.VOM.window.lastHeight=i;var n=Ue.VOM.$toolbar.find(".toolbar").outerHeight(!0);switch(Ue.O.viewerToolbar.position){case"topOverImage":Ue.VOM.$content.css({height:i,width:t,top:0}),Ue.VOM.$toolbar.css({top:0,bottom:""});break;case"top":i-=n,Ue.VOM.$content.css({height:i,width:t,top:n}),Ue.VOM.$toolbar.css({top:0});break;case"bottomOverImage":Ue.VOM.$content.css({height:i,width:t,bottom:0,top:0}),Ue.VOM.$toolbar.css({bottom:0});break;case"bottom":default:i-=n,Ue.VOM.$content.css({width:t,top:0,bottom:n}),Ue.VOM.$toolbar.css({bottom:0})}!Ue.VOM.viewerMediaIsChanged&&Ue.VOM.zoom.isZooming||(Ue.VOM.zoom.userFactor=1,Ue.VOM.zoom.isZooming=!1,Ue.VOM.panPosX=0,Ue.VOM.panPosY=0,Ue.VOM.zoom.posX=0,Ue.VOM.zoom.posY=0),se()}}}function Le(){var e=Ue.$E.base.children("a");0<e.length&&(Ue.O.$markup=e),Ue.$E.base.text(""),Ue.$E.base.addClass("ngy2_container"),Ue.O.RTL,Ue.$E.base.addClass(Ue.O.theme),function(){void 0!==Ue.O.colorScheme&&(Ue.O.galleryTheme=Ue.O.colorScheme);var e=null,t="";switch(tt(Ue.O.galleryTheme)){case"object":e=Ue.galleryTheme_dark,jQuery.extend(!0,e,Ue.O.galleryTheme),t="nanogallery_gallerytheme_custom_"+Ue.baseEltID;break;case"string":switch(Ue.O.galleryTheme){case"light":e=Ue.galleryTheme_light,t="nanogallery_gallerytheme_light_"+Ue.baseEltID;break;case"default":case"dark":case"none":default:e=Ue.galleryTheme_dark,t="nanogallery_gallerytheme_dark_"+Ue.baseEltID}break;default:return He(Ue,"Error in galleryTheme parameter.")}var i="."+t+" ",n=i+".nGY2Navigationbar { background:"+e.navigationBar.background+"; }\n";void 0!==e.navigationBar.border&&""!==e.navigationBar.border&&(n+=i+".nGY2Navigationbar { border:"+e.navigationBar.border+"; }\n"),void 0!==e.navigationBar.borderTop&&""!==e.navigationBar.borderTop&&(n+=i+".nGY2Navigationbar { border-top:"+e.navigationBar.borderTop+"; }\n"),void 0!==e.navigationBar.borderBottom&&""!==e.navigationBar.borderBottom&&(n+=i+".nGY2Navigationbar { border-bottom:"+e.navigationBar.borderBottom+"; }\n"),void 0!==e.navigationBar.borderRight&&""!==e.navigationBar.borderRight&&(n+=i+".nGY2Navigationbar { border-right:"+e.navigationBar.borderRight+"; }\n"),void 0!==e.navigationBar.borderLeft&&""!==e.navigationBar.borderLeft&&(n+=i+".nGY2Navigationbar { border-left:"+e.navigationBar.borderLeft+"; }\n"),n+=i+".nGY2Breadcrumb { background:"+e.navigationBreadcrumb.background+"; border-radius:"+e.navigationBreadcrumb.borderRadius+"; }\n",n+=i+".nGY2Breadcrumb .oneItem  { color:"+e.navigationBreadcrumb.color+"; }\n",n+=i+".nGY2Breadcrumb .oneItem:hover { color:"+e.navigationBreadcrumb.colorHover+"; }\n",n+=i+".nGY2NavFilterUnselected { color:"+e.navigationFilter.color+"; background:"+e.navigationFilter.background+"; border-radius:"+e.navigationFilter.borderRadius+"; }\n",n+=i+".nGY2NavFilterSelected { color:"+e.navigationFilter.colorSelected+"; background:"+e.navigationFilter.backgroundSelected+"; border-radius:"+e.navigationFilter.borderRadius+"; }\n",n+=i+".nGY2NavFilterSelectAll { color:"+e.navigationFilter.colorSelected+"; background:"+e.navigationFilter.background+"; border-radius:"+e.navigationFilter.borderRadius+"; }\n",n+=i+".nGY2GThumbnail { background:"+e.thumbnail.background+"; border-color:"+e.thumbnail.borderColor+"; border-top-width:"+Ue.O.thumbnailBorderVertical+"px; border-right-width:"+Ue.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+Ue.O.thumbnailBorderVertical+"px; border-left-width:"+Ue.O.thumbnailBorderHorizontal+"px;}\n",n+=i+".nGY2GThumbnailStack { background:"+e.thumbnail.stackBackground+"; }\n",n+=i+".nGY2TnImgBack { background:"+e.thumbnail.background+"; background-image:"+e.thumbnail.backgroundImage+"; }\n",n+=i+".nGY2GThumbnailAlbumUp { background:"+e.thumbnail.background+"; background-image:"+e.thumbnail.backgroundImage+"; color:"+e.thumbnail.titleColor+"; }\n",n+=i+".nGY2GThumbnailIconsFullThumbnail { color:"+e.thumbnail.titleColor+"; }\n",n+=i+".nGY2GThumbnailLabel { background:"+e.thumbnail.labelBackground+"; opacity:"+e.thumbnail.labelOpacity+"; }\n",n+=i+".nGY2GThumbnailImageTitle  { color:"+e.thumbnail.titleColor+"; background-color:"+e.thumbnail.titleBgColor+"; "+(""==e.thumbnail.titleShadow?"":"Text-Shadow:"+e.thumbnail.titleShadow+";")+" }\n",n+=i+".nGY2GThumbnailAlbumTitle { color:"+e.thumbnail.titleColor+"; background-color:"+e.thumbnail.titleBgColor+"; "+(""==e.thumbnail.titleShadow?"":"Text-Shadow:"+e.thumbnail.titleShadow+";")+" }\n",n+=i+".nGY2GThumbnailDescription { color:"+e.thumbnail.descriptionColor+"; background-color:"+e.thumbnail.descriptionBgColor+"; "+(""==e.thumbnail.descriptionShadow?"":"Text-Shadow:"+e.thumbnail.descriptionShadow+";")+" }\n",n+=i+".nGY2GThumbnailIcons { padding:"+e.thumbnailIcon.padding+"; }\n",n+=i+".nGY2GThumbnailIcon { color:"+e.thumbnailIcon.color+"; }\n",n+=i+".nGY2GThumbnailIconTextBadge { background-color:"+e.thumbnailIcon.color+"; }\n","NUMBERS"!=Ue.O.galleryPaginationMode?(n+=i+".nGY2paginationDot { border:"+e.pagination.shapeBorder+"; background:"+e.pagination.shapeColor+";}\n",n+=i+".nGY2paginationDotCurrentPage { border:"+e.pagination.shapeBorder+"; background:"+e.pagination.shapeSelectedColor+";}\n",n+=i+".nGY2paginationRectangle { border:"+e.pagination.shapeBorder+"; background:"+e.pagination.shapeColor+";}\n",n+=i+".nGY2paginationRectangleCurrentPage { border:"+e.pagination.shapeBorder+"; background:"+e.pagination.shapeSelectedColor+";}\n"):(n+=i+".nGY2paginationItem { background:"+e.pagination.background+"; color:"+e.pagination.color+"; border-radius:"+e.pagination.borderRadius+"; }\n",n+=i+".nGY2paginationItemCurrentPage { background:"+e.pagination.background+"; color:"+e.pagination.color+"; border-radius:"+e.pagination.borderRadius+"; }\n",n+=i+".nGY2PaginationPrev { background:"+e.pagination.background+"; color:"+e.pagination.color+"; border-radius:"+e.pagination.borderRadius+"; }\n",n+=i+".nGY2PaginationNext { background:"+e.pagination.background+"; color:"+e.pagination.color+"; border-radius:"+e.pagination.borderRadius+"; }\n",n+=i+".nGY2paginationItemCurrentPage { background:"+e.pagination.backgroundSelected+"; }\n"),n+=i+".nGY2GalleryMoreButtonAnnotation { background:"+e.thumbnail.background+"; border-color:"+e.thumbnail.borderColor+"; border-top-width:"+Ue.O.thumbnailBorderVertical+"px; border-right-width:"+Ue.O.thumbnailBorderHorizontal+"px; border-bottom-width:"+Ue.O.thumbnailBorderVertical+"px; border-left-width:"+Ue.O.thumbnailBorderHorizontal+"px;}\n",n+=i+".nGY2GalleryMoreButtonAnnotation  { color:"+e.thumbnail.titleColor+"; "+(""==e.thumbnail.titleShadow?"":"Text-Shadow:"+e.thumbnail.titleShadow)+"; }\n",jQuery("head").append('<style id="ngycs_'+Ue.baseEltID+'">'+n+"</style>"),Ue.$E.base.addClass(t)}(),Ue.O.thumbnailLabel.get("hideIcons")&&(Ue.O.icons.thumbnailAlbum="",Ue.O.icons.thumbnailImage="");var t="";switch(null!=Ue.O.navigationFontSize&&""!=Ue.O.navigationFontSize&&(t=' style="font-size:'+Ue.O.navigationFontSize+';"'),Ue.$E.conNavigationBar=jQuery('<div class="nGY2Navigationbar" '+t+"></div>").appendTo(Ue.$E.base),Ue.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(Ue.$E.base),Ue.$E.conTnParent=jQuery('<div class="nGY2Gallery"></div>').appendTo(Ue.$E.base),Ue.$E.conTn=jQuery('<div class="nGY2GallerySub"></div>').appendTo(Ue.$E.conTnParent),Ue.O.thumbnailAlignment){case"left":Ue.$E.conTnParent.css({"text-align":"left"});break;case"right":Ue.$E.conTnParent.css({"text-align":"right"})}if(void 0!==Ue.O.galleryBuildInit2)for(var i=Ue.O.galleryBuildInit2.split("|"),n=0;n<i.length;n++){var a=i[n].split("_");2==a.length&&Ue.$E.conTn.css(a[0],a[1])}for(var r=Ue.tn.hoverEffects.std.concat(Ue.tn.hoverEffects.level1),o=0;o<r.length;o++)switch(r[o].type){case"scale":case"rotateZ":case"rotateX":case"rotateY":case"translateX":case"translateY":".nGY2GThumbnail"==r[o].element&&(Ue.$E.base.css("overflow","visible"),Ue.$E.base.find(".nGY2GallerySub").css("overflow","visible"),Ue.$E.conTnParent.css("overflow","visible"))}if(Ue.$E.conTnBottom=jQuery('<div class="nGY2GalleryBottom" '+t+"></div>").appendTo(Ue.$E.conTnParent),Ue.O.portable){var l="font-weight:bold !important;color: #FF0075 !important;font-size: 14px !important;text-transform: lowercase !important;cursor:pointer !important;text-align: center !important;Text-Shadow: #000000 1px 0px 0px, #000000 1px 1px 0px, #000000 1px -1px 0px, #000000 -1px 1px 0px, #000000 -1px 0px 0px, #000000 -1px -1px 0px, #000000 0px 1px 0px, #000000 0px -1px 0px !important;";Ue.$E.ngy2i=jQuery('<div class="nGY2PortInfo"><a href="http://nano.gallery" target="_blank" title="nanogallery2 | easy photo gallery for your website" style="'+l+'"><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAYCAYAAACbU/80AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAAAB3RJTUUH4QgDBCAWVVC/hwAABRxJREFUSMetll9oVFcexz/nnDvJRBmSzWTrmD9uNGZsHta0/qFIFQTxRcnCBgTFNlX0YR8W+1AK9lGwCBJYgn0KKr5136S4gpUQTR4caJRslcxYWV3iaphQapJJppO5957z60Mmk4mN1q75wg/OPefc+/v9vt/fueenKEFEqICqsNWAVNiCA7XwaS0iZeejo6OIiCltdIBdJXMLOYp5/PjxsoTVS5nr0mYDJIE/lObeBhaYAn4oJbboAwBvBedHJicnPx8YGGh/8eJF1dvKoJSShoYGf//+/Zl4PP4l8M2yIEoSLErx6c2bN6W1tXVRglWzLVu2SCqVEhE5LiI457SIoEREW2udMaZtcnLy+2QyWZ3L5XRHR4f+4MNdoBUahUJhcWilmZ/NE4ZhOQHn3LIi1lqjtS6vjY6O8uTJE9vc3MyDBw+mYrHYn0Uk63me8gCtlHLA7uHh4bW5XC7oePddPTQ8xHffDjM/PYe3thqMws35iAcHPj5ENBp9Yxmy2Sw7d+40z549C+7du9ewb9++D6y13wDaK+kE0DAzMyNKKbXtvfd5EfzM+Ef/4C+8x23+wzPm+IhtfMf3/Ksuyl+7u9FaY63l+vXrpFIpCoUCmzdvpquri9bWVoIgQClFIpFg48aNPH/+XE9NTQkQLTGmvEXKRERprZWIEIYhQRjQbN6hmUb+tCaPNnM055v40f3If7XBGMPT8af0fNLD0NDQsozPnDlDb28vx44dIwxDRARrLSKCKmUbiUQQkWWnoLJ20UpjFYAjVA6rBJTFV5ZIJIIfBBw4eICxsTHq6uo4dOgQ8XicgYEB7t69y/Hjx4nH43R1dVHB8q+w4hlXSmGd5edwmjCco5DLkZ+aJvTnyIdTrFmzhn9+/TVjY2M0NTVx+/Zt+vv7OXfuHKlUip6eHgBOnz6N7/vlYl0JKzIw78/T+sdGbn6yjf5ZS2HtJgIP+mcC5kySI1uSXPjqAlprTp06RWdnJ8ViEaUUVVVVnD9/nqtXr5LJZHj48CFbt279fQEEYUisZi2fXel9bWU750gmkwRBgNYaz/Ow1lJfX088Hmd2dpZcLvdaBl4pgQChH4B1iHU4a8E6Qj9ARGhpaUFrzeDgIJFIBGMM1lqMMWQyGSYmJohEIqxfv/7314CIoADtGTAaZTTaLI2VUhw+fBjnHBcvXuTy5cs45/A8j3Q6zcmTJ/F9n71799LW1rbgSOs3D+B1lBljcM7R3d3N0aNHKRQKnDhxgs7OTnbt2sX27dsZGRkhHo/T19e3+Kt/fQ1YawFwzolSCs/zUEqVtX1VcJcuXSKRSNDf3086nS6v79mzh76+Pjo6OigWi1RXV2OMWZC29PL8/PxSAL7vE41Gf4rFYkpEePToEb7vU1VVxW+ht7eXs2fPcv/+fQqFAps2baKlpaW8Xl1dTS6XY3x8HBFxtbW1BiiW4hAlInp8fNxt2LChPZvN/ru9vT2Sz+e93bt3qx07diwrzJWYcM5RU1NDNBots5bP53HOlS+kO3fuMDIy4hKJhKTT6ena2tqtxWJxoqamRr98HX9x7do1qaurExYaiXCVzK5bt04GBwdFRP728nVcWZAO+Hsmk/nsxo0bTTMzM5FXHZ83hYhQX1/vHzx48H9tbW1ngSsVvpYCmJ2dJRaLKRbapjpgOxB7K+9LmAbuAnOAnpiYcI2NjUsRLlo2myUMQ1M5t5rmnDO3bt1aNlfmd4W2XL/0/H8pUDF2rNCW/wLRuCkxx8V6wgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxNy0wOC0wM1QwNDozMjoyMi0wNDowMO7mdkwAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTctMDgtMDNUMDQ6MzI6MjItMDQ6MDCfu87wAAAAAElFTkSuQmCC" style="height:32px !important;width:initial !important;box-shadow: none !important;vertical-align: middle !important;"/> &nbsp; nanogallery2</a></div>').appendTo(Ue.$E.base),Ue.$E.ngy2i.find("a").on({mouseenter:function(){jQuery(this).attr("style",l)},mouseleave:function(){jQuery(this).attr("style",l)}})}switch(Ue.$E.conConsole=jQuery('<div class="nGY2ConsoleParent"></div>').appendTo(Ue.$E.base),function(){Ue.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase(),"UNDEFINED"===Ue.i18nLang&&(Ue.i18nLang="");var e=-("_"+Ue.i18nLang).length;if("object"==tt(Ue.O.i18n))for(var t in Ue.O.i18n){var i=t.substr(e);i=="_"+Ue.i18nLang?Ue.i18nTranslations[t.substr(0,t.length-i.length)]=Ue.O.i18n[t]:Ue.i18nTranslations[t]=Ue.O.i18n[t]}}(),function(){R(Ue.O.thumbnailLabel,"lN"),R(Ue.O.thumbnailLabel,"l1"),Ue.O.thumbnailL1Label&&Ue.O.thumbnailL1Label.display&&R(Ue.O.thumbnailL1Label,"l1"),Ue.tn.borderWidth=Ue.O.thumbnailBorderHorizontal,Ue.tn.borderHeight=Ue.O.thumbnailBorderVertical;for(var e=["xs","sm","me","la","xl"],t=0;t<e.length;t++)if("auto"!=(n=Ue.tn.settings.width.lN[e[t]]))Ue.tn.defaultSize.width.lN[e[t]]=n,Ue.tn.defaultSize.width.l1[e[t]]=n;else{var i=Ue.tn.settings.height.lN[e[t]];Ue.tn.defaultSize.width.lN[e[t]]=i,Ue.tn.defaultSize.width.l1[e[t]]=i}for(t=0;t<e.length;t++)if("auto"!=(i=Ue.tn.settings.height.lN[e[t]]))Ue.tn.defaultSize.height.lN[e[t]]=i,Ue.tn.defaultSize.height.l1[e[t]]=i;else{var n=Ue.tn.settings.width.lN[e[t]];Ue.tn.defaultSize.height.lN[e[t]]=n,Ue.tn.defaultSize.height.l1[e[t]]=n}for(t=0;t<e.length;t++)"auto"!=(n=Ue.tn.settings.width.l1[e[t]])?Ue.tn.defaultSize.width.l1[e[t]]=n:(i=Ue.tn.settings.height.l1[e[t]],Ue.tn.defaultSize.width.l1[e[t]]=i);for(t=0;t<e.length;t++)"auto"!=(i=Ue.tn.settings.height.l1[e[t]])?Ue.tn.defaultSize.height.l1[e[t]]=i:(n=Ue.tn.settings.width.l1[e[t]],Ue.tn.defaultSize.height.l1[e[t]]=n)}(),Ue.tn.opt.Get("displayTransition")){case"SCALEDOWN":case"RANDOMSCALE":default:Ue.$E.base.css("overflow","visible"),Ue.$E.conTnParent.css("overflow","visible"),Ue.$E.conTn.css("overflow","visible")}}function De(e){var t=e+".nanogallery2",i=null;try{i=new Event(t)}catch(e){(i=document.createEvent("Event")).initEvent(t,!1,!1)}Ue.$E.base.trigger(t,i)}function Ye(){if(!Ue.O.locationHash)return!1;var e="#nanogallery/"+Ue.baseEltID+"/",t=location.hash;if(Ue.O.debugMode&&(console.log("------------------------ PROCESS LOCATION HASH"),console.log("newLocationHash1: "+t),console.log("G.locationHashLastUsed: "+Ue.locationHashLastUsed)),""==t&&""!==Ue.locationHashLastUsed)return Ue.O.debugMode&&console.log("display root album"),Ue.locationHashLastUsed="",Ue.O.debugMode&&console.log("new3 G.locationHashLastUsed: "+Ue.locationHashLastUsed),h("","0"),!0;if(t!=Ue.locationHashLastUsed){if(0==t.indexOf(e)){var i=n(t.substring(e.length));return"0"!=i.imageID?(Ue.O.debugMode&&console.log("display image: "+i.albumID+"-"+i.imageID),A(i.imageID,i.albumID)):(Ue.O.debugMode&&console.log("display album: "+i.albumID),h("-1",i.albumID)),!0}return!1}}function Ae(e,t){if(!Ue.O.locationHash)return!1;if(Ue.O.debugMode&&console.log("------------------------ SET LOCATION HASH"),""==t&&("-1"==e||"0"==e||Ue.O.album==e))return""!=location.hash&&("pushState"in history?history.pushState("",document.title,window.location.pathname+window.location.search):location.hash=""),Ue.locationHashLastUsed="",void(Ue.O.debugMode&&console.log("new2 G.locationHashLastUsed: "+Ue.locationHashLastUsed));var i="#nanogallery/"+Ue.baseEltID+"/"+e;""!=t&&(i+="/"+t);var n=location.hash;if(Ue.O.debugMode&&(console.log("newLocationHash2: "+i),console.log("location.hash: "+n)),Ue.locationHashLastUsed=i,Ue.O.debugMode&&console.log("new G.locationHashLastUsed: "+Ue.locationHashLastUsed),""==n||n!=i)try{top.location.hash=i}catch(e){Ue.O.locationHash=!1}}function _e(){if(Ue.GOM.cache.viewport=Ke(),Ue.GOM.cache.areaWidth=Ue.$E.conTnParent.width(),Ue.GOM.cache.containerOffset=Ue.$E.conTnParent.offset(),Ue.VOM.viewerDisplayed)Ee();else if(Ue.galleryResizeEventEnabled){var e=Fe();-1==Ue.GOM.albumIdx||Ue.tn.settings.height[Ue.GOM.curNavLevel][Ue.GOM.curWidth]==Ue.tn.settings.height[Ue.GOM.curNavLevel][e]&&Ue.tn.settings.width[Ue.GOM.curNavLevel][Ue.GOM.curWidth]==Ue.tn.settings.width[Ue.GOM.curNavLevel][e]?s():(Ue.GOM.curWidth=e,Ue.GOM.pagination.currentPage=0,r(Ue.GOM.albumIdx))}}function Ve(){Ue.VOM.viewerDisplayed||Ue.galleryResizeEventEnabled&&s()}function Pe(e,t){return""!=Ue.i18nLang&&void 0!==e[t+"_"+Ue.i18nLang]&&0<e[t+"_"+Ue.i18nLang].length?e[t+"_"+Ue.i18nLang]:e[t]}function Fe(){var e=Ue.GOM.cache.viewport.w;return 0<Ue.O.breakpointSizeSM&&e<Ue.O.breakpointSizeSM?"xs":0<Ue.O.breakpointSizeME&&e<Ue.O.breakpointSizeME?"sm":0<Ue.O.breakpointSizeLA&&e<Ue.O.breakpointSizeLA?"me":0<Ue.O.breakpointSizeXL&&e<Ue.O.breakpointSizeXL?"la":"xl"}function Re(e){for(var t=document.createElement("div"),i=0;i<e.length;++i)if(void 0!==t.style[e[i]])return e[i];return null}this.ReloadAlbum=function(){if(""===Ue.O.kind)throw"Not supported for this content source:"+Ue.O.kind;var e=Ue.GOM.albumIdx;if(-1==e)throw"Current album not found.";for(var t=Ue.I[e].GetID(),i=Ue.I.length,n=0;n<i;n++){var a=Ue.I[n];a.albumID==t&&(a.selected=!1)}Ue.I[e].contentIsLoaded=!1,h("-1",t)},this.ItemsSetSelectedValue=function(e,t){for(var i=e.length,n=0;n<i;n++)Q(e[n],t)},this.ItemsSelectedGet=function(){for(var e=[],t=Ue.I.length,i=0;i<t;i++)1==Ue.I[i].selected&&e.push(Ue.I[i]);return e},this.Get=function(e){return Ue.O[e]},this.Set=function(e,t){switch(Ue.O[e]=t,e){case"thumbnailSelectable":j(),r(Ue.GOM.albumIdx)}},this.Refresh=function(){r(Ue.GOM.albumIdx)},this.Resize=function(){s()},this.DisplayItem=function(e){var t=n(e);"0"!=t.imageID?A(t.imageID,t.albumID):h("-1",t.albumID)};var Be=function(e){if(null==Ue.I[e])return 0;for(var t=Ue.I[e].GetID(),i=Ue.I.length,n=0,a=0;a<i;a++)Ue.I[a].isToDisplay(t)&&n++;return n};this.Search=function(e){Ue.GOM.albumSearch=e.toUpperCase();var t=Ue.GOM.albumIdx;return r(Ue.GOM.albumIdx),Be(t)},this.Search2=function(e,t){return Ue.GOM.albumSearch=null!=e&&null!=e?e.toUpperCase():"",Ue.GOM.albumSearchTags=null!=t&&null!=t?t.toUpperCase():"",Be(Ue.GOM.albumIdx)},this.Search2Execute=function(){var e=Ue.GOM.albumIdx;return r(Ue.GOM.albumIdx),Be(e)},this.Destroy=function(){null!=Ue.GOM.hammertime&&(Ue.GOM.hammertime.destroy(),Ue.GOM.hammertime=null),null!=Ue.VOM.hammertime&&(Ue.VOM.hammertime.destroy(),Ue.VOM.hammertime=null),Xe("#ngycs_"+Ue.baseEltID).remove(),Ue.GOM.items=[],NGY2Item.New(Ue,Ue.i18nTranslations.breadcrumbHome,"","0","-1","album"),Ue.GOM.navigationBar.$newContent=null,Ue.$E.base.empty(),Ue.$E.base.removeData(),Ue.O.locationHash&&jQuery(window).off("hashchange.nanogallery2."+Ue.baseEltID),jQuery(window).off("resize.nanogallery2."+Ue.baseEltID),jQuery(window).off("orientationChange.nanogallery2."+Ue.baseEltID),jQuery(window).off("scroll.nanogallery2."+Ue.baseEltID),Ue.GOM.firstDisplay=!1},this.CloseViewer=function(){return ke(null),!1},this.MinimizeToolbar=function(){return Ge(),!1},this.MaximizeToolbar=function(){return Oe(),!1},this.PaginationPreviousPage=function(){return f(),!1},this.PaginationNextPage=function(){return g(),!1},this.PaginationGotoPage=function(e){return Ue.$E.conPagin.data("galleryIdx"),1<e&&e--,Ue.GOM.pagination.currentPage=e,y(),O(!0),!1},this.PaginationCountPages=function(){return 0==Ue.GOM.items.length?0:Math.ceil((Ue.GOM.items[Ue.GOM.items.length-1].row+1)/Ue.galleryMaxRows.Get())};var ze=function(i,n,a){var r;return function(){var e=this,t=arguments;r?clearTimeout(r):a&&i.apply(e,t),r=setTimeout(function(){a||i.apply(e,t),r=null},n||100)}},Ue=this;Ue.I=[],Ue.Id=[],Ue.O=null,Ue.baseEltID=null,Ue.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conNavigationBar:null,conTnBottom:null},Ue.shoppingCart=[],Ue.layout={internal:!0,engine:"",support:{rows:!1},prerequisite:{imageSize:!1},SetEngine:function(){if(Ue.layout.internal){if("auto"==Ue.tn.settings.width[Ue.GOM.curNavLevel][Ue.GOM.curWidth]||""==Ue.tn.settings.width[Ue.GOM.curNavLevel][Ue.GOM.curWidth])return Ue.layout.engine="JUSTIFIED",Ue.layout.support.rows=!0,void(Ue.layout.prerequisite.imageSize=!0);if("auto"==Ue.tn.settings.height[Ue.GOM.curNavLevel][Ue.GOM.curWidth]||""==Ue.tn.settings.height[Ue.GOM.curNavLevel][Ue.GOM.curWidth])return Ue.layout.engine="CASCADING",Ue.layout.support.rows=!1,void(Ue.layout.prerequisite.imageSize=!0);if(null!=Ue.tn.settings.getMosaic())return Ue.layout.engine="MOSAIC",Ue.layout.support.rows=!0,void(Ue.layout.prerequisite.imageSize=!1);Ue.layout.engine="GRID",Ue.layout.support.rows=!0,Ue.layout.prerequisite.imageSize=!1}}},Ue.galleryResizeEventEnabled=!1,Ue.galleryMaxRows={l1:0,lN:0,Get:function(){return Ue.galleryMaxRows[Ue.GOM.curNavLevel]}},Ue.galleryMaxItems={l1:0,lN:0,Get:function(){return Ue.galleryMaxItems[Ue.GOM.curNavLevel]}},Ue.galleryFilterTags={l1:0,lN:0,Get:function(){return Ue.galleryFilterTags[Ue.GOM.curNavLevel]}},Ue.galleryDisplayMode={l1:"FULLCONTENT",lN:"FULLCONTENT",Get:function(){return Ue.galleryDisplayMode[Ue.GOM.curNavLevel]}},Ue.galleryLastRowFull={l1:!1,lN:!1,Get:function(){return Ue.galleryLastRowFull[Ue.GOM.curNavLevel]}},Ue.gallerySorting={l1:"",lN:"",Get:function(){return Ue.gallerySorting[Ue.GOM.curNavLevel]}},Ue.galleryDisplayTransition={l1:"none",lN:"none",Get:function(){return Ue.galleryDisplayTransition[Ue.GOM.curNavLevel]}},Ue.galleryDisplayTransitionDuration={l1:500,lN:500,Get:function(){return Ue.galleryDisplayTransitionDuration[Ue.GOM.curNavLevel]}},Ue.$currentTouchedThumbnail=null,Ue.tn={opt:{l1:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,baseGridHeight:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},lN:{crop:!0,stacks:0,stacksTranslateX:0,stacksTranslateY:0,stacksTranslateZ:0,stacksRotateX:0,stacksRotateY:0,stacksRotateZ:0,stacksScale:0,gutterHeight:0,gutterWidth:0,baseGridHeight:0,displayTransition:"FADEIN",displayTransitionStartVal:0,displayTransitionEasing:"easeOutQuart",displayTransitionDuration:240,displayInterval:15},Get:function(e){return Ue.tn.opt[Ue.GOM.curNavLevel][e]}},scale:1,borderWidth:0,borderHeight:0,labelHeight:{l1:0,lN:0,get:function(){return Ue.tn.labelHeight[Ue.GOM.curNavLevel]}},defaultSize:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},getWidth:function(){return Ue.tn.defaultSize.width[Ue.GOM.curNavLevel][Ue.GOM.curWidth]},getOuterWidth:function(){return Ue.tn.defaultSize.width[Ue.GOM.curNavLevel][Ue.GOM.curWidth]+2*Ue.tn.borderWidth},getHeight:function(){return Ue.tn.defaultSize.height[Ue.GOM.curNavLevel][Ue.GOM.curWidth]},getOuterHeight:function(){return Ue.tn.defaultSize.height[Ue.GOM.curNavLevel][Ue.GOM.curWidth]+2*Ue.tn.borderHeight}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(e,t){var i=null==e?Ue.GOM.curNavLevel:e,n=null==t?Ue.GOM.curWidth:t;return"MOSAIC"==Ue.layout.engine?Ue.tn.settings.height[i][n]*Ue.tn.settings.mosaic[i+"Factor"].h[n]:Ue.tn.settings.height[i][n]},getW:function(e,t){var i=null==e?Ue.GOM.curNavLevel:e,n=null==t?Ue.GOM.curWidth:t;return"MOSAIC"==Ue.layout.engine?Ue.tn.settings.width[i][n]*Ue.tn.settings.mosaic[i+"Factor"].w[n]:Ue.tn.settings.width[i][n]},mosaic:{l1:{xs:null,sm:null,me:null,la:null,xl:null},lN:{xs:null,sm:null,me:null,la:null,xl:null},l1Factor:{h:{xs:1,sm:1,me:1,la:1,xl:1},w:{xs:1,sm:1,me:1,la:1,xl:1}},lNFactor:{h:{xs:1,sm:1,me:1,la:1,xl:1},w:{xs:1,sm:1,me:1,la:1,xl:1}}},getMosaic:function(){return Ue.tn.settings.mosaic[Ue.GOM.curNavLevel][Ue.GOM.curWidth]},mosaicCalcFactor:function(e,t){for(var i=1,n=1,a=0;a<Ue.tn.settings.mosaic[e][t].length;a++)i=Math.max(i,Ue.tn.settings.mosaic[e][t][a].w),n=Math.max(n,Ue.tn.settings.mosaic[e][t][a].h);Ue.tn.settings.mosaic[e+"Factor"].h[t]=n,Ue.tn.settings.mosaic[e+"Factor"].w[t]=i}},hoverEffects:{std:[],level1:[],get:function(){return"l1"==Ue.GOM.curNavLevel&&0!==Ue.tn.hoverEffects.level1.length?Ue.tn.hoverEffects.level1:Ue.tn.hoverEffects.std}},buildInit:{std:[],level1:[],get:function(){return"l1"==Ue.GOM.curNavLevel&&0!==Ue.tn.buildInit.level1.length?Ue.tn.buildInit.level1:Ue.tn.buildInit.std}},toolbar:{album:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},image:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},albumUp:{topLeft:"",topRight:"",bottomLeft:"",bottomRight:""},get:function(e){return Ue.tn.toolbar[e.kind]}},style:{l1:{label:"",title:"",desc:""},lN:{label:"",title:"",desc:""},getTitle:function(){return'style="'+Ue.tn.style[Ue.GOM.curNavLevel].title+'"'},getDesc:function(){return'style="'+Ue.tn.style[Ue.GOM.curNavLevel].desc+'"'},getLabel:function(){var e='style="'+Ue.tn.style[Ue.GOM.curNavLevel].label;return(e+=Ue.O.RTL?'"direction:RTL;"':"")+'"'}}},Ue.scrollTimeOut=0,Ue.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""},Ue.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==",Ue.CSStransformName=Re(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]),Ue.CSStransformStyle=Re(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]),Ue.CSSperspective=Re(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]),Ue.CSSbackfaceVisibilityName=Re(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]),Ue.CSStransitionName=Re(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]),Ue.CSSanimationName=Re(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]),Ue.GalleryResizeThrottled=function(i,n,a){var r,o,l,s=null,u=0;a||(a={});var c=function(){u=!1===a.leading?0:(new Date).getTime(),s=null,l=i.apply(r,o),s||(r=o=null)};return function(){var e=(new Date).getTime();u||!1!==a.leading||(u=e);var t=n-(e-u);return r=this,o=arguments,t<=0||n<t?(s&&(clearTimeout(s),s=null),u=e,l=i.apply(r,o),s||(r=o=null)):s||!1===a.trailing||(s=setTimeout(c,t)),l}}(s,100,{leading:!1}),Ue.blackList=null,Ue.whiteList=null,Ue.albumList=[],Ue.albumListHidden=[],Ue.locationHashLastUsed="",Ue.custGlobals={},Ue.touchAutoOpenDelayTimerID=0,Ue.i18nLang="",Ue.timeLastTouchStart=0,Ue.custGlobals={},Ue.markupOrApiProcessed=!1,Ue.GOM={albumIdx:-1,clipArea:{top:0,height:0},displayArea:{width:0,height:0},displayAreaLast:{width:0,height:0},displayedMoreSteps:0,items:[],$imgPreloader:[],itemsDisplayed:0,firstDisplay:!0,firstDisplayTime:0,navigationBar:{displayed:!1,$newContent:""},cache:{viewport:null,containerOffset:null,areaWidth:100},nbSelected:0,pagination:{currentPage:0},lastFullRow:-1,lastDisplayedIdx:-1,displayInterval:{from:0,len:0},userEvents:null,hammertime:null,curNavLevel:"l1",curWidth:"me",albumSearch:"",albumSearchTags:"",lastZIndex:0,lastRandomValue:0,slider:{hostIdx:-1,hostItem:null,currentIdx:0,nextIdx:0,timerID:0,tween:null},NGY2Item:function(e){if(null==Ue.GOM.items[e]||null==Ue.GOM.items[e])return null;var t=Ue.GOM.items[e].thumbnailIdx;return Ue.I[t]},GTn:function(e,t,i){this.thumbnailIdx=e,this.width=0,this.height=0,this.top=0,this.left=0,this.row=0,this.imageWidth=t,this.imageHeight=i,this.resizedContentWidth=0,this.resizedContentHeight=0,this.displayed=!1,this.neverDisplayed=!0,this.inDisplayArea=!1}},Ue.VOM={viewerDisplayed:!1,viewerIsFullscreen:!1,infoDisplayed:!1,toolbarsDisplayed:!0,toolsHide:null,saveOverflowX:"visible",saveOverflowY:"visible",zoom:{posX:0,posY:0,userFactor:1,isZooming:!1},padding:{H:0,V:0},window:{lastWidth:0,lastHeight:0},$cont:null,$viewer:null,$toolbar:null,$toolbarTL:null,$toolbarTR:null,$content:null,$mediaPrevious:null,$mediaCurrent:null,$mediaNext:null,toolbarMode:"std",playSlideshow:!1,playSlideshowTimerID:0,slideshowDelay:3e3,albumID:-1,currItemIdx:-1,viewerMediaIsChanged:!1,items:[],NGY2Item:function(e){switch(e){case-1:var t=this.IdxPrevious();return Ue.I[this.items[t].ngy2ItemIdx];case 1:t=this.IdxNext();return Ue.I[this.items[t].ngy2ItemIdx];case 0:default:return Ue.I[this.items[Ue.VOM.currItemIdx].ngy2ItemIdx]}},IdxNext:function(){var e=0;return Ue.VOM.currItemIdx!=Ue.VOM.items.length-1&&(e=Ue.VOM.currItemIdx+1),e},IdxPrevious:function(){var e=Ue.VOM.currItemIdx-1;return 0==Ue.VOM.currItemIdx&&(e=Ue.VOM.items.length-1),e},userEvents:null,hammertime:null,swipePosX:0,panPosX:0,panPosY:0,viewerTheme:"",timeImgChanged:0,ImageLoader:{maxChecks:1e3,list:[],intervalHandle:null,loadImage:function(e,t){if("img"==t.mediaKind){var i=new Image;if(i.src=t.responsiveURL(),i.width&&i.height)e(i.width,i.height,t,0);else{var n,a={image:i,url:t.responsiveURL(),ngitem:t,callback:e,checks:1};for(n=0;n<this.list.length&&null!=this.list[n];n++);this.list[n]=a,this.intervalHandle||(this.intervalHandle=setInterval(this.interval,100))}}},interval:function(){for(var e,t=0,i=Ue.VOM.ImageLoader.list,n=0;n<i.length;n++)null!=(e=i[n])&&(e.image.width&&e.image.height?(Ue.VOM.ImageLoader.list[n]=null,e.callback(e.image.width,e.image.height,e.ngitem,e.checks)):e.checks>Ue.VOM.ImageLoader.maxChecks?(Ue.VOM.ImageLoader.list[n]=null,e.callback(0,0,e.ngitem,e.checks)):(t++,e.checks++));0==t&&(Ue.VOM.ImageLoader.list=[],clearInterval(Ue.VOM.ImageLoader.intervalHandle),delete Ue.VOM.ImageLoader.intervalHandle)}}},Ue.popup={isDisplayed:!1,$elt:null,close:function(){null!=this.$elt&&(new NGTweenable).tween({from:{opacity:1},to:{opacity:0},attachment:{t:this},easing:"easeInOutSine",duration:100,step:function(e,t){null!=t.t.$elt&&t.t.$elt.css("opacity",e.opacity)},finish:function(e,t){null!=t.t.$elt&&(t.t.$elt.remove(),t.t.$elt=null),t.t.isDisplayed=!1}})}},Ue.galleryTheme_dark={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#111",color:"#fff",colorHover:"#ccc",borderRadius:"4px"},navigationFilter:{color:"#ddd",background:"#111",colorSelected:"#fff",backgroundSelected:"#111",borderRadius:"4px"},thumbnail:{background:"#444",backgroundImage:"linear-gradient(315deg, #111 0%, #445 90%)",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#aaa"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#181818",backgroundSelected:"#666",color:"#fff",borderRadius:"2px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},Ue.galleryTheme_light={navigationBar:{background:"none",borderTop:"",borderBottom:"",borderRight:"",borderLeft:""},navigationBreadcrumb:{background:"#eee",color:"#000",colorHover:"#333",borderRadius:"4px"},navigationFilter:{background:"#eee",color:"#222",colorSelected:"#000",backgroundSelected:"#eee",borderRadius:"4px"},thumbnail:{background:"#444",backgroundImage:"linear-gradient(315deg, #111 0%, #445 90%)",borderColor:"#000",labelOpacity:1,labelBackground:"rgba(34, 34, 34, 0)",titleColor:"#fff",titleBgColor:"transparent",titleShadow:"",descriptionColor:"#ccc",descriptionBgColor:"transparent",descriptionShadow:"",stackBackground:"#888"},thumbnailIcon:{padding:"5px",color:"#fff"},pagination:{background:"#eee",backgroundSelected:"#aaa",color:"#000",borderRadius:"2px",shapeBorder:"3px solid #666",shapeColor:"#444",shapeSelectedColor:"#aaa"}},Ue.viewerTheme_dark={background:"#000",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Ue.viewerTheme_border={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"},Ue.viewerTheme_light={background:"#f8f8f8",imageBorder:"none",imageBoxShadow:"none",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var He=NGY2Tools.NanoAlert,je=NGY2Tools.NanoConsoleLog;this.initiateGallery2=function(e,t){Ue.O=t,Ue.$E.base=jQuery(e),Ue.baseEltID=Ue.$E.base.attr("id"),null==Ue.baseEltID&&(Ue.baseEltID="my_nanogallery",Ue.$E.base.attr("id",Ue.baseEltID)),Ue.O.$markup=[],function(){function e(e,t,i){Ue.tn.opt.lN[i]=Ue.O[e],Ue.tn.opt.l1[i]=Ue.O[e],"number"==tt(Ue.O[t])&&(Ue.tn.opt.l1[i]=Ue.O[t])}function t(e,t){if("string"==typeof e){var i=e.split("_");1==i.length&&(Ue.tn.opt[t].displayTransition=e.toUpperCase()),2==i.length&&(Ue.tn.opt[t].displayTransition=i[0].toUpperCase(),Ue.tn.opt[t].displayTransitionStartVal=Number(i[1])),3==i.length&&(Ue.tn.opt[t].displayTransition=i[0].toUpperCase(),Ue.tn.opt[t].displayTransitionStartVal=Number(i[1]),Ue.tn.opt[t].displayTransitionEasing=i[2])}}function i(e,t,i){if(null!=Ue.O[e])if("number"==tt(Ue.O[e]))B(i,"l1",Ue.O[e],"u"),t||B(i,"lN",Ue.O[e],"u");else{var n=Ue.O[e].split(" "),a="auto";"auto"!=n[0].substring(0,4)&&(a=parseInt(n[0]));var r="u";"C"==n[0].charAt(n[0].length-1)&&(r="c"),B(i,"l1",a,r),t||B(i,"lN",a,r);for(var o=1;o<n.length;o++){var l=n[o].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(l)){var s=n[o].substring(2);(a="auto")!=s.substring(0,4)&&(a=parseInt(s)),r="u","C"==s.charAt(s.length-1)&&(r="c"),Ue.tn.settings[i].l1[l]=a,Ue.tn.settings[i].l1[l+"c"]=r,t||(Ue.tn.settings[i].lN[l]=a,Ue.tn.settings[i].lN[l+"c"]=r)}}}}"PICASA"!=Ue.O.kind.toUpperCase()&&"GOOGLE"!=Ue.O.kind.toUpperCase()||(Ue.O.kind="google2"),Ue.GOM.cache.viewport=Ke(),Ue.GOM.curWidth=Fe(),jQuery.extend(!0,Ue.tn.toolbar.image,Ue.O.thumbnailToolbarImage),jQuery.extend(!0,Ue.tn.toolbar.album,Ue.O.thumbnailToolbarAlbum);for(var n=["image","album"],a=["topLeft","topRight","bottomLeft","bottomRight"],r=0;r<n.length;r++)for(var o=0;o<a.length;o++)Ue.tn.toolbar[n[r]][a[o]]=Ue.tn.toolbar[n[r]][a[o]].toUpperCase();if(Ue.O.thumbnailLabel.get=function(e){return"l1"==Ue.GOM.curNavLevel&&void 0!==Ue.O.thumbnailL1Label&&void 0!==Ue.O.thumbnailL1Label[e]?Ue.O.thumbnailL1Label[e]:Ue.O.thumbnailLabel[e]},Ue.O.thumbnailLabel.set=function(e,t){"l1"==Ue.GOM.curNavLevel&&void 0!==Ue.O.thumbnailL1Label&&void 0!==Ue.O.thumbnailL1Label[e]?Ue.O.thumbnailL1Label[e]=t:Ue.O.thumbnailLabel[e]=t},""!=Ue.O.blackList&&(Ue.blackList=Ue.O.blackList.toUpperCase().split("|")),""!=Ue.O.whiteList&&(Ue.whiteList=Ue.O.whiteList.toUpperCase().split("|")),void 0!==Ue.O.albumList2&&null!==Ue.O.albumList2&&Ue.O.albumList2.constructor===Array){var l=Ue.O.albumList2.length;for(r=0;r<l;r++)-1!==Ue.O.albumList2[r].indexOf("&authkey")||-1!==Ue.O.albumList2[r].indexOf("?authkey")?Ue.albumListHidden.push(Ue.O.albumList2[r]):Ue.albumList.push(Ue.O.albumList2[r])}if(void 0!==Ue.O.albumList2&&"string"==typeof Ue.O.albumList2&&(-1!==Ue.O.albumList2.indexOf("&authkey")?Ue.albumListHidden.push(Ue.O.albumList2):Ue.albumList.push(Ue.O.albumList2)),0<Ue.albumListHidden.length&&(Ue.O.locationHash=!1),Ue.tn.opt.lN.crop=Ue.O.thumbnailCrop,Ue.tn.opt.l1.crop=null!=Ue.O.thumbnailL1Crop?Ue.O.thumbnailL1Crop:Ue.O.thumbnailCrop,e("thumbnailStacks","thumbnailL1Stacks","stacks"),e("thumbnailStacksTranslateX","thumbnailL1StacksTranslateX","stacksTranslateX"),e("thumbnailStacksTranslateY","thumbnailL1StacksTranslateY","stacksTranslateY"),e("thumbnailStacksTranslateZ","thumbnailL1StacksTranslateZ","stacksTranslateZ"),e("thumbnailStacksRotateX","thumbnailL1StacksRotateX","stacksRotateX"),e("thumbnailStacksRotateY","thumbnailL1StacksRotateY","stacksRotateY"),e("thumbnailStacksRotateZ","thumbnailL1StacksRotateZ","stacksRotateZ"),e("thumbnailStacksScale","thumbnailL1StacksScale","stacksScale"),e("thumbnailGutterWidth","thumbnailL1GutterWidth","gutterWidth"),e("thumbnailGutterHeight","thumbnailL1GutterHeight","gutterHeight"),e("thumbnailBaseGridHeight","thumbnailL1BaseGridHeight","baseGridHeight"),Ue.galleryDisplayMode.lN=Ue.O.galleryDisplayMode.toUpperCase(),Ue.galleryDisplayMode.l1=null!=Ue.O.galleryL1DisplayMode?Ue.O.galleryL1DisplayMode.toUpperCase():Ue.O.galleryDisplayMode.toUpperCase(),Ue.galleryMaxRows.lN=Ue.O.galleryMaxRows,Ue.galleryMaxRows.l1="number"==tt(Ue.O.galleryL1MaxRows)?Ue.O.galleryL1MaxRows:Ue.O.galleryMaxRows,Ue.galleryLastRowFull.lN=Ue.O.galleryLastRowFull,Ue.galleryLastRowFull.l1=null!=Ue.O.galleryL1LastRowFull?Ue.O.galleryL1LastRowFull:Ue.O.galleryLastRowFull,Ue.gallerySorting.lN=Ue.O.gallerySorting.toUpperCase(),Ue.gallerySorting.l1=null!=Ue.O.galleryL1Sorting?Ue.O.galleryL1Sorting.toUpperCase():Ue.gallerySorting.lN,Ue.galleryDisplayTransition.lN=Ue.O.galleryDisplayTransition.toUpperCase(),Ue.galleryDisplayTransition.l1=null!=Ue.O.galleryL1DisplayTransition?Ue.O.galleryL1DisplayTransition.toUpperCase():Ue.galleryDisplayTransition.lN,Ue.galleryDisplayTransitionDuration.lN=Ue.O.galleryDisplayTransitionDuration,Ue.galleryDisplayTransitionDuration.l1=null!=Ue.O.galleryL1DisplayTransitionDuration?Ue.O.galleryL1DisplayTransitionDuration:Ue.galleryDisplayTransitionDuration.lN,Ue.galleryMaxItems.lN=Ue.O.galleryMaxItems,Ue.galleryMaxItems.l1="number"==tt(Ue.O.galleryL1MaxItems)?Ue.O.galleryL1MaxItems:Ue.O.galleryMaxItems,Ue.galleryFilterTags.lN=Ue.O.galleryFilterTags,Ue.galleryFilterTags.l1=null!=Ue.O.galleryL1FilterTags?Ue.O.galleryL1FilterTags:Ue.O.galleryFilterTags,Ue.O.galleryPaginationMode=Ue.O.galleryPaginationMode.toUpperCase(),"number"==tt(Ue.O.slideshowDelay)&&2e3<=Ue.O.slideshowDelay?Ue.VOM.slideshowDelay=Ue.O.slideshowDelay:je(Ue,'Parameter "slideshowDelay" must be an integer >= 2000 ms.'),"boolean"==typeof Ue.O.thumbnailDisplayTransition&&(!0===Ue.O.thumbnailDisplayTransition?(Ue.tn.opt.lN.displayTransition="FADEIN",Ue.tn.opt.l1.displayTransition="FADEIN"):(Ue.tn.opt.lN.displayTransition="NONE",Ue.tn.opt.l1.displayTransition="NONE")),""!==Ue.O.fnThumbnailDisplayEffect&&(Ue.tn.opt.lN.displayTransition="CUSTOM",Ue.tn.opt.l1.displayTransition="CUSTOM"),""!==Ue.O.fnThumbnailL1DisplayEffect&&(Ue.tn.opt.l1.displayTransition="CUSTOM"),t(Ue.O.thumbnailDisplayTransition,"lN"),t(Ue.O.thumbnailDisplayTransition,"l1"),t(Ue.O.thumbnailL1DisplayTransition,"l1"),e("thumbnailDisplayTransitionDuration","thumbnailL1DisplayTransitionDuration","displayTransitionDuration"),e("thumbnailDisplayInterval","thumbnailL1DisplayInterval","displayInterval"),void 0!==Ue.O.thumbnailSizeSM&&(Ue.O.breakpointSizeSM=Ue.O.thumbnailSizeSM),void 0!==Ue.O.thumbnailSizeME&&(Ue.O.breakpointSizeME=Ue.O.thumbnailSizeME),void 0!==Ue.O.thumbnailSizeLA&&(Ue.O.breakpointSizeLA=Ue.O.thumbnailSizeLA),void 0!==Ue.O.thumbnailSizeXL&&(Ue.O.breakpointSizeXL=Ue.O.thumbnailSizeXL),void 0!==Ue.O.thumbnailL1BuildInit2){var s=Ue.O.thumbnailL1BuildInit2.split("|");for(r=0;r<s.length;r++)3==(u=s[r].trim().split("_")).length&&((c={element:"",property:"",value:""}).element=P(u[0]),c.property=u[1],c.value=u[2],Ue.tn.buildInit.level1.push(c))}if(void 0!==Ue.O.thumbnailBuildInit2)for(s=Ue.O.thumbnailBuildInit2.split("|"),r=0;r<s.length;r++){var u,c;3==(u=s[r].trim().split("_")).length&&((c={element:"",property:"",value:""}).element=P(u[0]),c.property=u[1],c.value=u[2],Ue.tn.buildInit.std.push(c))}var h=Ue.O.thumbnailL1HoverEffect2;if(void 0!==h)switch(tt(h)){case"string":var m=h.split("|");for(r=0;r<m.length;r++){var d={name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null};null!=(d=$(m[r].trim(),d))&&Ue.tn.hoverEffects.level1.push(d)}break;case"object":d={name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null},null!=(d=$((d=jQuery.extend(d,h)).name,d))&&Ue.tn.hoverEffects.level1.push(d);break;case"array":for(r=0;r<h.length;r++)d={name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null},null!=(d=$((d=jQuery.extend(d,h[r])).name,d))&&Ue.tn.hoverEffects.level1.push(d);break;case"null":break;default:He(Ue,'incorrect parameter for "thumbnailL1HoverEffect2".')}Ue.tn.hoverEffects.level1=F(Ue.tn.hoverEffects.level1);var p=Ue.O.thumbnailHoverEffect2;switch(tt(p)){case"string":for(m=p.split("|"),r=0;r<m.length;r++)d={name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null},null!=(d=$(m[r].trim(),d))&&Ue.tn.hoverEffects.std.push(d);break;case"object":d={name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null},null!=(d=$((d=jQuery.extend(d,p)).name,d))&&Ue.tn.hoverEffects.std.push(d);break;case"array":for(r=0;r<p.length;r++)d={name:"",element:"",type:"",from:"",to:"",hoverin:!0,hoverout:!0,firstKeyframe:!0,delay:0,delayBack:0,duration:400,durationBack:300,easing:"easeOutQuart",easingBack:"easeOutQuart",animParam:null},null!=(d=$((d=jQuery.extend(d,p[r])).name,d))&&Ue.tn.hoverEffects.std.push(d);break;case"null":break;default:He(Ue,'incorrect parameter for "thumbnailHoverEffect2".')}Ue.tn.hoverEffects.std=F(Ue.tn.hoverEffects.std),null==Ue.O.touchAnimationL1&&(Ue.O.touchAnimationL1=Ue.O.touchAnimation),0==Ue.tn.hoverEffects.std.length&&(0==Ue.tn.hoverEffects.level1.length&&(Ue.O.touchAnimationL1=!1),Ue.O.touchAnimation=!1),0!=Ue.O.thumbnailHeight&&""!=Ue.O.thumbnailHeight||(Ue.O.thumbnailHeight="auto"),0!=Ue.O.thumbnailWidth&&""!=Ue.O.thumbnailWidth||(Ue.O.thumbnailWidth="auto"),0!=Ue.O.thumbnailL1Height&&""!=Ue.O.thumbnailL1Height||(Ue.O.thumbnailL1Height="auto"),0!=Ue.O.thumbnailL1Width&&""!=Ue.O.thumbnailL1Width||(Ue.O.thumbnailL1Width="auto"),i("thumbnailWidth",!1,"width"),i("thumbnailL1Width",!0,"width"),i("thumbnailHeight",!1,"height"),i("thumbnailL1Height",!0,"height"),Ue.O.thumbnailBorderHorizontal=parseInt(Ue.O.thumbnailBorderHorizontal),Ue.O.thumbnailBorderVertical=parseInt(Ue.O.thumbnailBorderVertical),Ue.O.thumbnailLabelHeight=parseInt(Ue.O.thumbnailLabelHeight),null!=Ue.O.galleryMosaic&&(Ue.tn.settings.mosaic.l1.xs=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.l1.sm=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.l1.me=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.l1.la=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.l1.xl=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.lN.xs=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.lN.sm=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.lN.me=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.lN.la=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaic.lN.xl=JSON.parse(JSON.stringify(Ue.O.galleryMosaic)),Ue.tn.settings.mosaicCalcFactor("l1","xs"),Ue.tn.settings.mosaicCalcFactor("l1","sm"),Ue.tn.settings.mosaicCalcFactor("l1","me"),Ue.tn.settings.mosaicCalcFactor("l1","la"),Ue.tn.settings.mosaicCalcFactor("l1","xl"),Ue.tn.settings.mosaicCalcFactor("lN","xs"),Ue.tn.settings.mosaicCalcFactor("lN","sm"),Ue.tn.settings.mosaicCalcFactor("lN","me"),Ue.tn.settings.mosaicCalcFactor("lN","la"),Ue.tn.settings.mosaicCalcFactor("lN","xl")),null!=Ue.O.galleryL1Mosaic&&(Ue.tn.settings.mosaic.l1.xs=JSON.parse(JSON.stringify(Ue.O.galleryL1Mosaic)),Ue.tn.settings.mosaic.l1.sm=JSON.parse(JSON.stringify(Ue.O.galleryL1Mosaic)),Ue.tn.settings.mosaic.l1.me=JSON.parse(JSON.stringify(Ue.O.galleryL1Mosaic)),Ue.tn.settings.mosaic.l1.la=JSON.parse(JSON.stringify(Ue.O.galleryL1Mosaic)),Ue.tn.settings.mosaic.l1.xl=JSON.parse(JSON.stringify(Ue.O.galleryL1Mosaic)),Ue.tn.settings.mosaicCalcFactor("l1","xs"),Ue.tn.settings.mosaicCalcFactor("l1","sm"),Ue.tn.settings.mosaicCalcFactor("l1","me"),Ue.tn.settings.mosaicCalcFactor("l1","la"),Ue.tn.settings.mosaicCalcFactor("l1","xl"));for(var g=0;g<Ue.tn.settings.mosaic.l1;g++)null!=Ue.O["galleryMosaic"+Ue.tn.settings.mosaic.l1[g].toUpperCase()]&&(Ue.tn.settings.mosaic.lN[tn.settings.mosaic.l1[g]]=JSON.parse(JSON.stringify(Ue.O["galleryMosaic"+Ue.tn.settings.mosaic.l1[g].toUpperCase()])),Ue.tn.settings.mosaic.l1[tn.settings.mosaic.l1[g]]=JSON.parse(JSON.stringify(Ue.O["galleryMosaic"+Ue.tn.settings.mosaic.l1[g].toUpperCase()])),Ue.tn.settings.mosaicCalcFactor("l1",Ue.tn.settings.mosaic.l1[g]),Ue.tn.settings.mosaicCalcFactor("lN",Ue.tn.settings.mosaic.l1[g]));for(g=0;g<Ue.tn.settings.mosaic.l1;g++)null!=Ue.O["galleryL1Mosaic"+Ue.tn.settings.mosaic.l1[g].toUpperCase()]&&(Ue.tn.settings.mosaic.l1[tn.settings.mosaic.l1[g]]=JSON.parse(JSON.stringify(Ue.O["galleryL1Mosaic"+Ue.tn.settings.mosaic.l1[g].toUpperCase()])),Ue.tn.settings.mosaicCalcFactor("l1",Ue.tn.settings.mosaic.l1[g]));switch(Ue.layout.SetEngine(),Ue.O.kind){case"":break;default:jQuery.nanogallery2["data_"+Ue.O.kind](Ue,"Init")}}(),Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),i=this,n=function(){},a=function(){return i.apply(this instanceof n&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,a.prototype=new n,a}),function(){for(var r=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[e[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[e[t]+"CancelAnimationFrame"]||window[e[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var i=(new Date).getTime(),n=Math.max(0,16-(i-r)),a=window.setTimeout(function(){e(i+n)},n);return r=i+n,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),Array.prototype.removeIf=function(e){for(var t=this.length;t--;)e(this[t],t)&&this.splice(t,1)},Le(),Ue.GOM.firstDisplayTime=Date.now(),Ue.$E.conTnParent.on({mouseenter:Z,mouseleave:J},".nGY2GThumbnail"),Ue.GOM.hammertime=new NGHammer(Ue.$E.conTn[0]),Ue.GOM.hammertime.on("pan",function(e){Ue.VOM.viewerDisplayed||Ue.O.paginationSwipe&&Ue.layout.support.rows&&"PAGINATION"==Ue.galleryDisplayMode.Get()&&Ue.$E.conTn.css(Ue.CSStransformName,"translate("+e.deltaX+"px,0px)")}),Ue.GOM.hammertime.on("panend",function(e){if(!Ue.VOM.viewerDisplayed&&Ue.O.paginationSwipe&&Ue.layout.support.rows&&"PAGINATION"==Ue.galleryDisplayMode.Get()){if(100<Math.abs(e.deltaY))return void Ue.$E.conTn.css(Ue.CSStransformName,"translate(0px,0px)");if(50<e.deltaX)return void f();if(e.deltaX<-50)return void g();Ue.$E.conTn.css(Ue.CSStransformName,"translate(0px,0px)")}}),Ue.GOM.hammertime.on("tap",function(e){if(!Ue.VOM.viewerDisplayed)if(e.srcEvent.stopPropagation(),e.srcEvent.preventDefault(),"mouse"==e.pointerType){if("exit"==U(e.srcEvent))return}else{var t=K(e.srcEvent,!1);if(-1==t.GOMidx)return;if("NONE"!=t.action&&"OPEN"!=t.action)return void U(e.srcEvent);if(Ue.GOM.slider.hostIdx==t.GOMidx)return D(),void ee(Ue.GOM.items[Ue.GOM.slider.currentIdx].thumbnailIdx,!0);if("l1"==Ue.GOM.curNavLevel&&0==Ue.O.touchAnimationL1||"lN"==Ue.GOM.curNavLevel&&0==Ue.O.touchAnimation)return void ee(Ue.GOM.items[t.GOMidx].thumbnailIdx,!0);0<Ue.O.touchAutoOpenDelay?(D(),L(t.GOMidx),window.clearInterval(Ue.touchAutoOpenDelayTimerID),Ue.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(Ue.touchAutoOpenDelayTimerID),ee(Ue.GOM.items[t.GOMidx].thumbnailIdx,!0)},Ue.O.touchAutoOpenDelay)):Ue.I[Ue.GOM.items[t.GOMidx].thumbnailIdx].hovered?ee(Ue.GOM.items[t.GOMidx].thumbnailIdx,!0):(D(),L(t.GOMidx))}}),Ue.O.locationHash&&jQuery(window).on("hashchange.nanogallery2."+Ue.baseEltID,function(){Ye()}),jQuery(window).on("resize.nanogallery2."+Ue.baseEltID+" orientationChange.nanogallery2."+Ue.baseEltID,ze(_e,Ue.O.eventsDebounceDelay,!1)),jQuery(window).on("scroll.nanogallery2."+Ue.baseEltID,ze(Ve,Ue.O.eventsDebounceDelay,!1)),Ue.VOM.toolsHide=ze(de,Ue.O.viewerHideToolsDelay,!1),jQuery(document).keyup(function(e){if(Ue.popup.isDisplayed)switch(e.keyCode){case 27:Ue.popup.close()}else if(Ue.VOM.viewerDisplayed)switch(pe(),e.keyCode){case 27:case 40:ke(Ue.VOM.currItemIdx);break;case 32:case 13:ye();break;case 38:case 39:case 33:Me();break;case 37:case 34:Te()}}),jQuery(window).bind("mousewheel wheel",function(e){if(Ue.VOM.viewerDisplayed){var t=0;e.preventDefault(),ae()&&(e.originalEvent.deltaY?t=e.originalEvent.deltaY:e.originalEvent.wheelDelta&&(t=-e.originalEvent.wheelDelta),re(t<=0))}}),jQuery(window).bind("mousemove",function(e){Ue.VOM.viewerDisplayed&&ze(pe,400,!1)()}),ngscreenfull.enabled&&ngscreenfull.onchange(function(){Ue.VOM.viewerDisplayed&&(ngscreenfull.isFullscreen?(Ue.VOM.viewerIsFullscreen=!0,Ue.VOM.$viewer.find(".fullscreenButton").html(Ue.O.icons.viewerFullscreenOff)):(Ue.VOM.viewerIsFullscreen=!1,Ue.VOM.$viewer.find(".fullscreenButton").html(Ue.O.icons.viewerFullscreenOn)))});var i=Ue.O.album;if(""==i&&""!=Ue.O.photoset&&(i=Ue.O.photoset,Ue.O.album=Ue.O.photoset),""==i||(Ue.O.displayBreadcrumb=!1,"NONE"==i.toUpperCase()))NGY2Item.New(Ue,Ue.i18nTranslations.breadcrumbHome,"","0","-1","album"),0<Ue.albumListHidden.length?jQuery.nanogallery2["data_"+Ue.O.kind](Ue,"GetHiddenAlbums",Ue.albumListHidden,o):Ye()||o();else{var n=i.indexOf("&authkey=");if(-1==n&&(n=i.indexOf("?authkey=")),0<n){Ue.O.locationHash=!1;var a=i.substring(0,n),r=i.substring(n);-1==r.indexOf("Gv1sRg")&&(r="&authkey=Gv1sRg"+r.substring(9)),NGY2Item.New(Ue,"","",a,"-1","album").authkey=r,h("-1",a)}else"nano_photos_provider2"==Ue.O.kind&&i==decodeURIComponent(i)&&(i=encodeURIComponent(i),Ue.O.album=i),NGY2Item.New(Ue,"","",i,"-1","album"),h("-1",i)}};var We={RANDOMSCALE:function(e,t){function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}for(var n=i(0,3);n==Ue.GOM.lastRandomValue;)n=i(0,3);var a=[.95,1,1.05,1.1][Ue.GOM.lastRandomValue=n];e.$elt.css({"z-index":Ue.GOM.lastZIndex+[1,2,3,4][n],"box-shadow":"0px 0px 5px 3px rgba(0,0,0,0.74)"});var r=new NGTweenable;r.tween({from:{scale:.5,opacity:0},to:{scale:a,opacity:1},attachment:{$e:e.$elt,item:e,tw:r},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?t.$e.css(Ue.CSStransformName,"scale("+e.scale+")").css("opacity",e.opacity):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(t.$e.css(Ue.CSStransformName,"scale("+e.scale+")").css("opacity",""),k(t.item))}})},SCALEUP:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=.6);var n=new NGTweenable;n.tween({from:{scale:i,opacity:0},to:{scale:1,opacity:1},attachment:{$e:e.$elt,item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?t.$e.css(Ue.CSStransformName,"scale("+e.scale+")").css("opacity",e.opacity):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(t.$e.css(Ue.CSStransformName,"").css("opacity",""),k(t.item))}})},SCALEDOWN:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=1.3);var n=new NGTweenable;n.tween({from:{scale:i,opacity:0},to:{scale:1,opacity:1},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.last().css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","scale",e.scale),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(t.item.$elt.last().css("opacity",""),t.item.CSSTransformSet(".nGY2GThumbnail","scale",e.scale),t.item.CSSTransformApply(".nGY2GThumbnail"),k(t.item))}})},SLIDEUP:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=50);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i},to:{opacity:1,translateY:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px, "+e.translateY+"px"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},SLIDEDOWN:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-50);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i},to:{opacity:1,translateY:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+e.translateY+"px"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},FLIPUP:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=100);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i,rotateX:45},to:{opacity:1,translateY:0,rotateX:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+e.translateY+"px"),t.item.CSSTransformSet(".nGY2GThumbnail","rotateX",e.rotateX+"deg"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},FLIPDOWN:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-100);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i,rotateX:-45},to:{opacity:1,translateY:0,rotateX:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+e.translateY+"px"),t.item.CSSTransformSet(".nGY2GThumbnail","rotateX",e.rotateX+"deg"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},SLIDEUP2:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=100);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i,rotateY:40},to:{opacity:1,translateY:0,rotateY:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px,"+e.translateY+"px"),t.item.CSSTransformSet(".nGY2GThumbnail","rotateY",e.rotateY+"deg"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},SLIDEDOWN2:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-100);var n=new NGTweenable;n.tween({from:{opacity:0,translateY:i,rotateY:40},to:{opacity:1,translateY:0,rotateY:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",scale:"easeOutQuart",translateY:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate","0px, "+e.translateY+"px"),t.item.CSSTransformSet(".nGY2GThumbnail","rotateY",e.rotateY+"deg"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){this._step(e,t),t.item.$elt.css("opacity",""),t.item.CSSTransformApply(".nGY2GThumbnail"),k(t.item)}})},SLIDERIGHT:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=-150);var n=new NGTweenable;n.tween({from:{opacity:0,translateX:i},to:{opacity:1,translateX:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",translateX:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate",e.translateX+"px, 0px"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},SLIDELEFT:function(e,t){var i=Ue.tn.opt.Get("displayTransitionStartVal");0==i&&(i=150);var n=new NGTweenable;n.tween({from:{opacity:0,translateX:i},to:{opacity:1,translateX:0},attachment:{item:e,tw:n},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:{opacity:"easeOutQuint",translateX:Ue.tn.opt.Get("displayTransitionEasing")},step:function(e,t){null!==t.item.$elt?(t.item.$elt.css("opacity",e.opacity),t.item.CSSTransformSet(".nGY2GThumbnail","translate",e.translateX+"px, 0px"),t.item.CSSTransformApply(".nGY2GThumbnail")):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(this._step(e,t),t.item.$elt.css("opacity",""),k(t.item))}})},FADEIN:function(e,t){var i=new NGTweenable;i.tween({from:{opacity:0},to:{opacity:1},attachment:{$e:e.$elt,item:e,tw:i},delay:t,duration:Ue.tn.opt.Get("displayTransitionDuration"),easing:"easeInOutSine",step:function(e,t){null!==t.item.$elt?t.$e.css(e):t.tw.stop(!1)},finish:function(e,t){null!==t.item.$elt&&(t.$e.css("opacity",""),k(t.item))}})}},Qe={youtube:{getID:function(e){var t=e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/);return null!=t?t[1]:null},thumbUrl:function(e){return"https://img.youtube.com/vi/"+e+"/hqdefault.jpg"},url:function(e){return"https://www.youtube.com/embed/"+e},markup:function(e){return'<iframe class="nGY2ViewerMedia" src="https://www.youtube.com/embed/'+e+'?rel=0" frameborder="0" gesture="media" allowfullscreen></iframe>'},kind:"iframe"},vimeo:{getID:function(e){var t=e.match(/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/);return null!=t?t[5]:null},url:function(e){return"https://player.vimeo.com/video/"+e},markup:function(e){return'<iframe class="nGY2ViewerMedia" src="https://player.vimeo.com/video/'+e+'?rel=0" frameborder="0" gesture="media" allowfullscreen></iframe>'},kind:"iframe"},dailymotion:{getID:function(e){var t=e.match(/^.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/);return null!==t?void 0!==t[4]?t[4]:t[2]:null},thumbUrl:function(e){return"https://www.dailymotion.com/thumbnail/video/"+e},url:function(e){return"https://www.dailymotion.com/embed/video/"+e},markup:function(e){return'<iframe class="nGY2ViewerMedia" src="https://www.dailymotion.com/embed/video/'+e+'?rel=0" frameborder="0" gesture="media" allowfullscreen></iframe>'},kind:"iframe"}}}var r,e,i,a,t,o,tt=function(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};Xe.nanogallery2=function(e,t){var i=this;i.$e=jQuery(e),i.e=e,i.$e.data("nanogallery2data",i),i.init=function(){void 0===window.NGY2Item&&(window.NGY2Tools=function(){function a(){}return a.FilterAlbumName=function(e,t){var i=e.toUpperCase();if(!(0<this.albumList.length)){var n=!1;if(null!==this.whiteList){for(var a=0;a<this.whiteList.length;a++)-1!==i.indexOf(this.whiteList[a])&&(n=!0);if(!n)return!1}if(null!==this.blackList)for(a=0;a<this.blackList.length;a++)if(-1!==i.indexOf(this.blackList[a]))return!1;return!0}for(a=0;a<this.albumList.length;a++)if(i===this.albumList[a].toUpperCase()||t===this.albumList[a])return!0},a.NanoAlert=function(e,t,i){a.NanoConsoleLog.call(e,t),null!=e.$E.conConsole&&(e.$E.conConsole.css({visibility:"visible",minHeight:"100px"}),0==i?e.$E.conConsole.append("<p>"+t+"</p>"):e.$E.conConsole.append("<p>nanogallery2: "+t+" ["+e.baseEltID+"]</p>"))},a.NanoConsoleLog=function(e,t){window.console&&console.log("nanogallery2: "+t+" ["+e.baseEltID+"]")},a.PreloaderDisplay=function(e){!0===e?this.$E.conLoadingB.removeClass("nanoGalleryLBarOff").addClass("nanoGalleryLBar"):this.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")},a.AreaShuffle=function(e){for(var t,i,n=e.length;n;t=Math.floor(Math.random()*n),i=e[--n],e[n]=e[t],e[t]=i);return e},a.GetImageTitleFromURL=function(e){return"%filename"==this.O.thumbnailLabel.get("title")?e.split("/").pop().replace("_"," "):"%filenameNoExt"==this.O.thumbnailLabel.get("title")?e.split("/").pop().split(".").shift().replace("_"," "):""},a.AlbumPostProcess=function(t){var e=this.gallerySorting[this.GOM.curNavLevel],i=this.galleryMaxItems[this.GOM.curNavLevel];if(""!=e||0<i){var n=this.I.filter(function(e){return e.albumID==t&&"albumUp"!=e.kind});switch(e){case"RANDOM":n=a.AreaShuffle(n);break;case"REVERSED":n=n.reverse();break;case"TITLEASC":n.sort(function(e,t){return e.title.toUpperCase()<t.title.toUpperCase()?-1:e.title.toUpperCase()>t.title.toUpperCase()?1:0});break;case"TITLEDESC":n.sort(function(e,t){return e.title.toUpperCase()>t.title.toUpperCase()?-1:e.title.toUpperCase()<t.title.toUpperCase()?1:0})}0<i&&n.length>i&&n.splice(i-1,n.length-i),this.I.removeIf(function(e){return e.albumID==t&&"albumUp"!=e.kind}),this.I.push.apply(this.I,n)}},a}(),window.NGY2Item=function(){function p(e){var t;t=null==e?i++:e,this.GetID=function(){return t},this.kind="",this.mediaKind="img",this.mediaMarkup="",this.G=null,this.title="",this.description="",this.albumID=0,this.src="",this.width=0,this.height=0,this.destinationURL="",this.downloadURL="",this.author="",this.left=0,this.top=0,this.width=0,this.height=0,this.resizedContentWidth=0,this.resizedContentHeight=0,this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}},this.thumbnailImgRevealed=!1,this.imageDominantColors=null,this.imageDominantColor=null,this.featured=!1,this.flickrThumbSizes={},this.picasaThumbs=null,this.hovered=!1,this.hoverInitDone=!1,this.contentIsLoaded=!1,this.contentLength=0,this.numberItems=0,this.mediaNumber=0,this.imageCounter=0,this.eltTransform=[],this.eltFilter=[],this.eltEffect=[],this.authkey="",this.paginationLastPage=0,this.paginationLastWidth=0,this.customData={},this.selected=!1,this.imageWidth=0,this.imageHeight=0,this.$elt=null,this.$Elts=[],this.tags=[],this.albumTagList=[],this.albumTagListSel=[],this.exif={exposure:"",flash:"",focallength:"",fstop:"",iso:"",model:"",time:"",location:""},this.deleted=!1}function g(e,t){return 1==e.O.allowHTMLinData?t:String(t).replace(/[&<>"'`=\/]/g,function(e){return n[e]})}function m(e,t){if("0"===(e=String(e))||1==t)return e;var i=Number(e.replace(/[a-zA-Z]/g,"")),n=e.match(/([^\-0-9\.]+)/g),a="";return null!=n&&0<n.length&&(a=n.join()),isNaN(i)||0==i?e:(i*=t)+a}var i=1;p.Get=function(e,t){for(var i=e.I.length,n=0;n<i;n++)if(e.I[n].GetID()==t)return e.I[n];return null},p.GetIdx=function(e,t){for(var i=e.I.length,n=0;n<i;n++)if(e.I[n].GetID()==t)return n;return-1},p.New=function(e,t,i,n,a,r,o){var l=p.Get(e,a);if(-1!=a&&0!=a&&"image gallery by nanogallery2 [build]"!=t&&e.O.thumbnailLevelUp&&0==l.getContentLength(!1)&&""==e.O.album){var s=new p("0");e.I.push(s),l.contentLength+=1,s.title="UP",s.albumID=a,s.kind="albumUp",s.G=e,jQuery.extend(!0,s.thumbs.width,e.tn.defaultSize.width),jQuery.extend(!0,s.thumbs.height,e.tn.defaultSize.height)}null===(s=p.Get(e,n))&&(s=new p(n),e.I.push(s),-1!=a&&"image gallery by nanogallery2 [build]"!=t&&(l.contentLength+=1)),s.G=e,s.albumID=a,"image"==(s.kind=r)&&(l.imageCounter+=1,s.mediaNumber=l.imageCounter);var u=e.O.thumbnailFeaturedKeyword;if(""!=u){u=u.toUpperCase();var c=t.toUpperCase().indexOf(u);-1<c&&(s.featured=!0,t=t.substring(0,c)+t.substring(c+u.length,t.length)),-1<(c=i.toUpperCase().indexOf(u))&&(s.featured=!0,i=i.substring(0,c)+i.substring(c+u.length,i.length))}if("string"==typeof e.galleryFilterTags.Get())switch(e.galleryFilterTags.Get().toUpperCase()){case"TITLE":var h=/(?:^|\W)#(\w+)(?!\w)/g,m=[];for(o="";d=h.exec(t);)m.push(d[1].replace(/^\s*|\s*$/,""));s.setTags(m),t=t.split("#").join("");break;case"DESCRIPTION":var d;for(h=/(?:^|\W)#(\w+)(?!\w)/g,m=[],o="";d=h.exec(i);)m.push(d[1].replace(/^\s*|\s*$/,""));s.setTags(m),i=i.split("#").join("")}else""!=o&&null!=o&&s.setTags(o.split(" "));return s.title=g(e,t),s.description=g(e,i),s},p.prototype.delete=function(){this.deleted=!0,this.G.I[p.GetIdx(this.G,this.albumID)].contentLength--,this.G.I[p.GetIdx(this.G,this.albumID)].numberItems--;for(var e=this.G.GOM.items.length,t=this.GetID(),i=-1,n=-1,a=0;a<e;a++){var r=this.G.GOM.items[a],o=this.G.I[r.thumbnailIdx];o.GetID()==t?r.neverDisplayed||(i=r.thumbnailIdx,n=a):-1!=i&&(r.neverDisplayed||(o.$getElt(".nGY2GThumbnail").data("index",a-1),o.$getElt(".nGY2GThumbnailImg").data("index",a-1)))}if(-1!=i){var l=this.G;1==this.selected&&(this.selected=!1,l.GOM.nbSelected--),null!==l.I[i].$elt&&l.I[i].$elt.remove(),l.GOM.items.splice(n,1),-1!=l.GOM.lastDisplayedIdx&&(l.GOM.lastDisplayedIdx-=1)}},p.prototype.addToGOM=function(){for(var e=this.GetID(),t=this.G.I.length,i=0;i<t;i++){var n=this.G.I[i];if(n.GetID()==e){var a=n.thumbImg().width,r=n.thumbImg().height;0==r&&(r=this.G.tn.defaultSize.getHeight()),0==a&&(a=this.G.tn.defaultSize.getWidth());var o=new this.G.GOM.GTn(i,a,r);this.G.GOM.items.push(o);break}}};var n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return p.get_nextId=function(){return i},p.prototype.$getElt=function(e,t){return null==this.$elt?null:(void 0!==this.$Elts[e]&&1==!t||(this.$Elts[e]=".nGY2GThumbnail"==e?this.$elt:this.$elt.find(e)),this.$Elts[e])},p.prototype.removeElt=function(e){if(null!=this.$elt&&null!=this.$Elts[e]){this.$Elts[e].remove();var t=this.$Elts.indexOf(e);this.$Elts.splice(t,1)}},p.prototype.album=function(){return this.G.I[p.GetIdx(this.G,this.albumID)]},p.prototype.mediaTransition=function(){return-1<this.G.O.viewerTransitionMediaKind.indexOf(this.mediaKind)},p.prototype.imageSet=function(e,t,i){this.src=e,this.width=t,this.height=i},p.prototype.thumbSet=function(e,t,i,n,a){var r=["xs","sm","me","la","xl"];if(void 0===n||""==n||null==n)for(var o=0;o<r.length;o++)void 0===a||""==a?(this.thumbs.url.l1[r[o]]=e,this.thumbs.height.l1[r[o]]=i,this.thumbs.width.l1[r[o]]=t,this.thumbs.url.lN[r[o]]=e,this.thumbs.height.lN[r[o]]=i,this.thumbs.width.lN[r[o]]=t):(this.thumbs.url[a][r[o]]=e,this.thumbs.height[a][r[o]]=i,this.thumbs.width[a][r[o]]=t);else void 0===a||""==a||null==a?(this.thumbs.url.l1[n]=e,this.thumbs.height.l1[n]=i,this.thumbs.width.l1[n]=t,this.thumbs.url.lN[n]=e,this.thumbs.height.lN[n]=i,this.thumbs.width.lN[n]=t):(this.thumbs.url[a][n]=e,this.thumbs.height[a][n]=i,this.thumbs.width[a][n]=t);for(r=["xs","sm","me","la","xl"],o=0;o<r.length;o++)this.thumbs.height.l1[r[o]]=i;for(o=0;o<r.length;o++)this.G.tn.settings.height.lN[r[o]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[r[o]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[r[o]]=i)},p.prototype.thumbSetImgHeight=function(e){for(var t=["xs","sm","me","la","xl"],i=0;i<t.length;i++)this.G.tn.settings.height.l1[t[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[t[i]]==this.G.tn.settings.getW()&&(this.thumbs.height.l1[t[i]]=e);for(i=0;i<t.length;i++)this.G.tn.settings.height.lN[t[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[t[i]]==this.G.tn.settings.getW()&&(this.thumbs.height.lN[t[i]]=e)},p.prototype.thumbSetImgWidth=function(e){for(var t=["xs","sm","me","la","xl"],i=0;i<t.length;i++)this.G.tn.settings.height.l1[t[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[t[i]]==this.G.tn.settings.getW()&&(this.thumbs.width.l1[t[i]]=e);for(i=0;i<t.length;i++)this.G.tn.settings.height.lN[t[i]]==this.G.tn.settings.getH()&&this.G.tn.settings.width.l1[t[i]]==this.G.tn.settings.getW()&&(this.thumbs.width.lN[t[i]]=e)},p.prototype.thumbImg=function(){var e={src:"",width:0,height:0};return"image gallery by nanogallery2 [build]"==this.title?(e.src=this.G.emptyGif,e.url=this.G.emptyGif):(e.src=this.thumbs.url[this.G.GOM.curNavLevel][this.G.GOM.curWidth],e.width=this.thumbs.width[this.G.GOM.curNavLevel][this.G.GOM.curWidth],e.height=this.thumbs.height[this.G.GOM.curNavLevel][this.G.GOM.curWidth]),e},p.prototype.setTags=function(e){if(0<e.length){this.tags=e;for(var t=this.album().albumTagList,i=0;i<e.length;i++){for(var n=!1,a=0;a<t.length;a++)e[i].toUpperCase()==t[a].toUpperCase()&&(n=!0);0==n&&(this.album().albumTagList.push(e[i]),this.album().albumTagListSel.push(e[i]))}}},p.prototype.checkTagFilter=function(){if(0!=this.G.galleryFilterTags.Get()&&0<this.album().albumTagList.length){if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var e=!1,t=this.album().albumTagListSel,i=0;i<this.tags.length;i++)for(var n=0;n<t.length;n++)if(this.tags[i].toUpperCase()==t[n].toUpperCase()){e=!0;break}return e}return!0},p.prototype.isSearchTagFound=function(){if(""==this.G.GOM.albumSearchTags)return!0;if(this.G.O.thumbnailLevelUp&&"albumUp"==this.kind)return!0;for(var e=0;e<this.tags.length;e++)if(0<=this.tags[e].toUpperCase().indexOf(this.G.GOM.albumSearchTags))return!0;return!1},p.prototype.setMediaURL=function(e,t){this.src=e,"img"==(this.mediaKind=t)&&(this.mediaMarkup='<img class="nGY2ViewerMedia" src="'+e+'" alt=" " itemprop="contentURL" draggable="false">')},p.prototype.isToDisplay=function(e){return this.albumID==e&&this.checkTagFilter()&&this.isSearchFound()&&this.isSearchTagFound()&&0==this.deleted},p.prototype.getContentLength=function(e){if(0==e||0==this.albumTagList.length||0==this.G.galleryFilterTags.Get())return this.contentLength;for(var t=this.G.I.length,i=0,n=this.GetID(),a=0;a<t;a++)this.G.I[a].isToDisplay(n)&&i++;return i},p.prototype.isSearchFound=function(){return""==this.G.GOM.albumSearch||-1!=this.title.toUpperCase().indexOf(this.G.GOM.albumSearch)},p.prototype.responsiveURL=function(){var e="";switch(this.G.O.kind){case"":case"flickr":e=this.src;break;case"picasa":case"google":case"google2":default:e=this.src}return e},p.prototype.ThumbnailImageReveal=function(){0==this.thumbnailImgRevealed&&(this.thumbnailImgRevealed=!0,(new NGTweenable).tween({from:{opacity:0},to:{opacity:1},attachment:{item:this},delay:30,duration:400,easing:"easeOutQuart",step:function(e,t){var i=t.item.$getElt(".nGY2TnImg");null!=i&&i.css(e)}}))},p.prototype.CSSTransformApply=function(e){var t=this.eltTransform[e];if(".nGY2GThumbnail"==e)for(var i=t.$elt.length-1,n=1,a=1,r=1,o=1,l=1,s=1,u=1,c=i;0<=c;c--){var h="translateX("+m(t.translateX,n)+") translateY("+m(t.translateY,a)+") translateZ("+m(t.translateZ,r)+") scale("+m(t.scale,u)+") translate("+m(t.translate,1)+")";this.G.IE<=9||this.G.isGingerbread?h+=" rotate("+m(t.rotateZ,s)+")":h+=" rotateX("+m(t.rotateX,o)+") rotateY("+m(t.rotateY,l)+") rotateZ("+m(t.rotateZ,s)+") rotate("+m(t.rotate,1)+")",t.$elt[c].style[this.G.CSStransformName]=h,0<i&&(n-=this.G.tn.opt.Get("stacksTranslateX"),a-=this.G.tn.opt.Get("stacksTranslateY"),r-=this.G.tn.opt.Get("stacksTranslateZ"),o-=this.G.tn.opt.Get("stacksRotateX"),l-=this.G.tn.opt.Get("stacksRotateY"),s-=this.G.tn.opt.Get("stacksRotateZ"),u-=this.G.tn.opt.Get("stacksScale"))}else if(null!=t.$elt)for(c=0;c<t.$elt.length;c++)if(null!=t.$elt[c]){h="translateX("+t.translateX+") translateY("+t.translateY+") translateZ("+t.translateZ+") scale("+t.scale+") translate("+t.translate+")";this.G.IE<=9||this.G.isGingerbread?h+=" rotate("+t.rotateZ+")":h+=" rotateX("+t.rotateX+") rotateY("+t.rotateY+") rotateZ("+t.rotateZ+") rotate("+t.rotate+")",t.$elt[c].style[this.G.CSStransformName]=h}},p.prototype.CSSTransformSet=function(e,t,i,n){null==this.eltTransform[e]&&(this.eltTransform[e]={translateX:0,translateY:0,translateZ:0,rotateX:0,rotateY:0,rotateZ:0,scale:1,translate:"0px,0px",rotate:0},this.eltTransform[e].$elt=this.$getElt(e)),this.eltTransform[e][t]=i,!0===n&&(this.eltTransform[e].$elt=this.$getElt(e,!0))},p.prototype.CSSFilterApply=function(e){var t=this.eltFilter[e],i="blur("+t.blur+") brightness("+t.brightness+") grayscale("+t.grayscale+") sepia("+t.sepia+") contrast("+t.contrast+") opacity("+t.opacity+") saturate("+t.saturate+")";if(null!=t.$elt)for(var n=0;n<t.$elt.length;n++)null!=t.$elt[n]&&(t.$elt[n].style.WebkitFilter=i,t.$elt[n].style.filter=i)},p.prototype.CSSFilterSet=function(e,t,i,n){null==this.eltFilter[e]&&(this.eltFilter[e]={blur:0,brightness:"100%",grayscale:"0%",sepia:"0%",contrast:"100%",opacity:"100%",saturate:"100%"},this.eltFilter[e].$elt=this.$getElt(e)),this.eltFilter[e][t]=i,!0===n&&(this.eltTransform[e].$elt=this.$getElt(e,!0))},p.prototype.animate=function(e,t,n){if(null!=this.$getElt()){var i={};i.G=this.G,i.item=this,i.effect=e,i.hoverIn=n,i.cssKind="",n?(null==this.eltEffect[e.element]&&(this.eltEffect[e.element]=[]),null==this.eltEffect[e.element][e.type]&&(this.eltEffect[e.element][e.type]={initialValue:0,lastValue:0}),e.firstKeyframe&&(this.eltEffect[e.element][e.type]={initialValue:e.from,lastValue:e.from}),i.animeFrom=e.from,i.animeTo=e.to,i.animeDuration=parseInt(e.duration),i.animeDelay=30+parseInt(e.delay+t),i.animeEasing=e.easing):(e.firstKeyframe,i.animeFrom=this.eltEffect[e.element][e.type].lastValue,i.animeTo=this.eltEffect[e.element][e.type].initialValue,i.animeDuration=parseInt(e.durationBack),i.animeDelay=30+parseInt(e.delayBack+t),i.animeEasing=e.easingBack);for(var a=["translateX","translateY","translateZ","scale","rotateX","rotateY","rotateZ"],r=0;r<a.length;r++)if(e.type==a[r]){i.cssKind="transform";break}var o=["blur","brightness","grayscale","sepia","contrast","opacity","saturate"];for(r=0;r<o.length;r++)if(e.type==o[r]){i.cssKind="filter";break}!n||".nGY2GThumbnail"!=e.element||"scale"!=e.type&&"rotateX"!=e.type||(this.G.GOM.lastZIndex++,this.$getElt(e.element).css("z-index",this.G.GOM.lastZIndex));var l=new NGTweenable;(i.tweenable=l).tween({attachment:i,from:{v:i.animeFrom},to:{v:i.animeTo},duration:i.animeDuration,delay:i.animeDelay,easing:i.animeEasing,step:function(e,t){if(null!=t.item.$getElt())if(!t.hoverIn||t.item.hovered){if(t.G.VOM.viewerDisplayed)t.tweenable.stop(!1);else if(e.v!=t.animeFrom){switch(t.cssKind){case"transform":t.item.CSSTransformSet(t.effect.element,t.effect.type,e.v),t.item.CSSTransformApply(t.effect.element);break;case"filter":t.item.CSSFilterSet(t.effect.element,t.effect.type,e.v),t.item.CSSFilterApply(t.effect.element);break;default:var i=e.v;"rgb("!=e.v.substring(0,4)&&"rgba("!=e.v.substring(0,5)||(i=Ze(0,i)),t.item.$getElt(t.effect.element).css(t.effect.type,i)}n&&(t.item.eltEffect[t.effect.element][t.effect.type].lastValue=e.v)}}else t.tweenable.stop(!1);else t.tweenable.stop(!1)},finish:function(e,t){if(n&&(t.item.eltEffect[t.effect.element][t.effect.type].lastValue=e.v),null!=t.item.$getElt()&&(!t.hoverIn||t.item.hovered)&&!t.G.VOM.viewerDisplayed)switch(t.cssKind){case"transform":t.item.CSSTransformSet(t.effect.element,t.effect.type,t.animeTo),t.item.CSSTransformApply(t.effect.element);break;case"filter":t.item.CSSFilterSet(t.effect.element,t.effect.type,t.animeTo),t.item.CSSFilterApply(t.effect.element);break;default:t.item.$getElt(t.effect.element).css(t.effect.type,t.animeTo)}}})}},p}()),i.options=jQuery.extend(!0,{},jQuery.nanogallery2.defaultOptions,t),i.nG2=null,i.nG2=new n,i.nG2.initiateGallery2(i.e,i.options)},i.test=function(){},i.init()},jQuery.nanogallery2.defaultOptions={kind:"",userID:"",photoset:"",album:"",blackList:"scrapbook|profil|auto backup",whiteList:"",albumList:"",albumList2:null,RTL:!1,poogleplusUseUrlCrossDomain:!0,flickrSkipOriginal:!0,breadcrumbAutoHideTopLevel:!0,displayBreadcrumb:!0,breadcrumbOnlyCurrentLevel:!0,breadcrumbHideIcons:!0,theme:"nGY2",galleryTheme:"dark",viewerTheme:"dark",items:null,itemsBaseURL:"",thumbnailSelectable:!1,dataProvider:"",dataCharset:"Latin",allowHTMLinData:!1,locationHash:!0,slideshowDelay:3e3,slideshowAutoStart:!1,debugMode:!1,galleryDisplayMoreStep:2,galleryDisplayMode:"fullContent",galleryL1DisplayMode:null,galleryPaginationMode:"rectangles",galleryMaxRows:2,galleryL1MaxRows:null,galleryLastRowFull:!1,galleryLayoutEngine:"default",paginationSwipe:!0,paginationVisiblePages:10,galleryFilterTags:!1,galleryL1FilterTags:null,galleryMaxItems:0,galleryL1MaxItems:null,gallerySorting:"",galleryL1Sorting:null,galleryDisplayTransition:"none",galleryL1DisplayTransition:null,galleryDisplayTransitionDuration:1e3,galleryL1DisplayTransitionDuration:null,galleryResizeAnimation:!0,galleryRenderDelay:60,thumbnailCrop:!0,thumbnailL1Crop:null,thumbnailCropScaleFactor:1.5,thumbnailLevelUp:!1,thumbnailAlignment:"fillWidth",thumbnailWidth:300,thumbnailL1Width:null,thumbnailHeight:200,thumbnailL1Height:null,thumbnailBaseGridHeight:0,thumbnailL1BaseGridHeight:null,thumbnailGutterWidth:2,thumbnailL1GutterWidth:null,thumbnailGutterHeight:2,thumbnailL1GutterHeight:null,thumbnailBorderVertical:2,thumbnailBorderHorizontal:2,thumbnailFeaturedKeyword:"*featured",thumbnailAlbumDisplayImage:!1,thumbnailHoverEffect2:"toolsAppear",thumbnailBuildInit2:"",thumbnailStacks:0,thumbnailL1Stacks:null,thumbnailStacksTranslateX:0,thumbnailL1StacksTranslateX:null,thumbnailStacksTranslateY:0,thumbnailL1StacksTranslateY:null,thumbnailStacksTranslateZ:0,thumbnailL1StacksTranslateZ:null,thumbnailStacksRotateX:0,thumbnailL1StacksRotateX:null,thumbnailStacksRotateY:0,thumbnailL1StacksRotateY:null,thumbnailStacksRotateZ:0,thumbnailL1StacksRotateZ:null,thumbnailStacksScale:0,thumbnailL1StacksScale:null,thumbnailDisplayOutsideScreen:!0,thumbnailWaitImageLoaded:!0,thumbnailSliderDelay:2e3,galleryBuildInit2:"",portable:!1,eventsDebounceDelay:50,touchAnimation:!0,touchAnimationL1:void 0,touchAutoOpenDelay:0,thumbnailLabel:{position:"overImageOnBottom",align:"center",display:!0,displayDescription:!1,titleMaxLength:0,titleMultiLine:!1,descriptionMaxLength:0,descriptionMultiLine:!1,hideIcons:!0,title:""},thumbnailToolbarImage:{topLeft:"select",topRight:"featured"},thumbnailToolbarAlbum:{topLeft:"select",topRight:"counter"},thumbnailDisplayInterval:15,thumbnailL1DisplayInterval:null,thumbnailDisplayTransition:"fadeIn",thumbnailL1DisplayTransition:null,thumbnailDisplayTransitionDuration:240,thumbnailL1DisplayTransitionDuration:null,thumbnailOpenImage:!0,thumbnailOpenOriginal:!1,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",viewer:"internal",viewerFullscreen:!1,viewerDisplayLogo:!1,imageTransition:"swipe",viewerTransitionMediaKind:"img",viewerZoom:!0,viewerImageDisplay:"",openOnStart:"",viewerHideToolsDelay:3e3,viewerToolbar:{display:!0,position:"bottomOverImage",fullWidth:!0,align:"center",autoMinimize:0,standard:"minimizeButton,label",minimized:"minimizeButton,label,infoButton,shareButton,downloadButton,linkOriginalButton,fullscreenButton"},viewerTools:{topLeft:"pageCounter,playPauseButton",topRight:"zoomButton,closeButton"},breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnThumbnailSelection:null,fnGalleryRenderStart:null,fnGalleryRenderEnd:null,fnGalleryObjectModelBuilt:null,fnGalleryLayoutApplied:null,fnThumbnailClicked:null,fnShoppingCartUpdated:null,fnThumbnailToolCustAction:null,fnThumbnailOpen:null,fnImgDisplayed:null,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments"},icons:{thumbnailAlbum:'<i class="nGY2Icon-folder-empty"></i>',thumbnailImage:'<i class="nGY2Icon-picture"></i>',breadcrumbAlbum:'<i class="nGY2Icon-folder-empty"></i>',breadcrumbHome:'<i class="nGY2Icon-home"></i>',breadcrumbSeparator:'<i class="nGY2Icon-left-open"></i>',breadcrumbSeparatorRtl:'<i class="nGY2Icon-right-open"></i>',navigationFilterSelected:'<i style="color:#fff;" class="nGY2Icon-toggle-on"></i>',navigationFilterUnselected:'<i style="color:#ddd;" class="nGY2Icon-toggle-off"></i>',navigationFilterSelectedAll:'<i class="nGY2Icon-toggle-on"></i><i class="nGY2Icon-ok"></i>',thumbnailSelected:'<i style="color:#bff;" class="nGY2Icon-ok-circled"></i>',thumbnailUnselected:'<i style="color:#bff;" class="nGY2Icon-circle-empty"></i>',thumbnailFeatured:'<i style="color:#dd5;" class="nGY2Icon-star"></i>',thumbnailCounter:'<i class="nGY2Icon-picture"></i>',thumbnailShare:'<i class="nGY2Icon-ngy2_share2"></i>',thumbnailDownload:'<i class="nGY2Icon-ngy2_download2"></i>',thumbnailInfo:'<i class="nGY2Icon-ngy2_info2"></i>',thumbnailCart:'<i class="nGY2Icon-basket"></i>',thumbnailDisplay:'<i class="nGY2Icon-ngy2_zoom_in2"></i>',thumbnailCustomTool1:"T1",thumbnailCustomTool2:"T2",thumbnailCustomTool3:"T3",thumbnailCustomTool4:"T4",thumbnailCustomTool5:"T5",thumbnailCustomTool6:"T6",thumbnailCustomTool7:"T7",thumbnailCustomTool8:"T8",thumbnailCustomTool9:"T9",thumbnailCustomTool10:"T10",thumbnailAlbumUp:'<i style="font-size: 3em;" class="nGY2Icon-ngy2_chevron_up2"></i>',paginationNext:'<i class="nGY2Icon-right-open"></i>',paginationPrevious:'<i class="nGY2Icon-left-open"></i>',galleryMoreButton:'<i class="nGY2Icon-picture"></i> &nbsp; <i class="nGY2Icon-right-open"></i>',buttonClose:'<i class="nGY2Icon-ngy2_close2"></i>',viewerPrevious:'<i class="nGY2Icon-ngy2_chevron-left"></i>',viewerNext:'<i class="nGY2Icon-ngy2_chevron-right"></i>',viewerImgPrevious:'<i class="nGY2Icon-ngy2_chevron_left3"></i>',viewerImgNext:'<i class="nGY2Icon-ngy2_chevron_right3"></i>',viewerDownload:'<i class="nGY2Icon-ngy2_download2"></i>',viewerToolbarMin:'<i class="nGY2Icon-ellipsis-vert"></i>',viewerToolbarStd:'<i class="nGY2Icon-menu"></i>',viewerPlay:'<i class="nGY2Icon-play"></i>',viewerPause:'<i class="nGY2Icon-pause"></i>',viewerFullscreenOn:'<i class="nGY2Icon-resize-full"></i>',viewerFullscreenOff:'<i class="nGY2Icon-resize-small"></i>',viewerZoomIn:'<i class="nGY2Icon-ngy2_zoom_in2"></i>',viewerZoomOut:'<i class="nGY2Icon-ngy2_zoom_out2"></i>',viewerLinkOriginal:'<i class="nGY2Icon-ngy2_external2"></i>',viewerInfo:'<i class="nGY2Icon-ngy2_info2"></i>',viewerShare:'<i class="nGY2Icon-ngy2_share2"></i>',user:'<i class="nGY2Icon-user"></i>',location:'<i class="nGY2Icon-location"></i>',config:'<i class="nGY2Icon-wrench"></i>',shareFacebook:'<i style="color:#3b5998;" class="nGY2Icon-facebook-squared"></i>',shareTwitter:'<i style="color:#00aced;" class="nGY2Icon-twitter-squared"></i>',shareGooglePlus:'<i style="color:#dd4b39;" class="nGY2Icon-gplus-squared"></i>',shareTumblr:'<i style="color:#32506d;" class="nGY2Icon-tumblr-squared"></i>',sharePinterest:'<i style="color:#cb2027;" class="nGY2Icon-pinterest-squared"></i>',shareVK:'<i style="color:#3b5998;" class="nGY2Icon-vkontakte"></i>',shareMail:'<i style="color:#555;" class="nGY2Icon-mail-alt"></i>',viewerCustomTool1:"T1",viewerCustomTool2:"T2",viewerCustomTool3:"T3",viewerCustomTool4:"T4",viewerCustomTool5:"T5",viewerCustomTool6:"T6",viewerCustomTool7:"T7",viewerCustomTool8:"T8",viewerCustomTool9:"T9",viewerCustomTool10:"T10"}},jQuery.fn.nanogallery2=function(e,t,i){if(void 0===jQuery(this).data("nanogallery2data")){if("destroy"==e)return;return this.each(function(){new jQuery.nanogallery2(this,e)})}var n=Xe(this).data("nanogallery2data").nG2;switch(e){case"displayItem":n.DisplayItem(t);break;case"search":return n.Search(t);case"search2":return n.Search2(t,i);case"search2Execute":return n.Search2Execute();case"refresh":n.Refresh();break;case"resize":n.Resize();break;case"instance":return n;case"data":return n.data={items:n.I,gallery:n.GOM,lightbox:n.VOM},n.data;case"reload":return n.ReloadAlbum(),Xe(this);case"itemsSelectedGet":return n.ItemsSelectedGet();case"itemsSetSelectedValue":n.ItemsSetSelectedValue(t,i);break;case"option":if(void 0===i)return n.Get(t);n.Set(t,i),"demoViewportWidth"==t&&Xe(window).trigger("resize");break;case"destroy":n.Destroy(),Xe(this).removeData("nanogallery2data");break;case"shoppingCartGet":return n.shoppingCart;case"shoppingCartUpdate":if(void 0===i||void 0===t)return!1;for(var a=t,r=i,o=0;o<n.shoppingCart.length;o++)(n.shoppingCart[o].ID=a)&&(n.shoppingCart[o].cnt=r);return null!==(l=G.O.fnShoppingCartUpdated)&&("function"==typeof l?l(n.shoppingCart):window[l](n.shoppingCart)),n.shoppingCart;case"shoppingCartRemove":if(void 0===t)return!1;for(a=t,o=0;o<n.shoppingCart.length;o++)if(n.shoppingCart[o].ID=a){n.shoppingCart.splice(o,1);break}var l;return null!==(l=G.O.fnShoppingCartUpdated)&&("function"==typeof l?l(n.shoppingCart):window[l](n.shoppingCart)),n.shoppingCart;case"closeViewer":n.CloseViewer();break;case"minimizeToolbar":n.MinimizeToolbar();break;case"maximizeToolbar":n.MaximizeToolbar();break;case"paginationPreviousPage":n.PaginationPreviousPage();break;case"paginationNextPage":n.paginationNextPage();break;case"paginationGotoPage":n.PaginationGotoPage(t);break;case"paginationCountPages":n.PaginationCountPages()}return Xe(this)},("undefined"!=typeof window?window:this).ngEvEmitter=function(){function e(){}var t=e.prototype;return t.on=function(e,t){if(e&&t){var i=this._events=this._events||{},n=i[e]=i[e]||[];return-1==n.indexOf(t)&&n.push(t),this}},t.once=function(e,t){if(e&&t){this.on(e,t);var i=this._onceEvents=this._onceEvents||{};return(i[e]=i[e]||{})[t]=!0,this}},t.off=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=i.indexOf(t);return-1!=n&&i.splice(n,1),this}},t.emitEvent=function(e,t){var i=this._events&&this._events[e];if(i&&i.length){var n=0,a=i[n];t=t||[];for(var r=this._onceEvents&&this._onceEvents[e];a;){var o=r&&r[a];o&&(this.off(e,a),delete r[a]),a.apply(this,t),a=i[n+=o?0:1]}return this}},e}(),(o=window).ngimagesLoaded=function(t,e){function n(e,t){for(var i in t)e[i]=t[i];return e}function a(e,t,i){if(!(this instanceof a))return new a(e,t,i);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=function(e){var t=[];if(Array.isArray(e))t=e;else if("number"==typeof e.length)for(var i=0;i<e.length;i++)t.push(e[i]);else t.push(e);return t}(e),this.options=n({},this.options),"function"==typeof t?i=t:n(this.options,t),i&&this.on("always",i),this.getImages(),o&&(this.jqDeferred=new o.Deferred),setTimeout(function(){this.check()}.bind(this))}function i(e){this.img=e}function r(e,t){this.url=e,this.element=t,this.img=new Image}var o=jQuery,l=t.console;(a.prototype=Object.create(e.prototype)).options={},a.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)},a.prototype.addElementImages=function(e){"IMG"==e.nodeName&&this.addImage(e),!0===this.options.background&&this.addElementBackgroundImages(e);var t=e.nodeType;if(t&&s[t]){for(var i=e.querySelectorAll("img"),n=0;n<i.length;n++){var a=i[n];this.addImage(a)}if("string"==typeof this.options.background){var r=e.querySelectorAll(this.options.background);for(n=0;n<r.length;n++){var o=r[n];this.addElementBackgroundImages(o)}}}};var s={1:!0,9:!0,11:!0};return a.prototype.addElementBackgroundImages=function(e){var t=getComputedStyle(e);if(t)for(var i=/url\((['"])?(.*?)\1\)/gi,n=i.exec(t.backgroundImage);null!==n;){var a=n&&n[2];a&&this.addBackground(a,e),n=i.exec(t.backgroundImage)}},a.prototype.addImage=function(e){var t=new i(e);this.images.push(t)},a.prototype.addBackground=function(e,t){var i=new r(e,t);this.images.push(i)},a.prototype.check=function(){function t(e,t,i){setTimeout(function(){n.progress(e,t,i)})}var n=this;this.progressedCount=0,this.hasAnyBroken=!1,this.images.length?this.images.forEach(function(e){e.once("progress",t),e.check()}):this.complete()},a.prototype.progress=function(e,t,i){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded,this.emitEvent("progress",[this,e,t]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,e),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&l&&l.log("progress: "+i,e,t)},a.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(e,[this]),this.emitEvent("always",[this]),this.jqDeferred){var t=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[t](this)}},(i.prototype=Object.create(e.prototype)).check=function(){this.getIsImageComplete()?this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.src)},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.img,t])},i.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},(r.prototype=Object.create(i.prototype)).check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},r.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},r.prototype.confirm=function(e,t){this.isLoaded=e,this.emitEvent("progress",[this,this.element,t])},a.makeJQueryPlugin=function(e){(e=e||t.jQuery)&&((o=e).fn.ngimagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(o(this))})},a.makeJQueryPlugin(),a}(o,o.ngEvEmitter),r="undefined"==typeof window?{}:window.document,e="undefined"!=typeof module&&module.exports,i="undefined"!=typeof Element&&"ALLOW_KEYBOARD_INPUT"in Element,a=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=t.length,a={};i<n;i++)if((e=t[i])&&e[1]in r){for(i=0;i<e.length;i++)a[t[0][i]]=e[i];return a}return!1}(),t={request:function(e){var t=a.requestFullscreen;e=e||r.documentElement,/5\.1[.\d]* Safari/.test(navigator.userAgent)?e[t]():e[t](i&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){r[a.exitFullscreen]()},toggle:function(e){this.isFullscreen?this.exit():this.request(e)},onchange:function(e){r.addEventListener(a.fullscreenchange,e,!1)},onerror:function(e){r.addEventListener(a.fullscreenerror,e,!1)},raw:a},a?(Object.defineProperties(t,{isFullscreen:{get:function(){return Boolean(r[a.fullscreenElement])}},element:{enumerable:!0,get:function(){return r[a.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return Boolean(r[a.fullscreenEnabled])}}}),e?module.exports=t:window.ngscreenfull=t):e?module.exports=!1:window.ngscreenfull=!1,function(){var f,n=this||Function("return this")(),b=function(){function a(){}function r(e,t){var i;for(i in e)Object.hasOwnProperty.call(e,i)&&t(i)}function o(t,i){return r(i,function(e){t[e]=i[e]}),t}function l(t,i){r(i,function(e){void 0===t[e]&&(t[e]=i[e])})}function h(e,t,i,n,a,r,o){var l,s,u,c=e<r?0:(e-r)/a;for(l in t)t.hasOwnProperty(l)&&(u="function"==typeof(s=o[l])?s:p[s],t[l]=m(i[l],n[l],u,c));return t}function m(e,t,i,n){return e+(t-e)*i(n)}function d(t,i){var n=e.prototype.filter,a=t._filterArgs;r(n,function(e){void 0!==n[e][i]&&n[e][i].apply(t,a)})}function s(e,t,i,n,a,r,o,l,s,u,c){g=t+i+n,f=Math.min(c||y(),g),b=g<=f,v=n-(g-f),e.isPlaying()&&(b?(s(o,e._attachment,v),e.stop(!0)):(e._scheduleId=u(e._timeoutHandler,1e3/60),d(e,"beforeTween"),f<t+i?h(1,a,r,o,1,1,l):h(f,a,r,o,n,t+i,l),d(e,"afterTween"),s(a,e._attachment,v)))}function u(e,t){var i={},n=typeof t;return r(e,"string"===n||"function"===n?function(e){i[e]=t}:function(e){i[e]||(i[e]=t[e]||"linear")}),i}function e(e,t){this._currentState=e||{},this._configured=!1,this._scheduleFunction=i,void 0!==t&&this.setConfig(t)}var p,i,g,f,b,v,t=Date.now?Date.now:function(){return+new Date},y="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:t;return i="undefined"!=typeof window&&(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame)||setTimeout,e.prototype.tween=function(e){return this._isTweening?this:(void 0===e&&this._configured||this.setConfig(e),this._timestamp=y(),this._start(this.get(),this._attachment),this.resume())},e.prototype.setConfig=function(e){e=e||{},this._configured=!0,this._attachment=e.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=e.delay||0,this._start=e.start||a,this._step=e.step||a,this._finish=e.finish||a,this._duration=e.duration||500,this._currentState=o({},e.from||this.get()),this._originalState=this.get(),this._targetState=o({},e.to||this.get());var t=this;this._timeoutHandler=function(){s(t,t._timestamp,t._delay,t._duration,t._currentState,t._originalState,t._targetState,t._easing,t._step,t._scheduleFunction)};var i=this._currentState,n=this._targetState;return l(n,i),this._easing=u(i,e.easing||"linear"),this._filterArgs=[i,this._originalState,n,this._easing],d(this,"tweenCreated"),this},e.prototype.get=function(){return o({},this._currentState)},e.prototype.set=function(e){this._currentState=e},e.prototype.pause=function(){return this._pausedAtTime=y(),this._isPaused=!0,this},e.prototype.resume=function(){return this._isPaused&&(this._timestamp+=y()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},e.prototype.seek=function(e){e=Math.max(e,0);var t=y();return this._timestamp+e===0||(this._timestamp=t-e,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,s(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,t),this.pause())),this},e.prototype.stop=function(e){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=a,(n.cancelAnimationFrame||n.webkitCancelAnimationFrame||n.oCancelAnimationFrame||n.msCancelAnimationFrame||n.mozCancelRequestAnimationFrame||n.clearTimeout)(this._scheduleId),e&&(d(this,"beforeTween"),h(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),d(this,"afterTween"),d(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},e.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},e.prototype.setScheduleFunction=function(e){this._scheduleFunction=e},e.prototype.dispose=function(){var e;for(e in this)this.hasOwnProperty(e)&&delete this[e]},e.prototype.filter={},p=e.prototype.formula={linear:function(e){return e}},o(e,{now:y,each:r,tweenProps:h,tweenProp:m,applyFilter:d,shallowCopy:o,defaults:l,composeEasingObject:u}),"function"==typeof SHIFTY_DEBUG_NOW&&(n.timeoutHandler=s),"object"==typeof exports?module.exports=e:"function"==typeof define&&define.amdDISABLED?define(function(){return e}):void 0===n.NGTweenable&&(n.NGTweenable=e),e}();b.shallowCopy(b.prototype.formula,{easeInQuad:function(e){return Math.pow(e,2)},easeOutQuad:function(e){return-(Math.pow(e-1,2)-1)},easeInOutQuad:function(e){return(e/=.5)<1?.5*Math.pow(e,2):-.5*((e-=2)*e-2)},easeInCubic:function(e){return Math.pow(e,3)},easeOutCubic:function(e){return Math.pow(e-1,3)+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},easeInQuart:function(e){return Math.pow(e,4)},easeOutQuart:function(e){return-(Math.pow(e-1,4)-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeInQuint:function(e){return Math.pow(e,5)},easeOutQuint:function(e){return Math.pow(e-1,5)+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInBack:function(e){return e*e*(2.70158*e-1.70158)},easeOutBack:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},elastic:function(e){return-1*Math.pow(4,-8*e)*Math.sin((6*e-1)*(2*Math.PI)/2)+1},swingFromTo:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},swingFrom:function(e){return e*e*(2.70158*e-1.70158)},swingTo:function(e){return(e-=1)*e*(2.70158*e+1.70158)+1},bounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},bouncePast:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?2-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?2-(7.5625*(e-=2.25/2.75)*e+.9375):2-(7.5625*(e-=2.625/2.75)*e+.984375)},easeFromTo:function(e){return(e/=.5)<1?.5*Math.pow(e,4):-.5*((e-=2)*Math.pow(e,3)-2)},easeFrom:function(e){return Math.pow(e,4)},easeTo:function(e){return Math.pow(e,.25)}}),function(){function c(e,t,i,n,a,r){function u(e){return((h*e+m)*e+d)*e}function c(e){return 0<=e?e:0-e}var o,h=0,m=0,d=0,l=0,s=0,p=0;return h=1-(d=3*t)-(m=3*(n-t)-d),l=1-(p=3*i)-(s=3*(a-i)-p),o=function(e,t){var i,n,a,r,o,l,s;for(a=e,l=0;l<8;l++){if(c(r=u(a)-e)<t)return a;if(c(o=(3*h*(s=a)+2*m)*s+d)<1e-6)break;a-=r/o}if(n=1,(a=e)<(i=0))return i;if(n<a)return n;for(;i<n;){if(c((r=u(a))-e)<t)return a;r<e?i=a:n=a,a=.5*(n-i)+i}return a}(e,1/(200*r)),((l*o+s)*o+p)*o}b.setBezierFunction=function(e,t,i,n,a){var r,o,l,s,u=(r=t,o=i,l=n,s=a,function(e){return c(e,r,o,l,s,1)});return u.displayName=e,u.x1=t,u.y1=i,u.x2=n,u.y2=a,b.prototype.formula[e]=u},b.unsetBezierFunction=function(e){delete b.prototype.formula[e]}}(),(f=new b)._filterArgs=[],b.interpolate=function(e,t,i,n,a){var r=b.shallowCopy({},e),o=a||0,l=b.composeEasingObject(e,n||"linear");f.set({});var s=f._filterArgs;s.length=0,s[0]=r,s[1]=e,s[2]=t,s[3]=l,b.applyFilter(f,"tweenCreated"),b.applyFilter(f,"beforeTween");var u,c,h,m,d,p,g=(u=e,c=r,h=t,m=i,d=l,p=o,b.tweenProps(m,c,u,h,1,p,d));return b.applyFilter(f,"afterTween"),g},function(u){function a(i){u.each(i,function(e){var t=i[e];"string"==typeof t&&t.match(v)&&(i[e]=o(v,t,n))})}function n(e){var t,i=(3===(t=(t=e).replace(/#/,"")).length&&(t=(t=t.split(""))[0]+t[0]+t[1]+t[1]+t[2]+t[2]),O[0]=r(t.substr(0,2)),O[1]=r(t.substr(2,2)),O[2]=r(t.substr(4,2)),O);return"rgb("+i[0]+","+i[1]+","+i[2]+")"}function r(e){return parseInt(e,16)}function o(e,t,i){var n=t.match(e),a=t.replace(e,y);if(n)for(var r,o=n.length,l=0;l<o;l++)r=n.shift(),a=a.replace(y,i(r));return a}function l(e){for(var t=e.match(g),i=t.length,n=e.match(b)[0],a=0;a<i;a++)n+=parseInt(t[a],10)+",";return n.slice(0,-1)+")"}function s(r){var o={};return u.each(r,function(e){var t,i,n=r[e];if("string"==typeof n){var a=m(n);o[e]={formatString:(t=n,i=t.match(p),i?(1===i.length||t.charAt(0).match(d))&&i.unshift(""):i=["",""],i.join(y)),chunkNames:function(e,t){var i,n=[],a=e.length;for(i=0;i<a;i++)n.push("_"+t+"_"+i);return n}(a,e)}}}),o}function c(a,r){u.each(r,function(e){for(var t=m(a[e]),i=t.length,n=0;n<i;n++)a[r[e].chunkNames[n]]=+t[n];delete a[e]})}function h(n,a){u.each(a,function(e){var t=n[e],i=function(e,t){G.length=0;for(var i=t.length,n=0;n<i;n++)G.push(e[t[n]]);return G}(function(e,t){for(var i,n={},a=t.length,r=0;r<a;r++)i=t[r],n[i]=e[i],delete e[i];return n}(n,a[e].chunkNames),a[e].chunkNames);t=function(e,t){for(var i=e,n=t.length,a=0;a<n;a++)i=i.replace(y,+t[a].toFixed(4));return i}(a[e].formatString,i),n[e]=o(f,t,l)})}function m(e){return e.match(g)}var d=/(\d|\-|\.)/,p=/([^\-0-9\.]+)/g,g=/[0-9.\-]+/g,f=new RegExp("rgb\\("+g.source+/,\s*/.source+g.source+/,\s*/.source+g.source+"\\)","g"),b=/^.*\(/,v=/#([0-9]|[a-f]){3,6}/gi,y="VAL",O=[],G=[];u.prototype.filter.token={tweenCreated:function(e,t,i,n){a(e),a(t),a(i),this._tokenData=s(e)},beforeTween:function(e,t,i,n){var l,s;l=n,s=this._tokenData,u.each(s,function(e){var t,i=s[e].chunkNames,n=i.length,a=l[e];if("string"==typeof a){var r=a.split(" "),o=r[r.length-1];for(t=0;t<n;t++)l[i[t]]=r[t]||o}else for(t=0;t<n;t++)l[i[t]]=a;delete l[e]}),c(e,this._tokenData),c(t,this._tokenData),c(i,this._tokenData)},afterTween:function(e,t,i,n){var o,l;h(e,this._tokenData),h(t,this._tokenData),h(i,this._tokenData),o=n,l=this._tokenData,u.each(l,function(e){var t=l[e].chunkNames,i=t.length,n=o[t[0]];if("string"==typeof n){for(var a="",r=0;r<i;r++)a+=" "+o[t[r]],delete o[t[r]];o[e]=a.substr(1)}else o[e]=n})}}}(b)}.call(null),function(r,l,e,G){function s(e,t,i){return setTimeout(a(e,i),t)}function n(e,t,i){return!!Array.isArray(e)&&(o(e,i[t],i),!0)}function o(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==G)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function t(n,e,t){var a="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=r.console&&(r.console.warn||r.console.log);return i&&i.call(r.console,a,t),n.apply(this,arguments)}}function i(e,t,i){var n,a=t.prototype;(n=e.prototype=Object.create(a)).constructor=e,n._super=a,i&&Z(n,i)}function a(e,t){return function(){return e.apply(t,arguments)}}function u(e,t){return typeof e==ee?e.apply(t&&t[0]||G,t):e}function c(e,t){return e===G?t:e}function h(t,e,i){o(p(e),function(e){t.addEventListener(e,i,!1)})}function m(t,e,i){o(p(e),function(e){t.removeEventListener(e,i,!1)})}function w(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function d(e,t){return-1<e.indexOf(t)}function p(e){return e.trim().split(/\s+/g)}function g(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function f(e){return Array.prototype.slice.call(e,0)}function b(e,i,t){for(var n=[],a=[],r=0;r<e.length;){var o=i?e[r][i]:e[r];g(a,o)<0&&n.push(e[r]),a[r]=o,r++}return t&&(n=i?n.sort(function(e,t){return e[i]>t[i]}):n.sort()),n}function v(e,t){for(var i,n,a=t[0].toUpperCase()+t.slice(1),r=0;r<J.length;){if((n=(i=J[r])?i+a:t)in e)return n;r++}return G}function y(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||r}function O(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&i.handler(e)},this.init()}function I(e,t,i){var n=i.pointers.length,a=i.changedPointers.length,r=t&de&&n-a==0,o=t&(pe|ge)&&n-a==0;i.isFirst=!!r,i.isFinal=!!o,r&&(e.session={}),i.eventType=t,function(e,t){var i=e.session,n=t.pointers,a=n.length;i.firstInput||(i.firstInput=M(t)),1<a&&!i.firstMultiple?i.firstMultiple=M(t):1===a&&(i.firstMultiple=!1);var r=i.firstInput,o=i.firstMultiple,l=o?o.center:r.center,s=t.center=T(n);t.timeStamp=ne(),t.deltaTime=t.timeStamp-r.timeStamp,t.angle=C(l,s),t.distance=N(l,s),u=i,c=t,h=c.center,m=u.offsetDelta||{},d=u.prevDelta||{},p=u.prevInput||{},c.eventType!==de&&p.eventType!==pe||(d=u.prevDelta={x:p.deltaX||0,y:p.deltaY||0},m=u.offsetDelta={x:h.x,y:h.y}),c.deltaX=d.x+(h.x-m.x),c.deltaY=d.y+(h.y-m.y),t.offsetDirection=S(t.deltaX,t.deltaY);var u,c,h,m,d,p;var g=x(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=g.x,t.overallVelocityY=g.y,t.overallVelocity=ie(g.x)>ie(g.y)?g.x:g.y,t.scale=o?(v=o.pointers,y=n,N(y[0],y[1],Te)/N(v[0],v[1],Te)):1,t.rotation=o?(f=o.pointers,b=n,C(b[1],b[0],Te)+C(f[1],f[0],Te)):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,function(e,t){var i,n,a,r,o=e.lastInterval||t,l=t.timeStamp-o.timeStamp;if(t.eventType!=ge&&(me<l||o.velocity===G)){var s=t.deltaX-o.deltaX,u=t.deltaY-o.deltaY,c=x(l,s,u);n=c.x,a=c.y,i=ie(c.x)>ie(c.y)?c.x:c.y,r=S(s,u),e.lastInterval=t}else i=o.velocity,n=o.velocityX,a=o.velocityY,r=o.direction;t.velocity=i,t.velocityX=n,t.velocityY=a,t.direction=r}(i,t);var f,b;var v,y;var O=e.element;w(t.srcEvent.target,O)&&(O=t.srcEvent.target),t.target=O}(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function M(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:te(e.pointers[i].clientX),clientY:te(e.pointers[i].clientY)},i++;return{timeStamp:ne(),pointers:t,center:T(t),deltaX:e.deltaX,deltaY:e.deltaY}}function T(e){var t=e.length;if(1===t)return{x:te(e[0].clientX),y:te(e[0].clientY)};for(var i=0,n=0,a=0;a<t;)i+=e[a].clientX,n+=e[a].clientY,a++;return{x:te(i/t),y:te(n/t)}}function x(e,t,i){return{x:t/e||0,y:i/e||0}}function S(e,t){return e===t?fe:ie(e)>=ie(t)?e<0?be:ve:t<0?ye:Oe}function N(e,t,i){i||(i=Me);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return Math.sqrt(n*n+a*a)}function C(e,t,i){i||(i=Me);var n=t[i[0]]-e[i[0]],a=t[i[1]]-e[i[1]];return 180*Math.atan2(a,n)/Math.PI}function k(){this.evEl=Se,this.evWin=Ne,this.pressed=!1,O.apply(this,arguments)}function E(){this.evEl=Ee,this.evWin=Le,O.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function L(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,O.apply(this,arguments)}function D(){this.evTarget=Ae,this.targetIds={},O.apply(this,arguments)}function Y(){O.apply(this,arguments);var e=a(this.handler,this);this.touch=new D(this.manager,e),this.mouse=new k(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function A(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(i);-1<e&&n.splice(e,1)},_e)}}function _(e,t){this.manager=e,this.set(t)}function V(e){this.options=Z({},this.defaults,e||{}),this.id=oe++,this.manager=null,this.options.enable=c(this.options.enable,!0),this.state=He,this.simultaneous={},this.requireFail=[]}function $(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function P(e){return e==Oe?"down":e==ye?"up":e==be?"left":e==ve?"right":""}function F(e,t){var i=t.manager;return i?i.get(e):e}function R(){V.apply(this,arguments)}function B(){R.apply(this,arguments),this.pX=null,this.pY=null}function z(){R.apply(this,arguments)}function U(){V.apply(this,arguments),this._timer=null,this._input=null}function H(){R.apply(this,arguments)}function j(){R.apply(this,arguments)}function W(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Q(e,t){return(t=t||{}).recognizers=c(t.recognizers,Q.defaults.preset),new X(e,t)}function X(e,t){var i;this.options=Z({},Q.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((i=this).options.inputClass||(se?E:ue?D:le?Y:k))(i,I),this.touchAction=new _(this,this.options.touchAction),q(this,!0),o(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function q(i,n){var a,r=i.element;r.style&&(o(i.options.cssProps,function(e,t){a=v(r.style,t),n?(i.oldCssProps[a]=r.style[a],r.style[a]=e):r.style[a]=i.oldCssProps[a]||""}),n||(i.oldCssProps={}))}var Z,J=["","webkit","Moz","MS","ms","o"],K=l.createElement("div"),ee="function",te=Math.round,ie=Math.abs,ne=Date.now;Z="function"!=typeof Object.assign?function(e){if(e===G||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==G&&null!==n)for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])}return t}:Object.assign;var ae=t(function(e,t,i){for(var n=Object.keys(t),a=0;a<n.length;)(!i||i&&e[n[a]]===G)&&(e[n[a]]=t[n[a]]),a++;return e},"extend","Use `assign`."),re=t(function(e,t){return ae(e,t,!0)},"merge","Use `assign`."),oe=1,le="ontouchstart"in r,se=!1,ue=le&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ce="touch",he="mouse",me=25,de=1,pe=4,ge=8,fe=1,be=2,ve=4,ye=8,Oe=16,Ge=be|ve,we=ye|Oe,Ie=Ge|we,Me=["x","y"],Te=["clientX","clientY"];O.prototype={handler:function(){},init:function(){this.evEl&&h(this.element,this.evEl,this.domHandler),this.evTarget&&h(this.target,this.evTarget,this.domHandler),this.evWin&&h(y(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&m(this.element,this.evEl,this.domHandler),this.evTarget&&m(this.target,this.evTarget,this.domHandler),this.evWin&&m(y(this.element),this.evWin,this.domHandler)}};var xe={mousedown:de,mousemove:2,mouseup:pe},Se="mousedown",Ne="mousemove mouseup";i(k,O,{handler:function(e){var t=xe[e.type];t&de&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=pe),this.pressed&&(t&pe&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:he,srcEvent:e}))}});var Ce={pointerdown:de,pointermove:2,pointerup:pe,pointercancel:ge,pointerout:ge},ke={2:ce,3:"pen",4:he,5:"kinect"},Ee="pointerdown",Le="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Ee="MSPointerDown",Le="MSPointerMove MSPointerUp MSPointerCancel"),i(E,O,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),a=Ce[n],r=ke[e.pointerType]||e.pointerType,o=r==ce,l=g(t,e.pointerId,"pointerId");a&de&&(0===e.button||o)?l<0&&(t.push(e),l=t.length-1):a&(pe|ge)&&(i=!0),l<0||(t[l]=e,this.callback(this.manager,a,{pointers:t,changedPointers:[e],pointerType:r,srcEvent:e}),i&&t.splice(l,1))}});var De={touchstart:de,touchmove:2,touchend:pe,touchcancel:ge};i(L,O,{handler:function(e){var t=De[e.type];if(t===de&&(this.started=!0),this.started){var i=function(e,t){var i=f(e.touches),n=f(e.changedTouches);return t&(pe|ge)&&(i=b(i.concat(n),"identifier",!0)),[i,n]}.call(this,e,t);t&(pe|ge)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ce,srcEvent:e})}}});var Ye={touchstart:de,touchmove:2,touchend:pe,touchcancel:ge},Ae="touchstart touchmove touchend touchcancel";i(D,O,{handler:function(e){var t=Ye[e.type],i=function(e,t){var i=f(e.touches),n=this.targetIds;if(t&(2|de)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var a,r,o=f(e.changedTouches),l=[],s=this.target;if(r=i.filter(function(e){return w(e.target,s)}),t===de)for(a=0;a<r.length;)n[r[a].identifier]=!0,a++;for(a=0;a<o.length;)n[o[a].identifier]&&l.push(o[a]),t&(pe|ge)&&delete n[o[a].identifier],a++;return l.length?[b(r.concat(l),"identifier",!0),l]:void 0}.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:ce,srcEvent:e})}});var _e=2500;i(Y,O,{handler:function(e,t,i){var n=i.pointerType==ce,a=i.pointerType==he;if(!(a&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)(function(e,t){e&de?(this.primaryTouch=t.changedPointers[0].identifier,A.call(this,t)):e&(pe|ge)&&A.call(this,t)}).call(this,t,i);else if(a&&function(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],r=Math.abs(t-a.x),o=Math.abs(i-a.y);if(r<=25&&o<=25)return!0}return!1}.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ve=v(K.style,"touchAction"),$e=Ve!==G,Pe="compute",Fe="manipulation",Re="none",Be="pan-x",ze="pan-y",Ue=function(){if(!$e)return!1;var t={},i=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!i||r.CSS.supports("touch-action",e)}),t}();_.prototype={set:function(e){e==Pe&&(e=this.compute()),$e&&this.manager.element.style&&Ue[e]&&(this.manager.element.style[Ve]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return o(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),function(e){if(d(e,Re))return Re;var t=d(e,Be),i=d(e,ze);return t&&i?Re:t||i?t?Be:ze:d(e,Fe)?Fe:"auto"}(t.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,a=d(n,Re)&&!Ue[Re],r=d(n,ze)&&!Ue[ze],o=d(n,Be)&&!Ue[Be];if(a){var l=1===e.pointers.length,s=e.distance<2,u=e.deltaTime<250;if(l&&s&&u)return}return o&&r?void 0:a||r&&i&Ge||o&&i&we?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var He=1;V.prototype={defaults:{},set:function(e){return Z(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(n(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=F(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return n(e,"dropRecognizeWith",this)||(e=F(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(n(e,"requireFailure",this))return this;var t=this.requireFail;return-1===g(t,e=F(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(n(e,"dropRequireFailure",this))return this;e=F(e,this);var t=g(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<8&&e(i.options.event+$(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),8<=n&&e(i.options.event+$(n))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=32},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(32|He)))return!1;e++}return!0},recognize:function(e){var t=Z({},e);if(!u(this.options.enable,[this,t]))return this.reset(),void(this.state=32);56&this.state&&(this.state=He),this.state=this.process(t),30&this.state&&this.tryEmit(t)},process:function(e){},getTouchAction:function(){},reset:function(){}},i(R,V,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=6&t,a=this.attrTest(e);return n&&(i&ge||!a)?16|t:n||a?i&pe?8|t:2&t?4|t:2:32}}),i(B,R,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ie},getTouchAction:function(){var e=this.options.direction,t=[];return e&Ge&&t.push(ze),e&we&&t.push(Be),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,a=e.direction,r=e.deltaX,o=e.deltaY;return a&t.direction||(t.direction&Ge?(a=0===r?fe:r<0?be:ve,i=r!=this.pX,n=Math.abs(e.deltaX)):(a=0===o?fe:o<0?ye:Oe,i=o!=this.pY,n=Math.abs(e.deltaY))),e.direction=a,i&&n>t.threshold&&a&t.direction},attrTest:function(e){return R.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=P(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),i(z,R,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),i(U,V,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,a=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(pe|ge)&&!a)this.reset();else if(e.eventType&de)this.reset(),this._timer=s(function(){this.state=8,this.tryEmit()},t.time,this);else if(e.eventType&pe)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&e.eventType&pe?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ne(),this.manager.emit(this.options.event,this._input)))}}),i(H,R,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Re]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),i(j,R,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ge|we,pointers:1},getTouchAction:function(){return B.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(Ge|we)?t=e.overallVelocity:i&Ge?t=e.overallVelocityX:i&we&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ie(t)>this.options.velocity&&e.eventType&pe},emit:function(e){var t=P(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),i(W,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Fe]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,a=e.deltaTime<t.time;if(this.reset(),e.eventType&de&&0===this.count)return this.failTimeout();if(n&&a&&i){if(e.eventType!=pe)return this.failTimeout();var r=!this.pTime||e.timeStamp-this.pTime<t.interval,o=!this.pCenter||N(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,o&&r?this.count+=1:this.count=1,this._input=e,0==this.count%t.taps)return this.hasRequireFailures()?(this._timer=s(function(){this.state=8,this.tryEmit()},t.interval,this),2):8}return 32},failTimeout:function(){return this._timer=s(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Q.VERSION="2.0.7",Q.defaults={domEvents:!1,touchAction:Pe,enable:!0,inputTarget:null,inputClass:null,preset:[[H,{enable:!1}],[z,{enable:!1},["rotate"]],[j,{direction:Ge}],[B,{direction:Ge},["swipe"]],[W],[W,{event:"doubletap",taps:2},["tap"]],[U]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};X.prototype={set:function(e){return Z(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,a=t.curRecognizer;(!a||a&&8&a.state)&&(a=t.curRecognizer=null);for(var r=0;r<n.length;)i=n[r],2===t.stopped||a&&i!=a&&!i.canRecognizeWith(a)?i.reset():i.recognize(e),!a&&14&i.state&&(a=t.curRecognizer=i),r++}},get:function(e){if(e instanceof V)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(n(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){if(n(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=g(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==G&&t!==G){var i=this.handlers;return o(p(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this}},off:function(e,t){if(e!==G){var i=this.handlers;return o(p(e),function(e){t?i[e]&&i[e].splice(g(i[e],t),1):delete i[e]}),this}},emit:function(e,t){var i,n,a;this.options.domEvents&&(i=e,n=t,(a=l.createEvent("Event")).initEvent(i,!0,!0),(a.gesture=n).target.dispatchEvent(a));var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var o=0;o<r.length;)r[o](t),o++}},destroy:function(){this.element&&q(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Z(Q,{INPUT_START:de,INPUT_MOVE:2,INPUT_END:pe,INPUT_CANCEL:ge,STATE_POSSIBLE:He,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:fe,DIRECTION_LEFT:be,DIRECTION_RIGHT:ve,DIRECTION_UP:ye,DIRECTION_DOWN:Oe,DIRECTION_HORIZONTAL:Ge,DIRECTION_VERTICAL:we,DIRECTION_ALL:Ie,Manager:X,Input:O,TouchAction:_,TouchInput:D,MouseInput:k,PointerEventInput:E,TouchMouseInput:Y,SingleTouchInput:L,Recognizer:V,AttrRecognizer:R,Tap:W,Pan:B,Swipe:j,Pinch:z,Rotate:H,Press:U,on:h,off:m,each:o,merge:re,extend:ae,assign:Z,inherit:i,bindFn:a,prefixed:v}),(void 0!==r?r:"undefined"!=typeof self?self:{}).NGHammer=Q,"function"==typeof define&&define.amdDISABLED?define(function(){return Q}):"undefined"!=typeof module&&module.exports?module.exports=Q:r.NGHammer=Q}(window,document)}),function(){"use strict";jQuery(document).ready(function(){for(var e=document.querySelectorAll("[data-nanogallery2]"),t=0;t<e.length;t++)jQuery(e[t]).nanogallery2(jQuery(e[t]).data("nanogallery2"))})}.call(null),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],e):e("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(e){jQuery.nanogallery2.data_nano_photos_provider2=function(e,t){function f(e){return decodeURIComponent(e)}var b=e,h=NGY2Tools.PreloaderDisplay.bind(b),m=NGY2Tools.NanoAlert,v=(NGY2Tools.GetImageTitleFromURL.bind(b),NGY2Tools.FilterAlbumName.bind(b)),d=NGY2Tools.AlbumPostProcess.bind(b);switch(t){case"GetHiddenAlbums":break;case"AlbumGetContent":!function(a,r,o,l){var s=NGY2Item.GetIdx(b,a);""==e.I[s].title&&(e.I[s].title=f(a));var u=b.O.dataProvider+"?albumID="+a;u+="&hxs="+b.tn.settings.getH(b.GOM.curNavLevel,"xs"),u+="&wxs="+b.tn.settings.getW(b.GOM.curNavLevel,"xs"),u+="&hsm="+b.tn.settings.getH(b.GOM.curNavLevel,"sm"),u+="&wsm="+b.tn.settings.getW(b.GOM.curNavLevel,"sm"),u+="&hme="+b.tn.settings.getH(b.GOM.curNavLevel,"me"),u+="&wme="+b.tn.settings.getW(b.GOM.curNavLevel,"me"),u+="&hla="+b.tn.settings.getH(b.GOM.curNavLevel,"la"),u+="&wla="+b.tn.settings.getW(b.GOM.curNavLevel,"la"),u+="&hxl="+b.tn.settings.getH(b.GOM.curNavLevel,"xl"),u+="&wxl="+b.tn.settings.getW(b.GOM.curNavLevel,"xl"),h(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var c=setTimeout(function(){h(!1),m(b,"Could not retrieve nanoPhotosProvider2 data (timeout).")},6e4);b.O.debugMode&&console.log("nanoPhotosProvider2 URL: "+u),jQuery.getJSON(u,function(e,t,i){var n,g;clearTimeout(c),h(!1),n=s,g=e,b.O.debugMode&&(console.log("nanoPhotosProvider2 parse data:"),console.dir(g)),jQuery.each(g.album_content,function(e,t){var i=b.O.dataProvider.substring(0,b.O.dataProvider.indexOf("nano_photos_provider2.php")),n=i+f(t.src),a=t.title,r=t.description.split("_").join(" "),o="image";void 0!==t.kind&&0<t.kind.length&&(o=t.kind);var l=t.ID;if("album"==o&&v(a,l),"image"==o||"album"==o&&v(a,l)){var s=0;void 0!==t.albumID&&(s=t.albumID);var u=void 0===t.tags?"":t.tags,c=NGY2Item.New(b,a.split("_").join(" "),r,l,s,o,u);c.setMediaURL(n,"img"),void 0!==t.dcGIF&&(c.imageDominantColors="data:image/gif;base64,"+t.dcGIF),void 0!==t.dc&&""!==t.dc&&(c.imageDominantColor=t.dc),"album"==o?c.numberItems=t.cnt:(c.imageWidth=t.imgWidth,c.imageHeight=t.imgHeight),""!=t.originalURL&&(c.downloadURL=i+f(t.originalURL));for(var h=b.GOM.curNavLevel,m=["xs","sm","me","la","xl"],d=0;d<m.length;d++)c.thumbs.url[h][m[d]]=i+f(t.t_url[d]),c.thumbs.width[h][m[d]]=parseInt(t.t_width[d]),c.thumbs.height[h][m[d]]=parseInt(t.t_height[d]);var p=b.O.fnProcessData;null!==p&&("function"==typeof p?p(c,b.O.dataProvider,g):window[p](c,b.O.dataProvider,g))}}),b.I[n].contentIsLoaded=!0,"ok"==e.nano_status?(d(a),null!=r&&r(o,l,null)):m(b,"Could not retrieve nanoPhotosProvider2 data. Error: "+e.nano_status+" - "+e.nano_message)}).fail(function(e,t,i){clearTimeout(c),h(!1);var n="";for(var a in e)n+=a+"="+e[a]+"<br>";m(b,"Could not retrieve nanoPhotosProvider2 data. Error: "+t+", "+i+" "+n+"<br><br>URL:"+u)})}catch(e){m(b,"Could not retrieve nanoPhotosProvider2 data. Error: "+e)}}(arguments[2],arguments[3],arguments[4],arguments[5])}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],e):e("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(e){jQuery.nanogallery2.data_google2=function(e,t){function a(i,u){jQuery(document).queue("GoogleAlbumWithAuthkey",function(){var e=i.indexOf("&authkey=");-1==e&&(e=i.indexOf("?authkey="));var o=i.substring(0,e),l=i.substring(e);-1==l.indexOf("Gv1sRg")&&(l="&authkey=Gv1sRg"+l.substring(9));var t=Google.url()+"user/"+g.O.userID+"/albumid/"+o+"?alt=json&kind=photo"+l+"&max-results=1&thumbsize="+g.picasa.thumbSizes+"&imgmax=d";f(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var s=setTimeout(function(){f(!1),b(g,"Could not retrieve AJAX data...")},6e4);jQuery.getJSON(t,function(e,t,i){clearTimeout(s),f(!1);var n=e.feed.title.$t,a=e.feed.entry[0],r=NGY2Item.New(g,n,"",o,"0","album","");r.authkey=l,r.thumbs=p("l1",0,r.thumbs,a,"album"),r.thumbs=p("lN",5,r.thumbs,a,"album"),"function"==typeof g.O.fnProcessData&&g.O.fnProcessData(r,"google",a),r.numberItems=e.feed.gphoto$numphotos.$t,0<jQuery(document).queue("GoogleAlbumWithAuthkey").length?jQuery(document).dequeue("GoogleAlbumWithAuthkey"):u()}).fail(function(e,t,i){clearTimeout(s),f(!1),b(g,"Could not retrieve ajax data (google): "+t+", "+i),jQuery(document).dequeue("GoogleAlbumWithAuthkey")})})}function p(e,t,i,n,a){for(var r=["xs","sm","me","la","xl"],o=0;o<r.length;o++)if(i.url[e][r[o]]=n.media$group.media$thumbnail[t+o].url,"image"==a){i.width[e][r[o]]=n.media$group.media$thumbnail[t+o].width,i.height[e][r[o]]=n.media$group.media$thumbnail[t+o].height;var l=n.media$group.media$thumbnail[t+o].width,s=n.media$group.media$thumbnail[t+o].height;if("auto"==g.tn.settings.width[e][r[o]]&&s<g.tn.settings.height[e][r[o]]){var u=l/s;i.width[e][r[o]]=l*u,i.height[e][r[o]]=s*u,h=(h=i.url[e][r[o]].substring(0,i.url[e][r[o]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[e][r[o]]=h+"h"+g.tn.settings.height[e][r[o]]+"/"}if("auto"==g.tn.settings.height[e][r[o]]&&l<g.tn.settings.width[e][r[o]]){var c=s/l;i.height[e][r[o]]=s*c,i.width[e][r[o]]=l*c,h=(h=i.url[e][r[o]].substring(0,i.url[e][r[o]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[e][r[o]]=h+"w"+g.tn.settings.width[e][r[o]]+"/"}}else{var h;if("auto"!=g.tn.settings.width[e][r[o]]);else h=(h=i.url[e][r[o]].substring(0,i.url[e][r[o]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[e][r[o]]=h+"h"+g.tn.settings.height[e][r[o]]+"/";if("auto"!=g.tn.settings.height[e][r[o]]);else h=(h=i.url[e][r[o]].substring(0,i.url[e][r[o]].lastIndexOf("/"))).substring(0,h.lastIndexOf("/"))+"/",i.url[e][r[o]]=h+"w"+g.tn.settings.width[e][r[o]]+"/"}return i}function n(e,t,i,n,a){var r=Math.ceil(i*g.tn.scale)+a;return isNaN(t)?r=Math.ceil(i*g.tn.scale)+a:isNaN(i)?r=Math.ceil(t*g.tn.scale)+n:i<t&&(r=Math.ceil(t*g.tn.scale)+n),0<e.length&&(e+=","),e+r}var g=e;Google={url:function(){return"https://photos.googleapis.com/data/feed/api/"},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "};var f=NGY2Tools.PreloaderDisplay.bind(g),b=NGY2Tools.NanoAlert,v=NGY2Tools.GetImageTitleFromURL.bind(g),y=NGY2Tools.FilterAlbumName.bind(g),O=NGY2Tools.AlbumPostProcess.bind(g);switch(t){case"GetHiddenAlbums":!function(e,t){for(var i=[].concat(e),n=0;n<i.length;n++)a(i[n],t);jQuery(document).dequeue("GoogleAlbumWithAuthkey")}(arguments[2],arguments[3]);break;case"AlbumGetContent":!function(t,i,n,a){var e=Google.url()+"user/"+g.O.userID,o="image",r=NGY2Item.GetIdx(g,t),l="";0<g.galleryMaxItems.Get()&&(l="&max-results="+g.galleryMaxItems.Get());var s="";if("undefined"!=typeof ngy2_pwa_at&&(s=ngy2_pwa_at),0==t)""!=s?e+="?alt=json&v=3&kind=album&thumbsize="+g.picasa.thumbSizes+l+"&rnd="+(new Date).getTime()+"&access_token="+s:null==g.O.google2URL||""==g.O.google2URL?e+="?alt=json&v=3&kind=album&thumbsize="+g.picasa.thumbSizes+l+"&rnd="+(new Date).getTime():e=g.O.google2URL+"?nguserid="+g.O.userID+"&alt=json&v=3&kind=album&thumbsize="+g.picasa.thumbSizes+l+"&rnd="+(new Date).getTime(),o="album";else{var u="";""!=g.I[r].authkey&&(u=g.I[r].authkey),""!=s?e+="/albumid/"+t+"?alt=json&kind=photo&thumbsize="+g.picasa.thumbSizes+l+u+"&imgmax=d&access_token="+s:null==g.O.google2URL||""==g.O.google2URL?e+="/albumid/"+t+"?alt=json&v=3&kind=photo&thumbsize="+g.picasa.thumbSizes+l+"&rnd="+(new Date).getTime():e=g.O.google2URL+"?nguserid="+g.O.userID+"&ngalbumid="+t+"&alt=json&v=3&kind=photo&thumbsize="+g.picasa.thumbSizes+l+u+"&imgmax=d"}g.O.debugMode&&console.log("Google Photos URL: "+e),f(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;try{var c=setTimeout(function(){f(!1),b("Could not retrieve AJAX data...")},6e4),h=function(e){clearTimeout(c),f(!1),function(e,h,t){g.O.debugMode&&(console.log("Google Photos data:"),console.dir(t));var m=g.I[e].GetID();""==g.I[e].title&&(g.I[e].title=t.feed.title.$t),jQuery.each(t.feed.entry,function(e,t){var i=t.media$group.media$content[0].url,n=t.title.$t,a="",r=t.media$group.media$description.$t;"image"==h&&(a=n,""!=r&&(n=r,r=""),""!=g.O.thumbnailLabel.get("title")&&(n=v(unescape(unescape(unescape(unescape(i)))))));var o=t.gphoto$id.$t;if("album"!=h||y(n,o)){var l=NGY2Item.New(g,n,r,o,m,h,""),s="";if("image"==h){if(s=i,!g.O.viewerZoom&&null!=g.O.viewerZoom){var u=i.substring(0,i.lastIndexOf("/"));u=u.substring(0,u.lastIndexOf("/"))+"/",s=window.screen.width>window.screen.height?u+"w"+window.screen.width+"/"+a:u+"h"+window.screen.height+"/"+a}l.setMediaURL(s,"img"),void 0!==t.gphoto$width&&(l.imageWidth=parseInt(t.gphoto$width.$t)),void 0!==t.gphoto$height&&(l.imageHeight=parseInt(t.gphoto$height.$t)),null!=t.media$group&&null!=t.media$group.media$credit&&0<t.media$group.media$credit.length&&(l.author=t.media$group.media$credit[0].$t),void 0!==t.exif$tags&&(null!=t.exif$tags.exif$exposure&&(l.exif.exposure=t.exif$tags.exif$exposure.$t),null!=t.exif$tags.exif$flash&&"true"==t.exif$tags.exif$flash.$t&&(l.exif.flash="flash"),null!=t.exif$tags.exif$focallength&&(l.exif.focallength=t.exif$tags.exif$focallength.$t),null!=t.exif$tags.exif$fstop&&(l.exif.fstop=t.exif$tags.exif$fstop.$t),null!=t.exif$tags.exif$iso&&(l.exif.iso=t.exif$tags.exif$iso.$t),null!=t.exif$tags.exif$model&&(l.exif.model=t.exif$tags.exif$model.$t),null!=t.gphoto$location&&(l.exif.location=t.gphoto$location))}else l.author=t.author[0].name.$t,l.numberItems=t.gphoto$numphotos.$t;l.thumbs=p("l1",0,l.thumbs,t,h),l.thumbs=p("lN",5,l.thumbs,t,h);var c=g.O.fnProcessData;null!==c&&("function"==typeof c?c(l,"google2",t):window[c](l,"google2",t))}}),g.I[e].contentIsLoaded=!0}(r,o,e),O(t),null!=i&&i(n,a,null)},m=null,d=function(r,e){jQuery.getJSON(r+"&start-index="+e+"&callback=?",function(e){if("error"==e.nano_status)return clearTimeout(c),f(!1),void b(g,"Could not retrieve Google data. Error: "+e.nano_message);null===m?m=e:m.feed.entry=m.feed.entry.concat(e.feed.entry);var t=e.feed.openSearch$startIndex.$t+e.feed.openSearch$itemsPerPage.$t;("image"==o?void 0===e.feed.gphoto$numphotos?e.feed.openSearch$totalResults.$t:e.feed.gphoto$numphotos.$t:e.feed.openSearch$totalResults.$t)<=t||t>=g.galleryMaxItems.Get()?h(m):d(r,t)}).fail(function(e,t,i){clearTimeout(c),f(!1);var n="";for(var a in e)n+=a+"="+e[a]+"<br>";b(g,"Could not retrieve Google data. Error: "+t+", "+i+" "+n+"<br><br>URL:"+r)})};d(e,1)}catch(e){b(g,"Could not retrieve Google data. Error: "+e)}}(arguments[2],arguments[3],arguments[4],arguments[5]);break;case"Init":!function(){g.picasa={thumbSizes:""};var e=1;!0===g.tn.opt.l1.crop&&(e=g.O.thumbnailCropScaleFactor);var t=1;!0===g.tn.opt.lN.crop&&(t=g.O.thumbnailCropScaleFactor);var i=g.tn.settings;g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.l1.xs*e*i.mosaic.l1Factor.w.xs,i.height.l1.xs*e*i.mosaic.l1Factor.h.xs,i.width.l1.xsc,i.height.l1.xsc),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.l1.sm*e*i.mosaic.l1Factor.w.sm,i.height.l1.sm*e*i.mosaic.l1Factor.h.sm,i.width.l1.smc,i.height.l1.smc),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.l1.me*e*i.mosaic.l1Factor.w.me,i.height.l1.me*e*i.mosaic.l1Factor.h.me,i.width.l1.mec,i.height.l1.mec),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.l1.la*e*i.mosaic.l1Factor.w.la,i.height.l1.la*e*i.mosaic.l1Factor.h.la,i.width.l1.lac,i.height.l1.lac),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.l1.xl*e*i.mosaic.l1Factor.w.xl,i.height.l1.xl*e*i.mosaic.l1Factor.h.xl,i.width.l1.xlc,i.height.l1.xlc),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.lN.xs*t*i.mosaic.lNFactor.w.xs,i.height.lN.xs*t*i.mosaic.lNFactor.h.xs,i.width.lN.xsc,i.height.lN.xsc),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.lN.sm*t*i.mosaic.lNFactor.w.sm,i.height.lN.sm*t*i.mosaic.lNFactor.h.sm,i.width.lN.smc,i.height.lN.smc),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.lN.me*t*i.mosaic.lNFactor.w.me,i.height.lN.me*t*i.mosaic.lNFactor.h.me,i.width.lN.mec,i.height.lN.mec),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.lN.la*t*i.mosaic.lNFactor.w.la,i.height.lN.la*t*i.mosaic.lNFactor.h.la,i.width.lN.lac,i.height.lN.lac),g.picasa.thumbSizes=n(g.picasa.thumbSizes,i.width.lN.xl*t*i.mosaic.lNFactor.w.xl,i.height.lN.xl*t*i.mosaic.lNFactor.h.xl,i.width.lN.xlc,i.height.lN.xlc)}()}}}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery","nanogallery2"],e):e("object"==typeof exports&&"function"==typeof require?require(["jquery","nanogallery2"]):jQuery)}(function(e){jQuery.nanogallery2.data_flickr=function(e,t){function f(e,t,i){var n=1;!0===b.tn.opt[i].crop&&(n=b.O.thumbnailCropScaleFactor);for(var a=["xs","sm","me","la","xl"],r=0;r<a.length;r++)if("auto"==b.tn.settings.width[i][a[r]]||""==b.tn.settings.width[i][a[r]]){var o=u(l="height_",s=Math.ceil(b.tn.settings.height[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].h[a[r]]),t);e.url[i][a[r]]=o.url,e.width[i][a[r]]=o.width,e.height[i][a[r]]=o.height}else if("auto"==b.tn.settings.height[i][a[r]]||""==b.tn.settings.height[i][a[r]]){o=u(l="width_",s=Math.ceil(b.tn.settings.width[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].w[a[r]]),t);e.url[i][a[r]]=o.url,e.width[i][a[r]]=o.width,e.height[i][a[r]]=o.height}else{var l="height_",s=Math.ceil(b.tn.settings.height[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].h[a[r]]);b.tn.settings.width[i][a[r]]>b.tn.settings.height[i][a[r]]&&(l="width_",s=Math.ceil(b.tn.settings.width[i][a[r]]*b.tn.scale*n*b.tn.settings.mosaic[i+"Factor"].w[a[r]]));o=u(l,s,t);e.url[i][a[r]]=o.url,e.width[i][a[r]]=o.width,e.height[i][a[r]]=o.height}return e}function u(e,t,i){for(var n={url:"",width:0,height:0},a=0,r=0;r<v.thumbAvailableSizes.length;r++){var o=i[e+v.photoAvailableSizesStr[r]];if(null!=o&&(a=r,t<=o))break}var l=v.photoAvailableSizesStr[a];return n.url=i["url_"+l],n.width=parseInt(i["width_"+l]),n.height=parseInt(i["height_"+l]),n}var b=e,v={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"               sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"0",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048,1e4),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k","o"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"},p=NGY2Tools.PreloaderDisplay.bind(b),g=NGY2Tools.NanoAlert,y=NGY2Tools.GetImageTitleFromURL.bind(b),O=NGY2Tools.FilterAlbumName.bind(b),G=NGY2Tools.AlbumPostProcess.bind(b);switch(t){case"GetHiddenAlbums":arguments[2];var i=arguments[3];i();break;case"AlbumGetContent":!function(a,r,o,l){var s=NGY2Item.GetIdx(b,a),e="",u="image";"NONE"==b.O.photoset.toUpperCase()||"NONE"==b.O.album.toUpperCase()?e=v.url()+"?&method=flickr.people.getPublicPhotos&api_key="+v.ApiKey+"&user_id="+b.O.userID+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json":0==b.I[s].GetID()?(e=v.url()+"?&method=flickr.photosets.getList&api_key="+v.ApiKey+"&user_id="+b.O.userID+"&per_page=500&primary_photo_extras=tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",u="album"):e=v.url()+"?&method=flickr.photosets.getPhotos&api_key="+v.ApiKey+"&photoset_id="+b.I[s].GetID()+"&extras=description,views,tags,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json",b.O.debugMode&&console.log("Flickr URL: "+e),p(!0),jQuery.ajaxSetup({cache:!1}),jQuery.support.cors=!0;var c=setTimeout(function(){p(!1),g(b,"Could not retrieve AJAX data...")},6e4),m=[],h=function(){var e,g,t,i,h,n;clearTimeout(c),p(!1),"album"==u?(i=s,h=a,n=m,b.O.debugMode&&(console.log("Flickr parse list of albums:"),console.dir(n)),jQuery.each(n,function(e,t){var i=t.title._content;if(0==t.visibility_can_see_set)return!0;if(O(i,t.id)){var n=t.id,a=null!=t.description._content?t.description._content:"",r={};for(var o in t.primary_photo_extras)r[o]=t.primary_photo_extras[o];var l="";void 0!==t.primary_photo_extras&&void 0!==t.primary_photo_extras.tags&&(l=t.primary_photo_extras.tags);var s=NGY2Item.New(b,i,a,n,h,"album",l);s.numberItems=t.photos,s.thumbSizes=r;var u={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};u=f(u=f(u,t.primary_photo_extras,"l1"),t.primary_photo_extras,"lN"),s.thumbs=u;var c=b.O.fnProcessData;null!==c&&("function"==typeof c?c(s,"flickr",t):window[c](s,"flickr",t))}}),b.I[i].contentIsLoaded=!0):(e=s,g=a,t=m,b.O.debugMode&&(console.log("Flickr parse photos:"),console.dir(t)),jQuery.each(t,function(e,t){var i=t.id,n=t.url_sq,a=t.title;""!=b.O.thumbnailLabel.get("title")&&(a=y(n));var r=t.description._content,o=75,l=75,s=v.photoAvailableSizesStr.length-1;for(b.O.flickrSkipOriginal&&s--,e=s;0<=e;e--)if(null!=t["url_"+v.photoAvailableSizesStr[e]]){n=t["url_"+v.photoAvailableSizesStr[e]],o=parseInt(t["width_"+v.photoAvailableSizesStr[e]]),l=parseInt(t["height_"+v.photoAvailableSizesStr[e]]);break}var u={};for(var c in t)0!=c.indexOf("height_")&&0!=c.indexOf("width_")&&0!=c.indexOf("url_")||(u[c]=t[c]);var h=void 0!==t.tags?t.tags:"",m=NGY2Item.New(b,a,r,i,g,"image",h);m.setMediaURL(n,"img"),m.imageWidth=o,m.imageHeight=l;var d={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};d=f(d=f(d,t,"l1"),t,"lN"),m.thumbs=d;var p=b.O.fnProcessData;null!==p&&("function"==typeof p?p(m,"flickr",t):window[p](m,"flickr",t))}),b.I[e].contentIsLoaded=!0),G(a),null!=r&&r(o,l,null)},d=function(a,r){jQuery.getJSON(a+"&page="+r+"&jsoncallback=?",function(e,t,i){var n=0;if("album"==u){if(void 0!==e.stat&&"fail"===e.stat)return g(b,"Could not retrieve Flickr album list: "+e.message+" (code: "+e.code+")."),!1;m=m.concat(e.photosets.photoset),n=e.photosets.pages}else if("NONE"==b.O.photoset.toUpperCase()||"NONE"==b.O.album.toUpperCase())m=m.concat(e.photos.photo),n=e.photos.pages;else{if(void 0!==e.stat&&"fail"===e.stat)return g(b,"Could not retrieve Flickr album: "+e.message+" (code: "+e.code+")."),!1;""==b.I[s].title&&(b.I[s].title=e.photoset.title),m=m.concat(e.photoset.photo),n=e.photoset.pages}r<n?d(a,r+1):h()}).fail(function(e,t,i){clearTimeout(c),p(!1),g(b,"Could not retrieve Flickr ajax data: "+t+", "+i)})};d(e,1)}(arguments[2],i=arguments[3],arguments[4],arguments[5])}}});